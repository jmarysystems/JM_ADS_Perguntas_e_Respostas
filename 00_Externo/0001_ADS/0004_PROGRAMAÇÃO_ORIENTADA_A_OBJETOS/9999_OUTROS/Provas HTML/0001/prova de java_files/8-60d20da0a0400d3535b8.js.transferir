(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+2T6":function(e,t,n){},"+49V":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("2yjE"));n("Udwz"),t.QuestionPoolQuestionHeaderEditMode=function(e){var t=e.localize,n=e.questionSourceName;return s.default.createElement("div",{className:"question-pool-question-header question-pool-question-header--edit"},s.default.createElement(o.default,a.__assign({},e,{showPointsInfo:!1})),s.default.createElement("div",{className:"question-pool-question-header__question-source"},t.translate("questionPools.questionHeader.questionSource",{questionSourceName:n})))},t.QuestionPoolQuestionHeaderEditMode.propTypes={localize:i.default.object.isRequired,questionSourceName:i.default.string.isRequired},t.default=t.QuestionPoolQuestionHeaderEditMode},"+4s7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K").__importStar(n("ERkP")),s=n("np6O"),i=n("MC1S");t.default=function(e){var t=e.tooltip,n=e.activeTooltip,o=e.onClick,r=e.analyticsId,l=function(){var e=a.useState(!1),t=e[0],n=e[1];return[t,a.useCallback((function(){n(!0),setTimeout((function(){return n(!1)}),3e3)}),[])]}(),u=l[0],d=l[1],c=a.useCallback((function(e){d(),o(e)}),[d,o]);return a.createElement(i.TooltipHost,{content:u?n:t},a.createElement(s.AnalyticsIconButton,{onClick:c,analyticsId:r,"aria-label":t},e.children))}},"/Lwm":function(e,t,n){},"/R3Y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="...";t.truncateString=function(e,t){return null==e||0===e.length?e:""+e.substr(0,t)+a},t.removeExtraWhitespace=function(e){return e.trim().replace(/\s+/g," ")}},"/c8U":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("ERkP"),s=n("In+A"),i=n("vQw2");let o=!1;t.useRegisteredComponentType=()=>{o||(o=!0,s.registerComponentType({name:s.BB_GUIDANCE_FTUE_TYPE,priority:s.BB_GUIDANCE_PRIORITY_NUMBER}))},t.default=(e,n,s)=>{t.useRegisteredComponentType();const[o,r]=a.useState(!1),[l,u]=a.useState(()=>()=>{});return a.useEffect(()=>{const t=new i.ReactGuidanceComponent(r,s);return e.registerComponent(t),n.sendStart(),u(()=>()=>{r(!1),t.markViewed(),e.hideComponent(t.componentKey)}),()=>{e.deregisterComponent(t)}},[s,n,e]),[o,l]}},"/gJS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Agfx");t.useStyles=a.makeStyles((function(e){return{accessCodeClass:{fontSize:e.typography.fontSizeXXLarge,fontWeight:e.typography.fontWeightLight,letterSpacing:"6px"},highlightClass:{color:e.palette.focus.main},noHighlightClass:{color:e.palette.text.primary,transition:"color 1s"}}}))},"/oLw":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("Begd"),l=n("hHCp"),u=n("WDMa"),d=n("E1pj"),c=n("myse"),f=a.__importDefault(n("Ucbz")),p=a.__importDefault(n("vUO3")),m=a.__importDefault(n("fCe2")),g=n("1OFS"),h=a.__importDefault(n("nwoY")),_=n("5rx+");n("jJem");var b=function(e){function t(t){var n=e.call(this,t)||this;return n.filterButtonFTUEElement=null,n.toggleFilterPanel=function(){n.setState((function(e){return{isShowingFilterPanel:!e.isShowingFilterPanel}}))},n.state={isShowingFilterPanel:!t.UltraWindowSize.isSmallBreakpoint()},n}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,i=t.criteriaConfig,o=t.zeroResultsEmptyStateProps,d=t.id,g=t.isLoading,_=t.localize,b=t.onClearCriteria,y=t.resultsCount,v=t.analyticsEventAugmentor,E=this.state.isShowingFilterPanel,C=0===y,w=E?"--on":"--off",S=m.default(i).length,P=_.translate("questionPicker.componentHeader.filterButton",{criteriaCount:S}),R=d+"-filter-list-criteria",A=v(c.AnalyticsEventTypes.CLICK_EVENT,this.toggleFilterPanel,"questionPicker.componentHeader.filterButton.toggleFilterPanel.button");return s.default.createElement("div",{className:"filter-list filter-list"+w},s.default.createElement("div",{className:"filter-list__header"},s.default.createElement("button",{className:"filter-list__filter-button js-filter-button filter-list__filter-button"+w,onClick:A,"data-analytics-id":"questionPicker.componentHeader.filterButton.toggleFilterPanel.button",ref:function(t){e.filterButtonFTUEElement=t},"aria-expanded":E,"aria-controls":R},s.default.createElement(l.SvgIcon,{className:"filter-list__filter-icon filter-list__filter-icon"+w,isDecorative:"true",iconName:"filter-options",iconSize:"string"}),s.default.createElement("span",{dangerouslySetInnerHTML:{__html:P}})),s.default.createElement("span",{className:"filter-list__filter-results"},_.translate("questionPicker.componentHeader.results",{count:y})),!E&&s.default.createElement(p.default,{ftueKey:"ftue."+d+".filterPanel.visited",ftueElement:this.filterButtonFTUEElement,ftueMessageKey:"questionPicker.filterPanel.FTUE"})),s.default.createElement("div",{className:"filter-list__content"},s.default.createElement("div",{id:R,className:"filter-list__criteria"},s.default.createElement(f.default,{criteriaConfig:i,onClearCriteria:b,onPanelClose:this.toggleFilterPanel,isOpen:E})),s.default.createElement("div",{className:"filter-list__items-container"},g&&s.default.createElement(u.Overlay,{className:"filter-list__overlay"},s.default.createElement(r.Spinner,{className:"filter-list__spinner",size:r.SpinnerSize.large})),s.default.createElement("div",{className:"filter-list__items"},!C&&s.default.cloneElement(s.default.Children.only(n),{isShowingFilterPanel:E}),C&&!g&&s.default.createElement(h.default,a.__assign({},o,{showFilterPanelButton:!E,onFilterPanelToggle:this.toggleFilterPanel}))))))},t.propTypes=a.__assign({children:i.default.node,criteriaConfig:g.CriteriaConfigPropTypes,zeroResultsEmptyStateProps:i.default.shape({title:i.default.string.isRequired,message:i.default.string.isRequired,image:i.default.string.isRequired}).isRequired,id:i.default.string.isRequired,isLoading:i.default.bool.isRequired,onClearCriteria:i.default.func.isRequired,resultsCount:i.default.number.isRequired,localize:i.default.object.isRequired,UltraWindowSize:i.default.object.isRequired},_.withAnalyticsProps),t}(s.Component);t.UnwrappedFilterList=b,t.default=c.withAnalytics(d.windowResizingResponsiveComponentWrapper(o.localizedComponentWrapper(b)))},"/rnO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("juaI");t.default=a.default},"/zhm":function(e,t,n){},"0JkB":function(e,t,n){},"10dR":function(e,t,n){},"1OFS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K").__importDefault(n("aWzz")),s=a.default.shape({id:a.default.string.isRequired,name:a.default.string.isRequired,selected:a.default.bool.isRequired}),i=a.default.shape({items:a.default.arrayOf(s).isRequired,name:a.default.string,onSelect:a.default.func.isRequired});t.CriteriaBlockPropTypes=a.default.shape({expanded:a.default.bool.isRequired,id:a.default.string.isRequired,groups:a.default.arrayOf(i).isRequired,name:a.default.string.isRequired}),t.CriteriaConfigPropTypes=a.default.shape({blocks:a.default.arrayOf(t.CriteriaBlockPropTypes).isRequired,onSetKeywords:a.default.func,selectedKeywords:a.default.arrayOf(String)}).isRequired},"1Qsi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Tibe");t.QuestionBlockQuestion=a.default;var s=n("Ag5V");t.QuestionBlockQuestionEdit=s.default;var i=n("VlbA");t.QuestionBlockQuestionRead=i.default},"1S7Y":function(e,t,n){},"1XAg":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("uh+7"));n("Nr1y");var r=function(e){var t=e.question,n=e.answersInfo;return s.default.createElement("div",{className:"readonly-calculated-formula-question"},s.default.createElement("div",{className:"readonly-answer__main"},s.default.createElement(o.default,{question:t})),n&&s.default.createElement("div",{className:"readonly-answer__info readonly-calculated-formula-question__info"},s.default.createElement("div",{className:"readonly-calculated-formula-question__info-section"},n[0]),s.default.createElement("div",{className:"readonly-calculated-formula-question__info-section"},n[1]),s.default.createElement("div",{className:"readonly-calculated-formula-question__info-section"},n[2])))};r.propTypes={question:i.default.object.isRequired,answersInfo:i.default.array},t.default=r},"1Xy2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noPartialCredit="noPartialCredit",t.partialCreditNoPenalty="partialCreditNoPenalty",t.partialCreditWithPenalty="partialCreditWithPenalty",t.partialCreditOverallNegative="partialCreditOverallNegative",t.scoringOptions=[{key:t.partialCreditNoPenalty},{key:t.noPartialCredit},{key:t.partialCreditWithPenalty},{key:t.partialCreditOverallNegative}],t.getSelectedScoringOption=function(e){var n=e.allowPartialCredit,a=e.allowNegativeScoreForIncorrectAnswers,s=e.allowNegativeOverallScore;return n?s?t.scoringOptions.find((function(e){return e.key===t.partialCreditOverallNegative})):a?t.scoringOptions.find((function(e){return e.key===t.partialCreditWithPenalty})):t.scoringOptions.find((function(e){return e.key===t.partialCreditNoPenalty})):t.scoringOptions.find((function(e){return e.key===t.noPartialCredit}))}},"2L3Q":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("3/0u"),r=n("G0uU"),l=n("8unJ"),u=n("caKH");t.QuestionPoolPanelCloseDialog=function(e){var t=e.closePanel,n=e.localize,a=e.setCloseDialogVisibility;return s.default.createElement(u.UltraModalDialog,{onDismiss:function(){return a(!1)},hidden:!1,dialogContentProps:{title:n.translate("questionPools.panelCloseDialog.title"),subText:n.translate("questionPools.panelCloseDialog.instructions")},modalProps:{className:"question-pool-panel-close-dialog"},analyticsId:"questionPools.panelCloseDialog.dialog"},s.default.createElement(o.DialogFooter,null,s.default.createElement(r.DefaultButton,{onClick:function(){return a(!1)},text:n.translate("questionPools.panelCloseDialog.cancel"),analyticsId:"questionPools.panelCloseDialog.cancel.button"}),s.default.createElement(r.PrimaryButton,{onClick:function(){return t()},text:n.translate("questionPools.panelCloseDialog.close"),analyticsId:"questionPools.panelCloseDialog.close.button"})))},t.QuestionPoolPanelCloseDialog.propTypes={closePanel:i.default.func.isRequired,localize:i.default.object.isRequired,setCloseDialogVisibility:i.default.func.isRequired},t.default=l.localizedComponentWrapper(t.QuestionPoolPanelCloseDialog)},"2UXq":function(e,t,n){},"2asv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("MC1S"),l=n("E1pj"),u=a.__importDefault(n("gTAB")),d=n("QJmz");n("ghX/");var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.translationKeyPrefix="assessments.canvas.question.multipleAnswer.scoringOptions",t.noPartialCredit="noPartialCredit",t.partialCreditNoPenalty="partialCreditNoPenalty",t.partialCreditWithPenalty="partialCreditWithPenalty",t.options=[{key:t.noPartialCredit},{key:t.partialCreditNoPenalty},{key:t.partialCreditWithPenalty}],t.onChange=function(e){var n=t.props,s=n.question,i=n.onScoringOptionsChange,o=null;switch(e.key){case t.noPartialCredit:o={allowPartialCredit:!1,allowNegativeScoreForIncorrectAnswers:!1,allowNegativeOverallScore:!1,answers:a.__spreadArrays(s.answers)};break;case t.partialCreditNoPenalty:o={allowPartialCredit:!0,allowNegativeScoreForIncorrectAnswers:!1,allowNegativeOverallScore:!1,answers:a.__spreadArrays(s.answers)};break;case t.partialCreditWithPenalty:o={allowPartialCredit:!0,allowNegativeScoreForIncorrectAnswers:!0,allowNegativeOverallScore:!0,answers:a.__spreadArrays(s.answers)}}i(o)},t.getSelectedOption=function(e){var n=e.allowPartialCredit,a=e.allowNegativeScoreForIncorrectAnswers;return n?a?t.options.find((function(e){return e.key===t.partialCreditWithPenalty})):t.options.find((function(e){return e.key===t.partialCreditNoPenalty})):t.options.find((function(e){return e.key===t.noPartialCredit}))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.editMode,a=t.question,i=t.localize,o=t.UltraWindowSize,l=t.hasSubmissions,c=u.default.isInactive(n),f=this.getSelectedOption(a),p=this.options.map((function(t){return{key:t.key,text:i.translate(e.translationKeyPrefix+"."+t.key)}})),m=i.translate(this.translationKeyPrefix+"."+f.key),g=i.translate(this.translationKeyPrefix+".readPlaceholder",{scoringOption:m});return s.default.createElement("div",null,c?s.default.createElement("div",{className:"multiple-answer-scoring-options__text"},g):s.default.createElement("div",{className:"multiple-answer-scoring-options__selector"},s.default.createElement(r.Dropdown,{disabled:!d.getToggle("questionRegrading")&&l,label:i.translate(this.translationKeyPrefix+".dropdownLabel"),options:p,onChanged:this.onChange,selectedKey:f.key,inlineLabel:!o.isSmallBreakpoint()})))},t.propTypes={hasSubmissions:i.default.bool.isRequired,question:i.default.object.isRequired,onScoringOptionsChange:i.default.func.isRequired,editMode:i.default.number.isRequired,localize:i.default.object.isRequired,UltraWindowSize:i.default.object.isRequired},t}(s.Component);t.UnwrappedMultipleAnswerScoringOptions=c,t.default=l.windowResizingResponsiveComponentWrapper(o.localizedComponentWrapper(c))},"2cC3":function(e,t){},"2kfE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("p0wN");t.default=a.default},"2xrW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("8unJ");t.default=function(e){var t,n=0===(t=e.copyStatus).copiesFailed?{type:o.NotificationType.Success,messageSubkey:"success"}:{type:o.NotificationType.Failure,messageSubkey:0===t.copiesSucceeded?"failure":"error"},a=n.type,l=n.messageSubkey,u=function(t){var n=t.localize,i="questionReuse.copyResult."+l,r=null!=e.autoDismiss&&!e.autoDismiss;return s.default.createElement("div",{className:"question-reuse-notification-wrapper"},s.default.createElement(o.Notification,{type:a,message:n.translate(i,e.copyStatus),disableAutoDismiss:r,onClose:e.dismissNotification}))};return u.propTypes={localize:i.default.object.isRequired},{positionAfter:e.positionAfter,type:a,Component:r.localizedComponentWrapper(u)}}},"2yjE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("MC1S"),l=n("E1pj"),u=n("myse"),d=n("JfV0"),c=n("ZQFV"),f=a.__importDefault(n("gTAB")),p=n("5rx+");n("2UXq");var m=n("X3OV");t.QUESTION_TITLE_ID_PREFIX="question-header__title";var g="question-header__",h=function(e){function n(t){var n=e.call(this,t)||this;return n.titleRef=s.default.createRef(),n.focusPointsInput=function(){n.pointsInput.current&&n.pointsInput.current.focus()},n.handlePointsClick=function(){n.canEnterEditMode&&n.props.onPointsClick()},n.handleOpenGoalsIconClick=function(){n.props.openGoals&&n.props.hasQuestionEditPermissions&&!n.props.hasSubmissions&&n.props.openGoals()},n.onFullCreditChange=function(e,t){n.props.onQuestionChange(a.__assign(a.__assign({},n.props.question),{fullCredit:t}))},n.onPointsChange=function(e){var t=a.__assign({},n.props.question);d.Questions.isQuestionBlock(n.props.question)?t.pointsPerQuestion=e:t.points=e,n.props.onQuestionChange(t)},n.renderRegradeCheckbox=function(){var e=n.props,t=e.editMode,a=e.hasQuestionEditPermissions,i=e.hasSubmissions,o=e.hideFullCreditCheckbox,l=e.localize,u=e.question,d=n.state.showFullCreditCheckboxWhenNoSubmissions,c=l.translate("assessments.canvas.question.header.fullCredit"),p=f.default.isActive(t);return!o&&a&&p&&(i||d)?s.default.createElement("div",{className:g+"full-credit"},s.default.createElement(r.Checkbox,{checked:u.fullCredit,onChange:n.onFullCreditChange,ariaLabel:c,label:c,analyticsId:"questionPools.fullCredit.checkBox"})):null},n.pointsInput=s.default.createRef(),n.state={showFullCreditCheckboxWhenNoSubmissions:t.giveFullCredit},n}return a.__extends(n,e),n.getDerivedStateFromProps=function(e){return!f.default.isInactive(e.editMode)||e.giveFullCredit||e.hasSubmissions?null:{showFullCreditCheckboxWhenNoSubmissions:!1}},n.prototype.componentDidMount=function(){this.props.focusTitle&&this.titleRef.current&&this.titleRef.current.focus()},n.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editMode,a=t.focusTitle,s=e.editMode,i=e.focusTitle;f.default.isInactive(s)&&f.default.isActive(n)&&this.focusPointsInput(),!i&&a&&this.titleRef.current&&this.titleRef.current.focus()},Object.defineProperty(n.prototype,"canEnterEditMode",{get:function(){return this.props.onPointsClick&&this.props.canEnterEditMode&&!this.props.commonContext.isMobileAppPreview},enumerable:!0,configurable:!0}),n.prototype.getGrade=function(){var e=this.props,t=e.points,n=e.question;return{value:t,unit:d.Questions.isQuestionBlock(n)?c.GradingUnit.PointsEach:c.GradingUnit.Points}},n.prototype.renderPointsInfo=function(){var e=this,t=this.props,n=t.editMode,a=t.hasQuestionEditPermissions,i=t.id,o=t.question,r=t.localize,l=t.questionTitle,p=t.showPointsInfo,m=t.hideEditPoints,h=t.analyticsEventAugmentor,_=t.disableInteraction;if(!1!==p){var b=_?"true":void 0,y="question-points-"+i,v=f.default.isActive(n),E=!a,C=a&&!v,w=a&&v,S=d.Questions.isQuestionBlock(o);if(E||C)return function(){var t="assessments.canvas.question.header.edit.ariaLabel."+(S?"block":"question"),n=r.translate(t,{questionTitle:l}),a=e.canEnterEditMode?g+"pill--clickable":"",i=t+".gradepill",o=h(u.AnalyticsEventTypes.CLICK_EVENT,e.handlePointsClick,t),d=e.getGrade(),f=d.value,p=d.unit;return s.default.createElement(s.default.Fragment,null,s.default.createElement("span",{"data-analytics-id":t,id:y,onClick:o,className:g+"pill-wrapper "+a},s.default.createElement(c.GradePill,{variant:c.GradePillType.UnitBased,grade:f,unit:p,ariaLabel:n,ariaHidden:b,ariaDescribedBy:y,analyticsId:i})))}();if(w&&!m)return function(){var t="points-input"+i,n=e.getGrade(),a=n.value,o=n.unit,u="assessments.canvas.question.header.edit.ariaLabel."+(S?"block":"question"),d=r.translate(u,{questionTitle:l}),f=u+".gradepill";return s.default.createElement("div",{className:g+"points"},s.default.createElement(c.GradePill,{id:t,variant:c.GradePillType.UnitBased,grade:a,emptyGradeNotAllowed:!0,unit:o,onBlur:e.onPointsChange,hasFocus:!0,ariaLabel:d,ariaHidden:b,analyticsId:f}))}()}return null},n.prototype.render=function(){var e=this.props,n=e.disableFocus,a=e.disableInteraction,i=e.editMode,o=e.goalAriaLabel,l=e.hasAlignedGoals,u=e.question,c=e.localize,p=e.UltraWindowSize,m=f.default.isActive(i),h=d.Questions.isQuestionBlock(u),_=g+"regrading",b=m?g+"edit":"",y=!!u.fullCredit,v=!m&&y,E=v?s.default.createElement("span",{className:g+"full-credit-label"},c.translate("assessments.canvas.question.header.fullCreditLabel")):null,C=p.isSmallBreakpoint(),w=s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:g+"title-container"},s.default.createElement("h3",{id:""+t.QUESTION_TITLE_ID_PREFIX+this.props.id,className:g+"title",ref:this.titleRef,tabIndex:-1},this.props.questionTitle),h&&!m&&s.default.createElement("div",{className:g+"pool-indicator"},c.translate("assessments.canvas.question.header.poolIndicator"))),l&&s.default.createElement(r.IconButton,{iconProps:{iconName:"goal",iconSize:"medium"},className:g+"goal-icon-button",onClick:this.handleOpenGoalsIconClick,ariaLabel:o,disabled:n,href:"#","aria-hidden":a?"true":void 0,removedFromTabOrder:a,analyticsId:"assessments.canvas.question.header.goalIcon.button"}));return s.default.createElement("div",{className:"question-header "+_+" "+b},C&&s.default.createElement(s.default.Fragment,null,!v&&s.default.createElement(s.default.Fragment,null,w,this.renderRegradeCheckbox(),this.renderPointsInfo()),v&&s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:g+"column "+g+"first-column"},w),s.default.createElement("div",{className:g+"column "+g+"secondary-column"},E,this.renderPointsInfo()))),!C&&s.default.createElement(s.default.Fragment,null,w,E,this.renderRegradeCheckbox(),this.renderPointsInfo()))},n.propTypes=a.__assign({id:i.default.string.isRequired,canEnterEditMode:i.default.bool.isRequired,editMode:i.default.number.isRequired,localize:i.default.object.isRequired,points:i.default.number,questionTitle:i.default.string.isRequired,onQuestionChange:i.default.func.isRequired,onPointsClick:i.default.func.isRequired,hasSubmissions:i.default.bool.isRequired,hasQuestionEditPermissions:i.default.bool.isRequired,hasAlignedGoals:i.default.bool,openGoals:i.default.func.isRequired,goalAriaLabel:i.default.string.isRequired,hideFullCreditCheckbox:i.default.bool,disableFocus:i.default.bool,disableInteraction:i.default.bool,showPointsInfo:i.default.bool,UltraWindowSize:i.default.object.isRequired,focusTitle:i.default.bool,hideEditPoints:i.default.bool,question:i.default.object.isRequired},p.withAnalyticsProps),n}(s.Component);t.UnwrappedQuestionHeader=o.localizedComponentWrapper(h),t.default=l.windowResizingResponsiveComponentWrapper(u.withAnalytics(m.withAssessmentCommonContext(t.UnwrappedQuestionHeader)))},"391C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K").__importDefault(n("ERkP")),s=n("8unJ"),i=n("MC1S");n("ztHM");var o=function(e){var t=e.localize,n=e.onRemove,s=e.pairNumber,o=e.isReadOnly;return a.default.createElement("div",{className:"matching-prompt-reused-answer "+(o?"":" matching-prompt-reused-answer--edit")},a.default.createElement(i.SvgIcon,{className:"matching-prompt-reused-answer__icon",iconName:"reuse",iconSize:"small",iconDecorative:!0}),a.default.createElement("span",null,t.translate("assessments.canvas.question.matching.reusedAnswer",{pairNumber:s})),!o&&a.default.createElement(i.IconButton,{className:"matching-prompt-reused-answer__remove-button",iconProps:{iconName:"clear",iconSize:"small"},onClick:n,title:t.translate("assessments.canvas.question.matching.removeReusedAnswer",{pairNumber:s}),analyticsId:"assessments.canvas.question.matching.removeReUsedAnswer"}))};t.UnwrappedMatchingAnswerReused=o,t.default=s.localizedComponentWrapper(o)},"3ANQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("5rx+");n("QpzK");var l=function(e){function t(t){var n=e.call(this,t)||this;return n.inlineAddButton=null,n.focus=function(){n.inlineAddButton&&n.inlineAddButton.focus()},n.open=function(){n.props.onToggleAddMenu(n,n.props.index)},n.close=function(){n.props.onDismissAddMenu()},n.onClick=function(e){e.stopPropagation(),n.props.isMenuOpen?n.close():n.open()},n.onMouseOver=function(){n.setState({isMouseOver:!0})},n.onMouseOut=function(){n.setState({isMouseOver:!1})},n.onKeyboardFocus=function(){n.setState({isKeyboardFocused:!0})},n.onKeyboardBlur=function(){n.setState({isKeyboardFocused:!1})},n.getIconName=function(){return n.props.isMenuOpen||n.state.isMouseOver||n.state.isKeyboardFocused?"add-circle-press":"add"},n.getIconClass=function(){var e="create-new-bar";return n.props.isMenuOpen&&(e+=" -open -focused"),(n.state.isMouseOver||n.state.isKeyboardFocused)&&(e+=" -focused"),n.props.isBlankCanvas&&(e+=" -blank"),n.props.show||(e+=" -hidden"),e},n.setInlineButtonRef=function(e){n.inlineAddButton=e._buttonElement},n.state={isMouseOver:!1,isKeyboardFocused:!1},n}return a.__extends(t,e),t.prototype.render=function(){var e=this.props.analyticsId;return s.default.createElement(o.IconButton,{componentRef:this.setInlineButtonRef,className:this.getIconClass(),iconProps:{iconName:this.getIconName(),iconSize:"small"},onFocus:this.onKeyboardFocus,onBlur:this.onKeyboardBlur,"aria-haspopup":"true","aria-expanded":this.props.isMenuOpen,"aria-controls":"assessment-canvas-add-content-menu","aria-hidden":this.props.removedFromTabOrder?"true":void 0,ariaLabel:this.props.buttonAriaLabel,onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,removedFromTabOrder:this.props.removedFromTabOrder,analyticsId:e+".inlineAddButton.iconButton.button"})},t.propTypes=a.__assign({buttonAriaLabel:i.default.string.isRequired,index:i.default.number.isRequired,isBlankCanvas:i.default.bool,isMenuOpen:i.default.bool.isRequired,onDismissAddMenu:i.default.func,onToggleAddMenu:i.default.func,removedFromTabOrder:i.default.bool,show:i.default.bool.isRequired},r.addAnalyticsProps),t}(s.PureComponent);t.default=l},"3Md0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("lcFE");t.default=a.default,t.QuestionPickerPanel=a.QuestionPickerPanel},"3UQ0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("Pfoe")),o=a.__importDefault(n("gTAB")),r=n("2yjE");t.getQuestionTextProps=function(e,t){var n=e.localize,a=e.localizationPrefix,s=e.question,i=e.questionTitle,o=""+r.QUESTION_TITLE_ID_PREFIX+s.id,l=n.translate(a+".canvas.question.placeholder.question",{questionTitle:i||""});return{activeEditorId:e.activeEditorId,ariaLabelledBy:o,disableFocus:e.disableFocus,editMode:e.editMode,placeholderText:l,plugins:e.editorPlugins,pluginsConfig:e.pluginsConfig,onChange:t,question:s,refreshBbml:e.refreshBbml,setActiveEditorId:e.setActiveEditorId}},t.default=function(e){var t=e.activeEditorId,n=e.ariaLabelledBy,r=e.disableEditor,l=e.disableFocus,u=e.editMode,d=e.editorPlugins,c=e.placeholderText,f=e.onChange,p=e.pluginsConfig,m=e.question,g=e.refreshBbml,h=e.setActiveEditorId,_=o.default.isInactive(u)||!!r;return s.default.createElement("div",{className:"question-text"},s.default.createElement(i.default,{activeEditorId:t,ariaLabelledBy:n,ariaRequired:!0,bbml:m.questionText.rawText,disableFocus:l,id:m.id,isReadOnly:_,keepToolbarVisible:!1,onChange:function(e){var t=a.__assign(a.__assign({},m),{questionText:{rawText:e.toBbML()}});f(t)},placeholder:c,plugins:d,pluginsConfig:p,refreshBbml:g,setActiveEditorId:h}))}},"3ZJq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("yxoV");t.AutomatedQuestionFeedback=a.default;var s=n("C9HY");t.AutomatedQuestionFeedbackEdit=s.default;var i=n("O55a");t.AutomatedQuestionFeedbackRead=i.default;var o=n("OyKE");t.AutomatedQuestionFeedbackAttemptReview=o.default},"4+yV":function(e,t,n){},"48vb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("MC1S"),l=n("E1pj"),u=n("1Xy2"),d=a.__importDefault(n("gTAB"));n("Gdun");var c="assessments.canvas.question.matching.scoringOptions",f=function(e){var t=e.editMode,n=e.localize,a=e.onScoringOptionsChange,i=e.question,o=e.UltraWindowSize,l=d.default.isInactive(t),f=u.getSelectedScoringOption(i),p=u.scoringOptions.map((function(e){return{key:e.key,text:n.translate(c+"."+e.key)}})),m=n.translate(c+"."+f.key),g=n.translate(c+".readPlaceholder",{scoringOption:m});return s.default.createElement("div",null,l?s.default.createElement("div",{className:"matching-question-scoring-options__text"},g):s.default.createElement("div",{className:"matching-question-scoring-options__selector"},s.default.createElement(r.Dropdown,{label:e.localize.translate(c+".dropdownLabel"),options:p,onChanged:function(e){var t=null;switch(e.key){case u.partialCreditNoPenalty:t={allowPartialCredit:!0,allowNegativeScoreForIncorrectAnswers:!1,allowNegativeOverallScore:!1};break;case u.noPartialCredit:t={allowPartialCredit:!1,allowNegativeScoreForIncorrectAnswers:!1,allowNegativeOverallScore:!1};break;case u.partialCreditWithPenalty:t={allowPartialCredit:!0,allowNegativeScoreForIncorrectAnswers:!0,allowNegativeOverallScore:!1};break;case u.partialCreditOverallNegative:t={allowPartialCredit:!0,allowNegativeScoreForIncorrectAnswers:!0,allowNegativeOverallScore:!0}}a(t)},selectedKey:f.key,inlineLabel:!o.isSmallBreakpoint()})))};f.propTypes={editMode:i.default.number.isRequired,localize:i.default.object.isRequired,onScoringOptionsChange:i.default.func.isRequired,question:i.default.object.isRequired,UltraWindowSize:i.default.object.isRequired},t.UnwrappedMatchingQuestionScoringOptions=f,t.default=l.windowResizingResponsiveComponentWrapper(o.localizedComponentWrapper(f))},"4Pbl":function(e,t,n){},"4bjT":function(e,t,n){},"5B29":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP"));t.DEFAULT_VALUE={allyService:{getXythosIdFromContentFileUrl:function(){return null},update:function(){},isAvailable:function(){return Promise.resolve(!1)},getIndexMapFromBbML:function(){return null}},contentId:null,isAllyAvailable:!1};var i=s.createContext(t.DEFAULT_VALUE);t.withAssessmentPanelContext=function(e){return function(t){return s.createElement(i.Consumer,null,(function(n){return s.createElement(e,a.__assign({},t,{context:n}))}))}},t.default=i},"5Hnx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("PCGI")),r=a.__importDefault(n("m20R")),l=a.__importDefault(n("uh+7")),u=a.__importDefault(n("gTAB")),d=a.__importStar(n("TIvv")),c=a.__importStar(n("AiU9")),f=a.__importDefault(n("ZfLe")),p=n("Vng8");t.CalculatedFormula=function(e){var t=e.editMode,n=e.question;return s.default.createElement("div",null,s.default.createElement(o.default,{editMode:t,question:n},s.default.createElement(d.default,a.__assign({},d.getPluggableQuestionHeaderProps(e,(function(t){var s=a.__assign(a.__assign({},n),t);e.onQuestionChange(s,p.hasBaseQuestionChanged)})))),s.default.createElement(c.default,a.__assign({},c.getQuestionControlProps(e)))),u.default.isActive(t)?s.default.createElement(r.default,a.__assign({},e)):s.default.createElement(l.default,a.__assign({},e)))},t.CalculatedFormula.propTypes={editMode:i.default.number.isRequired,onQuestionChange:i.default.func.isRequired,question:i.default.object.isRequired,showFeatureAnnouncement:i.default.object};var m=f.default(t.CalculatedFormula);t.default=m},"5NQ0":function(e,t,n){},"5aOz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("PCGI")),r=a.__importDefault(n("gTAB")),l=n("WGaE"),u=a.__importStar(n("TIvv")),d=a.__importDefault(n("ZfLe")),c=a.__importStar(n("AiU9")),f=a.__importStar(n("OPED")),p=n("Vng8");n("qTgb");var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onQuestionChange=function(e){t.props.onQuestionChange(e,p.hasEssayQuestionChanged)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.editMode,n=e.localize,i=e.localizationPrefix,d=e.question,m=r.default.isActive(t),g=m&&p.hasLinkedQuestion(d);return s.default.createElement("div",{className:"essay "+(t?"essay--edit":"essay--read")},s.default.createElement(o.default,{editMode:t,question:d},s.default.createElement(l.LinkedQuestionNotification,{show:g,usageCount:d.usageCount}),s.default.createElement(u.default,a.__assign({},u.getPluggableQuestionHeaderProps(this.props,this.onQuestionChange))),s.default.createElement(c.default,a.__assign({},c.getQuestionControlProps(this.props))),s.default.createElement(f.default,a.__assign({},f.getQuestionTextProps(this.props,this.onQuestionChange)))),m?null:s.default.createElement("div",{className:"essay__info"},s.default.createElement("div",null,n.translate(i+".canvas.question.essay.instructions"))))},t.propTypes={deleteQuestion:i.default.func.isRequired,editMode:i.default.number.isRequired,localize:i.default.object.isRequired,onQuestionChange:i.default.func.isRequired,question:i.default.object.isRequired,questionBeingEditedId:i.default.string,questionTitle:i.default.string.isRequired,refreshBbml:i.default.bool.isRequired,showQuestionControls:i.default.bool.isRequired,startEditMode:i.default.func.isRequired,pluginsConfig:i.default.object.isRequired,localizationPrefix:i.default.string.isRequired},t}(s.Component);t.Essay=m;var g=d.default(m);t.default=g},"5mCR":function(e,t,n){},"5rx+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("aWzz");t.addAnalyticsProps={analyticsId:a.PropTypes.string.isRequired},t.withAnalyticsProps={analyticsEventAugmentor:a.PropTypes.func.isRequired},t.mockAnalyticsAugmentor=function(e,t){return function(e){t(e)}}},"6TGb":function(e,t){e.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 200 200" style="enable-background:new 0 0 200 200;" xml:space="preserve"><g><circle style="fill:#E3F4FC;" cx="99.5" cy="99.5" r="99.5"></circle><g><rect x="51.74" y="40.724" style="fill:#D2EDFA;" width="95.52" height="117.282"></rect><rect x="51.74" y="38.606" style="fill:#FFFFFF;" width="95.52" height="115.42"></rect></g><rect x="93.928" y="75.222" style="fill:#D2EDFA;" width="42.188" height="2.388"></rect><rect x="93.928" y="80.794" style="fill:#D2EDFA;" width="42.188" height="2.388"></rect><rect x="93.928" y="86.366" style="fill:#D2EDFA;" width="20.696" height="2.388"></rect><g><g><g><g><polygon style="fill:#C26FD2;" points="57.61,97.358 59.775,89.345 51.752,91.475 "></polygon></g></g></g></g><g><g><path style="fill:#D2EDFA;" d="M79.6,77.61v14.328H65.272V77.61H79.6 M81.988,75.222H62.884v19.104h19.104V75.222L81.988,75.222z "></path></g></g><g><text transform="matrix(1 0 0 1 93.9282 30.6462)" style="fill:#A8BFCC; font-family:&#x27;OpenSans-Semibold&#x27;; font-size:23.3456;">Abc</text></g><rect x="62.884" y="49.75" style="fill:#D2EDFA;" width="73.232" height="14.328"></rect><g><path style="fill:#D2EDFA;" d="M133.728,107.858v30.248H65.272v-30.248H133.728 M136.116,105.47H62.884v35.024h73.232V105.47 L136.116,105.47z"></path></g><rect x="86.764" y="75.222" style="fill:#D2EDFA;" width="2.388" height="2.388"></rect><rect x="86.764" y="80.794" style="fill:#D2EDFA;" width="2.388" height="2.388"></rect><rect x="86.764" y="86.366" style="fill:#D2EDFA;" width="2.388" height="2.388"></rect><rect x="34.394" y="118.206" style="fill:#AEC6D6;" width="35.024" height="2.388"></rect><rect x="34.394" y="124.574" style="fill:#AEC6D6;" width="34.228" height="2.388"></rect><rect x="34.394" y="130.942" style="fill:#AEC6D6;" width="34.228" height="2.388"></rect><rect x="34.394" y="137.31" style="fill:#AEC6D6;" width="19.9" height="2.388"></rect><g><g><line style="fill:#C7BCAC;" x1="142.447" y1="110.126" x2="142.446" y2="110.126"></line></g></g><g><defs><rect id="SVGID_1_" x="100.296" y="132.534" width="30.248" height="29.452"></rect></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible;"></use></clipPath><g style="clip-path:url(#SVGID_2_);"><path style="fill:#36D7FB;" d="M129.748,162.782h-28.656c-0.879,0-1.592-0.713-1.592-1.592v-27.86 c0-0.879,0.713-1.592,1.592-1.592h28.656c0.879,0,1.592,0.713,1.592,1.592v27.86C131.34,162.069,130.627,162.782,129.748,162.782 z"></path><g><g><circle style="fill:#FEE132;" cx="120.668" cy="147.315" r="2.841"></circle><path style="fill:#FEFA78;" d="M120.669,145.611c0.94,0.001,1.704,0.766,1.704,1.706s-0.766,1.704-1.706,1.704 c-0.94-0.001-1.704-0.766-1.704-1.706C118.964,146.374,119.729,145.61,120.669,145.611 M120.67,144.474 c-1.569-0.001-2.842,1.27-2.843,2.839c-0.001,1.569,1.27,2.842,2.839,2.843c1.569,0.001,2.842-1.27,2.843-2.839 C123.51,145.748,122.239,144.475,120.67,144.474L120.67,144.474z"></path></g><g style="opacity:0.2;"><polyline style="fill:#303030;" points="131.308,160.029 131.31,155.796 125.631,150.11 119.945,155.789 109.723,145.554 99.487,156.912 99.486,160.008 "></polyline></g><g><path style="fill:#44E17D;" d="M119.975,158.238l-10.222-10.235l-10.236,11.358l-0.001,1.817 c-0.001,0.876,0.715,1.592,1.591,1.593l27.957,0.018c1.25,0.001,2.274-1.021,2.274-2.271l0.001-2.273l-5.679-5.686 L119.975,158.238z"></path><g><g><path style="fill:#82FA7D;" d="M109.812,150.315l9.036,9.048l1.125,1.126l1.126-1.125l4.56-4.554l4.088,4.093l-0.002,2.295 l-28.638-0.019l0.001-1.207L109.812,150.315 M109.753,148.002l-10.236,11.358l-0.001,1.818 c-0.001,0.876,0.715,1.592,1.591,1.593l28.638,0.019c0,0,0.001,0,0.001,0c0.875,0,1.591-0.716,1.592-1.591l0.002-2.954 l-5.679-5.686l-5.686,5.679L109.753,148.002L109.753,148.002z"></path></g></g></g></g></g></g><path style="fill:#D2EDFA;" d="M129.748,161.209v1.573l-28.656,0v-1.573H99.5v1.573c0,0.879,0.713,1.592,1.592,1.592h28.656 c0.879,0,1.592-0.713,1.592-1.592v-1.573H129.748z"></path><path style="fill:#FFFFFF;" d="M129.748,133.33L129.748,133.33v27.86l-28.656,0l0-27.86H129.748 M129.748,131.738h-28.656 c-0.879,0-1.592,0.713-1.592,1.592v27.86c0,0.879,0.713,1.592,1.592,1.592h28.656c0.879,0,1.592-0.713,1.592-1.592v-27.86 C131.34,132.451,130.627,131.738,129.748,131.738L129.748,131.738z"></path><path style="fill:none;stroke:#C26FD2;stroke-width:2.388;stroke-linecap:round;stroke-miterlimit:10;" d="M96.515,147.26 c-6.924,0-12.537-5.613-12.537-12.537c0-6.924,5.613-12.537,12.537-12.537"></path><g><g><polygon style="fill:#C26FD2;" points="97.088,126.308 104.276,122.158 97.088,118.007 "></polygon></g></g><g><g><polygon style="fill:#C26FD2;" points="68.671,53.292 72.822,60.48 76.973,53.292 "></polygon></g></g><path style="fill:none;stroke:#C26FD2;stroke-width:2.388;stroke-linecap:round;stroke-miterlimit:10;" d="M72.734,54.526V31.84 c0-6.1,4.945-11.045,11.045-11.045h7.363"></path><line style="fill:none;stroke:#C26FD2;stroke-width:2.388;stroke-linecap:round;stroke-miterlimit:10;" x1="35.289" y1="113.695" x2="54.659" y2="94.326"></line></g><g><rect x="139.218" y="70.125" transform="matrix(0.7071 0.7071 -0.7071 0.7071 107.7969 -73.9948)" style="fill:#FEC34C;" width="8" height="46"></rect><rect x="144.875" y="75.782" transform="matrix(0.7071 0.7071 -0.7071 0.7071 113.4538 -76.3379)" style="fill:#FCB73D;" width="8" height="46"></rect><rect x="157.431" y="76.983" transform="matrix(0.7071 0.7071 -0.7071 0.7071 104.0101 -93.1369)" style="fill:#D5D5D5;" width="14" height="4"></rect><rect x="156.896" y="73.447" transform="matrix(0.7071 0.7071 -0.7071 0.7071 100.4746 -91.6725)" style="fill:#E8E8E8;" width="8" height="4"></rect><path style="fill:#FC5D92;" d="M170.795,82.518l-11.314-11.314l2.885-2.885c3.093-3.093,8.108-3.093,11.201,0l0.113,0.113 c3.093,3.093,3.093,8.108,0,11.201L170.795,82.518z"></path><polygon style="fill:#FCD3A6;" points="118.469,123.531 118.469,123.531 124.126,106.56 135.44,117.874 "></polygon><polyline style="fill:#FCD3A6;" points="124.126,106.56 127.897,106.56 127.897,110.331 131.669,110.331 131.669,114.103 135.44,114.103 135.44,117.874 "></polyline><path style="opacity:0.1;" d="M173.68,68.433l-0.057-0.057l-8.485,8.485l5.657,5.657l2.885-2.885 C176.773,76.54,176.773,71.526,173.68,68.433z"></path><polygon style="fill:#767676;" points="120.237,118.227 118.469,123.531 123.773,121.763 "></polygon></g></svg>'},"6iVS":function(e,t,n){},"6rK7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("qs/y");t.default=a.default},"7//j":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("nBlB"),r=n("8unJ"),l=n("VQXm"),u=a.__importDefault(n("RtIR")),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getDraggingLabelObject=function(e){var n=t.props.keyInsertIndex-1;return t.props.isKeyboardMoving?e===n?{string:"assessments.canvas.drop.buttonStart",relation:""}:0===t.props.keyInsertIndex?{string:"assessments.canvas.dropAnswer.buttonTop",relation:t.props.questionTitle}:u.default("dropAnswer",t.props.question.answers[n],t.props.questionTitle):u.default("dragAnswer",t.props.question,t.props.questionTitle)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.items,i=t.localize,o=t.keyInsertIndex,r=t.isKeyboardMoving;return s.default.createElement("ol",{id:"multiple-answer-dnd",className:"multiple-answer__list"},n.map((function(t,n){var u=e.getDraggingLabelObject(n),d=r?o:n+1,c=i.translate(u.string,{relatedQuestion:u.relation,answerNumber:d});return s.default.createElement("li",{key:t.id,className:"multiple-answer__dnd-item"},s.default.createElement(l.DndMultipleAnswerChoice,a.__assign({},e.props,{answer:t,index:n,dragButtonAriaLabel:c,preview:s.default.createElement("div",{className:"multiple-answer__preview",dangerouslySetInnerHTML:{__html:t.answerText.rawText}})})))})))},t.propTypes={question:i.default.object.isRequired,questionTitle:i.default.string.isRequired,items:i.default.array.isRequired,localize:i.default.object.isRequired,keyInsertIndex:i.default.number.isRequired,isKeyboardMoving:i.default.bool.isRequired},t}(s.Component);t.UnwrappedEditModeChoices=d,t.default=r.localizedComponentWrapper(o.DragNDropContainer(d))},"76BM":function(e,t,n){},"7Eh6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K").__importStar(n("ERkP")),s=n("/gJS");t.default=function(e){var t=e.code,n=e.isNew,i=void 0!==n&&n,o=s.useStyles(),r=o.accessCodeClass,l=o.highlightClass,u=o.noHighlightClass,d=i?l:u;return a.createElement("span",{className:r+" "+d+" js-access-code-display"},t)}},"7Pdu":function(e,t,n){},"7UBu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=n("MC1S"),o=a.__importDefault(n("aWzz")),r=n("3ZJq"),l=a.__importDefault(n("PCGI")),u=a.__importDefault(n("gTAB")),d=n("QJmz"),c=n("Vng8"),f=a.__importDefault(n("ZfLe")),p=n("WGaE"),m=a.__importStar(n("TIvv")),g=a.__importStar(n("AiU9")),h=a.__importStar(n("OPED"));n("5mCR");var _="true",b="false",y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onQuestionChange=function(e){t.props.onQuestionChange(e,c.hasTrueFalseQuestionChanged)},t.onAnswerChange=function(e,n){var s=t.props,i=s.onQuestionChange,o=s.question,r=n.key===_;i(a.__assign(a.__assign({},o),{answer:r}),c.hasTrueFalseQuestionChanged)},t.getReadModeSection=function(e){var n=t.props,a=n.localize,i=n.question;return s.default.createElement("ol",{className:"true-false__list"},s.default.createElement("li",{className:"true-false__li"},s.default.createElement("span",{className:"true-false__text"},a.translate(e+"."+i.answerType+".true")),i.answer&&s.default.createElement("span",{className:"true-false__correct"},a.translate(e+".correctAnswer"))),s.default.createElement("li",{className:"true-false__li"},s.default.createElement("span",{className:"true-false__text"},a.translate(e+"."+i.answerType+".false")),!i.answer&&s.default.createElement("span",{className:"true-false__correct"},a.translate(e+".correctAnswer"))))},t.getEditModeSection=function(e){var n=t.props,a=n.hasSubmissions,o=n.localize,r=n.question,l=!!a&&!d.getToggle("questionRegrading");return s.default.createElement("div",{className:"true-false__options"},s.default.createElement(i.ChoiceGroup,{onChange:t.onAnswerChange,options:[{key:_,text:o.translate(e+"."+r.answerType+".true"),disabled:l},{key:b,text:o.translate(e+"."+r.answerType+".false"),disabled:l}],selectedKey:r.answer?_:b}))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.editMode,n=e.localizationPrefix,i=e.question,o=e.setActiveEditorId,d=e.showFeatureAnnouncement,f=u.default.isActive(t)&&c.hasLinkedQuestion(i),_=n+".canvas.question.trueFalse",b=u.default.isInactive(t);return s.default.createElement("div",{className:"true-false"},s.default.createElement(l.default,{editMode:t,question:i},s.default.createElement(p.LinkedQuestionNotification,{show:f,usageCount:i.usageCount}),s.default.createElement(m.default,a.__assign({},m.getPluggableQuestionHeaderProps(this.props,this.onQuestionChange))),s.default.createElement(g.default,a.__assign({},g.getQuestionControlProps(this.props))),s.default.createElement(h.default,a.__assign({},h.getQuestionTextProps(this.props,this.onQuestionChange)))),b?this.getReadModeSection(_):this.getEditModeSection(_),s.default.createElement(r.AutomatedQuestionFeedback,{editMode:t,onQuestionChange:this.onQuestionChange,question:i,setActiveEditorId:o,showFeatureAnnouncement:d}))},t.propTypes={activeEditorId:o.default.string,alignedGoals:o.default.arrayOf(o.default.object),canEnterEditMode:o.default.bool,customQuestionHeader:o.default.func,deleteQuestion:o.default.func.isRequired,disableEditor:o.default.bool,disableFocus:o.default.bool,disableInteraction:o.default.bool,editMode:o.default.number.isRequired,editorPlugins:o.default.arrayOf(o.default.object),focusTitle:o.default.bool,hasQuestionEditPermissions:o.default.bool,hasSubmissions:o.default.bool.isRequired,localizationPrefix:o.default.string.isRequired,localize:o.default.shape({translate:o.default.func}).isRequired,onQuestionChange:o.default.func.isRequired,openGoals:o.default.func,pluginsConfig:o.default.shape({}).isRequired,question:o.default.shape({assessmentId:o.default.string,id:o.default.string,points:o.default.number,answer:o.default.bool,answerType:o.default.string}).isRequired,questionTitle:o.default.string.isRequired,refreshBbml:o.default.bool.isRequired,setActiveEditorId:o.default.func.isRequired,showQuestionControls:o.default.bool.isRequired,startEditMode:o.default.func.isRequired,showFeatureAnnouncement:o.default.object},t.defaultProps={activeEditorId:null,alignedGoals:null,canEnterEditMode:!1,customQuestionHeader:null,disableEditor:!1,disableFocus:!1,disableInteraction:!1,editorPlugins:null,focusTitle:!1,hasQuestionEditPermissions:!1,openGoals:null},t}(s.Component);t.TrueFalse=y;var v=f.default(y);t.default=v},"7fK4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("AuQm"),l=n("np6O"),u=n("XBaz"),d=n("JfV0"),c=n("t6ux"),f=n("9tRF"),p=n("/R3Y");n("zKpB"),t.CLASS_PREFIX="calculated-formula-question__step-3__variable-value-table",t.TRANSLATION_KEY_PREFIX="assessments.canvas.question.calculatedFormula.stepThree.variableValueTable",t.getResultColumnHeaderInfo=function(e,n,a){var s=c.getCorrectAnswerToleranceType(n),i=c.getCorrectAnswerToleranceValue(n),o=t.TRANSLATION_KEY_PREFIX+".resultColumnHeader",r=c.getAnswerTranslationKey(o,s,i,a);return r?e.translate(r,{unitsText:a,answerToleranceValue:i}):null},t.getInputBounding=function(e){var t=e.getBoundingClientRect();return{left:t.left-2,right:t.right+2}},t.getTableBounding=function(e,t){var n=e.getBoundingClientRect().width,a=t.offsetWidth-t.clientWidth,s=t.getBoundingClientRect(),i=s.right-n-a;return{left:s.left,right:i}},t.scrollIntoView=function(e,n,a){var s=t.getInputBounding(e),i=t.getTableBounding(n,a),o=s.right-i.right,r=s.left-i.left;s.right>i.right&&(a.scrollLeft+=o),s.left<i.left&&(a.scrollLeft+=r)},t.formatResult=function(e,t,n,a,s,i){var o=e.babelfishFormatInstance&&e.babelfishFormatInstance.number?e.babelfishFormatInstance.number.getDecimalStringSync(t):".",r=d.CalculatedFormulaAnswerPrecisionType.SignificantFigures,l=d.CalculatedFormulaAnswerPrecisionType.Decimal,u=d.CalculatedFormulaAnswerFormatType.Normal,f=d.CalculatedFormulaAnswerFormatType.Exponential,p=c.roundWithPrecision(n,a,s?f:u,i?r:l);return s?p.toExponential().replace(".",o):e.formatNumber(p,{maximumFractionDigits:a})},t.BaseVariableValueTableRowResult=function(e){var n=e.disabled,a=e.localize,i=e.result,o=e.rowNumber,r=e.ident,d=e.calculateRow,f=e.isDirty,m=e.isRecalculatingVariableSets,g=e.isExponential,h=e.scale,_=e.currentLocale,b=e.roundToSignificantFigures,y=e.hasError,v=e.resultId,E=!Number.isFinite(i)||y,C=E?a.translate(t.TRANSLATION_KEY_PREFIX+".resultError",{row:o}):t.formatResult(a,_,i,h,g,b);return s.default.createElement("td",{className:t.CLASS_PREFIX+"__cell--result"},s.default.createElement("span",{className:t.CLASS_PREFIX+"__result-flex-wrapper"},s.default.createElement("span",{id:v,className:p.removeExtraWhitespace("\n                        "+t.CLASS_PREFIX+"__result\n                        "+(E?t.CLASS_PREFIX+"__result--error":"")+"\n                    ")},m?"":C),!m&&f&&!y&&s.default.createElement(l.AnalyticsIconButton,{analyticsId:c.ANALYTICS_ID_PREFIX+".stepThree.variableValueTable.refresh","aria-label":a.translate(t.TRANSLATION_KEY_PREFIX+".refresh.ariaLabel",{row:o}),disabled:n,onClick:function(){return d(r)}},s.default.createElement(u.Refresh,null))))},t.BaseVariableValueTableRowResult.propTypes={calculateRow:i.default.func,currentLocale:i.default.string,disabled:i.default.bool.isRequired,hasError:i.default.bool.isRequired,ident:i.default.string,isDirty:i.default.bool,isExponential:i.default.bool.isRequired,isRecalculatingVariableSets:i.default.bool,localize:i.default.object,result:i.default.number,resultId:i.default.string.isRequired,roundToSignificantFigures:i.default.bool.isRequired,rowNumber:i.default.number,scale:i.default.number.isRequired},t.VariableValueTableRowResult=o.localizedComponentWrapper(t.BaseVariableValueTableRowResult),t.VariableValueInput=function(e){var n=e.ariaDescribedBy,a=e.ariaLabel,i=e.disabled,o=e.hasError,l=e.value,u=e.isRecalculatingVariableSets,d=e.updateVariableValue,f=e.ident,p=e.variableName,m=e.onFocus;return s.default.createElement(r.LocalizedNumberInput,{analyticsId:c.ANALYTICS_ID_PREFIX+".stepThree.variableValueTable.textField",ariaDescribedBy:o?n:null,ariaLabel:a,className:t.CLASS_PREFIX+"__input",disabled:u||i,numberFormatOptions:{maximumFractionDigits:20},onChange:function(e){return d(f,p,e)},onFocus:m,validate:function(){return!o},value:l})},t.VariableValueInput.propTypes={ariaDescribedBy:i.default.string.isRequired,ariaLabel:i.default.string.isRequired,disabled:i.default.bool.isRequired,hasError:i.default.bool.isRequired,value:i.default.number,ident:i.default.string,isRecalculatingVariableSets:i.default.bool,updateVariableValue:i.default.func,variableName:i.default.string,onFocus:i.default.func},t.BaseVariableValueTableRow=function(e){var n=e.disabled,a=e.localize,i=e.rowNumber,o=e.variableSet,r=e.isRecalculatingVariableSets,l=e.calculateRow,u=e.updateVariableValue,d=e.isDirty,c=e.onInputFocus,p=e.isExponential,m=e.scale,g=e.roundToSignificantFigures,h="variable-value-set-result-"+o.ident;return s.default.createElement("tr",{className:t.CLASS_PREFIX+"__row--data"},s.default.createElement("th",{className:t.CLASS_PREFIX+"__header "+t.CLASS_PREFIX+"__header--row",scope:"row"},a.formatNumber(i)),Object.keys(o.variableValues).map((function(e){return s.default.createElement("td",{className:t.CLASS_PREFIX+"__cell",key:o.ident+"-"+e},s.default.createElement(t.VariableValueInput,{ariaDescribedBy:h,ariaLabel:a.translate(t.TRANSLATION_KEY_PREFIX+".input.ariaLabel",{variable:e,row:i}),disabled:n,hasError:!Number.isFinite(o.variableValues[e]),value:o.variableValues[e],isRecalculatingVariableSets:r,updateVariableValue:u,variableName:e,ident:o.ident,onFocus:c}))})),s.default.createElement(t.VariableValueTableRowResult,{calculateRow:l,disabled:n,hasError:!f.isVariableSetValid(o),ident:o.ident,isDirty:d,isExponential:p,isRecalculatingVariableSets:r,result:o.answer,resultId:h,roundToSignificantFigures:g,rowNumber:i,scale:m}))},t.BaseVariableValueTableRow.propTypes={calculateRow:i.default.func,disabled:i.default.bool.isRequired,isDirty:i.default.bool,isExponential:i.default.bool.isRequired,isRecalculatingVariableSets:i.default.bool,localize:i.default.object,onInputFocus:i.default.func,roundToSignificantFigures:i.default.bool.isRequired,rowNumber:i.default.number.isRequired,scale:i.default.number.isRequired,updateVariableValue:i.default.func,variableSet:i.default.shape({answer:i.default.number,variableValues:i.default.object,ident:i.default.string.isRequired}).isRequired},t.VariableValueTableRow=o.localizedComponentWrapper(t.BaseVariableValueTableRow),t.BaseVariableValueTable=function(e){var n=e.disabled,a=e.localize,i=e.variableSets,o=e.isRecalculatingVariableSets,r=e.calculateRow,l=e.updateVariableValue,u=e.dirtyRowMap,d=e.correctAnswerTolerance,c=e.unitsText,f=e.isExponential,m=e.scale,g=e.roundToSignificantFigures;if(!i)return null;var h=s.useRef(),_=s.useRef(),b=function(e){t.scrollIntoView(e.target,h.current,_.current)},y=t.getResultColumnHeaderInfo(a,d,c);return s.default.createElement("table",{"aria-label":a.translate(t.TRANSLATION_KEY_PREFIX+".title"),className:""+t.CLASS_PREFIX,ref:_},s.default.createElement("tbody",{className:t.CLASS_PREFIX+"__body"},s.default.createElement("tr",{className:t.CLASS_PREFIX+"__row--header"},s.default.createElement("td",{className:t.CLASS_PREFIX+"__header "+t.CLASS_PREFIX+"__header--column"}),Object.keys(i[0].variableValues).map((function(e){return s.default.createElement("th",{className:t.CLASS_PREFIX+"__header "+t.CLASS_PREFIX+"__header--column",key:e,scope:"col"},e)})),s.default.createElement("th",{className:t.CLASS_PREFIX+"__header "+t.CLASS_PREFIX+"__header--column--result",scope:"col",ref:h},s.default.createElement("span",{className:p.removeExtraWhitespace("\n                                "+t.CLASS_PREFIX+"__header--column--result--contents\n                            ")},s.default.createElement("span",null,a.translate(t.TRANSLATION_KEY_PREFIX+".answer")),y&&s.default.createElement("span",{className:t.CLASS_PREFIX+"__header--column--result--contents--info"},y)))),i&&i.map((function(e,a){return s.default.createElement(t.VariableValueTableRow,{calculateRow:r,disabled:n,isDirty:u[e.ident],isExponential:f,isRecalculatingVariableSets:o,key:e.ident,onInputFocus:b,roundToSignificantFigures:g,rowNumber:a+1,scale:m,updateVariableValue:l,variableSet:e})}))))},t.BaseVariableValueTable.propTypes={calculateRow:i.default.func,correctAnswerTolerance:i.default.object,dirtyRowMap:i.default.object,disabled:i.default.bool.isRequired,isExponential:i.default.bool.isRequired,isRecalculatingVariableSets:i.default.bool,localize:i.default.object,roundToSignificantFigures:i.default.bool.isRequired,scale:i.default.number.isRequired,unitsText:i.default.string,updateVariableValue:i.default.func,variableSets:i.default.arrayOf(i.default.shape({answer:i.default.number,variableValues:i.default.object,ident:i.default.string.isRequired}))},t.default=o.localizedComponentWrapper(t.BaseVariableValueTable)},"85Zk":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("7j24"),s=n("QgAF");t.useStyles=a.makeStyles(e=>a.createStyles({icon:{zIndex:1},animatedIconButton:{position:"relative","&:focus:before":{boxShadow:"none"},"&:before":{animation:"$pulsate infinite linear 1.25s",animationIterationCount:4,borderRadius:"50%",content:'""',display:"block",height:"32px",marginTop:"-16px",position:"absolute",top:"50%",width:"32px",left:"50%",marginLeft:"-16px"},"&:after":{animation:"$circle 1 linear 5s forwards",borderRadius:"50%",content:'""',display:"block",height:"24px",marginTop:"-12px",position:"absolute",top:"50%",width:"24px",zIndex:0,left:"50%",marginLeft:"-12px"}},"@keyframes pulsate":{"0%":{border:`4px solid ${s.fade(e.palette.indicatorPrimary.main,.3)}`,transform:"scale(1, 1)"},"100%":{border:`4px solid ${s.fade(e.palette.indicatorPrimary.main,0)}`,transform:"scale(1.4, 1.4)"}},"@keyframes circle":{"0%":{background:s.fade(e.palette.indicatorPrimary.main,.3)},"90%":{background:s.fade(e.palette.indicatorPrimary.main,.3)},"100%":{background:s.fade(e.palette.indicatorPrimary.main,0)}}}))},"8gHA":function(e,t,n){},"9HIK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("2L3Q");t.default=a.default},"9mqG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("TrYj");t.default=a.default},"9qOT":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Waue");t.default=a.default,t.QuestionPoolQuestionList=a.QuestionPoolQuestionList},"9tRF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JfV0");function s(e){return e===a.CalculatedFormulaToleranceType.Numeric}function i(e,t,n){return s(e)?t/n:t/100}function o(e){return e>=0&&e<=100}function r(e,n){return e>=n&&e<=t.MAX_ROUNDING_VALUE}function l(e){return a.CalculatedFormulaAnswerPrecisionType.SignificantFigures===e?t.MIN_SIGNIFICANT_FIGURES_ROUNDING_VALUE:t.MIN_DECIMAL_ROUNDING_VALUE}function u(e){return e.maxValue>=e.minValue}function d(e){var t=e.maxValue;return e.minValue<=t}function c(e){var n=e.scale;return n>=0&&n<=t.MAX_SCALE_VALUE}function f(e){var t=e.maxValue,n=e.minValue,a=e.scale;return Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(a)&&u(e)&&d(e)&&c(e)}function p(e){var t=e.variableValues;return Object.values(t).every((function(e){return Number.isFinite(e)}))}function m(e){var t=e.answer;return Number.isFinite(t)}function g(e){return m(e)&&p(e)}t.MIN_DECIMAL_ROUNDING_VALUE=0,t.MIN_SIGNIFICANT_FIGURES_ROUNDING_VALUE=1,t.MAX_ROUNDING_VALUE=50,t.MAX_SCALE_VALUE=50,t.MIN_ANSWER_SETS=1,t.isNumericType=s,t.getToleranceValueAsPercent=i,t.isValidPercent=o,t.isValidRounding=r,t.getMinimumRoundingValue=l,t.isAnswerScaleValid=function(e){var t=e.answerScale,n=l(e.correctAnswerPrecision);return Number.isFinite(t)&&r(t,n)},t.isAnswerToleranceValid=function(e){var t=e.correctAnswerTolerance;return Number.isFinite(t.value)},t.isPartialCreditPointsPercentValid=function(e){var t=e.allowPartialCredit,n=e.partialCreditPointsPercent;return!t||Number.isFinite(n)&&o(n)},t.isPartialCreditToleranceValid=function(e){var t=e.allowPartialCredit,n=e.partialCreditTolerance;return!t||Number.isFinite(n.value)},t.isPartialCreditValueGreaterThanAnswerValue=function(e){var t=e.allowPartialCredit,n=e.correctAnswerTolerance,a=e.partialCreditTolerance,s=e.points,o=n&&i(n.type,n.value,s),r=a&&i(a.type,a.value,s);return 0===o||!t||r>=o},t.isPartialCreditPercentGreaterThanUnitsPercent=function(e){var t=e.allowPartialCredit,n=e.partialCreditPointsPercent,a=e.units;return!t||!a.unitsRequired||n>a.unitPointsPercent},t.isUnitPointsPercentValid=function(e){var t=e.units;return t&&(!t.unitsRequired||Number.isFinite(t.unitPointsPercent)&&o(t.unitPointsPercent))},t.isUnitValueValid=function(e){var t=e.units;return t&&(!t.unitsRequired||!!t.unitValue)},t.isVariableDefinitionMaxValueInRange=u,t.isVariableDefinitionMinValueInRange=d,t.isVariableDefinitionScaleInRange=c,t.isVariableDefinitionValid=f,t.isVariableDefinitionsValid=function(e){var t=e.variableDefinitions;return null==t||t.every(f)},t.isVariableSetCountValid=function(e){var t=e.variableSetCount;return Number.isFinite(t)&&t>=0},t.isVariableSetValuesValid=p,t.isVariableValueAnswerValid=m,t.isVariableSetValid=g,t.isVariableSetsValid=function(e){return e.variableSets.every((function(e){return g(e)}))}},AFzv:function(e,t,n){},AV37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("8unJ");t.default=function(e,t){void 0===t&&(t=1);var n=o.NotificationType.Processing,l=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.notificationWrapper=s.default.createRef(),t}return a.__extends(r,e),r.prototype.componentDidMount=function(){this.notificationWrapper.current.focus()},r.prototype.render=function(){var e=this.props.localize;return s.default.createElement("div",{className:"question-reuse-notification-wrapper",tabIndex:"0",ref:this.notificationWrapper},s.default.createElement(o.Notification,{type:n,message:e.translate("questionReuse.copyProcessing",{questionCount:t})}))},r.propTypes={localize:i.default.object.isRequired},r}(s.default.Component);return{positionAfter:e,type:n,Component:r.localizedComponentWrapper(l)}}},Ag5V:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("uxze"),r=n("zDAW"),l=n("pNgc"),u=n("8h7I"),d=n("o7ef"),c=n("Vng8"),f=function(e){e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||(e.preventDefault(),e.stopPropagation())},p=function(e){-1!==e.clipboardData.getData("Text").indexOf(".")&&(e.preventDefault(),e.stopPropagation())},m=function(e){var t=e.hasSubmissions,n=e.localize,i=e.onQuestionChange,m=e.openPoolQuestionPanel,g=e.question,h=e.questionBeingEditedId,_="question-block-display-questions-"+g.id,b=n.translate(d.LOCALE_KEY_BASE+".displayQuestions.invalid"),y=g.numOfQuestionsToChoose>=0&&g.numOfQuestionsToChoose<=g.numOfAvailableQuestions;return s.default.createElement("div",{className:d.CLASS_BASE+" "+d.CLASS_BASE+"--edit"},s.default.createElement("div",{className:d.CLASS_BASE+"__content"},s.default.createElement("div",{className:d.CLASS_BASE+"__editables-wrapper"},s.default.createElement("div",{className:d.CLASS_BASE+"__editables-details"},s.default.createElement(l.ContentCollection,{className:d.CLASS_BASE+"__icon",color:"primary"}),s.default.createElement("div",{className:d.CLASS_BASE+"__content-description-wrapper"},s.default.createElement("div",{className:d.CLASS_BASE+"__content-description"},n.translate(d.LOCALE_KEY_BASE+".description.edit.plural",{questionsTotal:g.numOfAvailableQuestions})),s.default.createElement(o.Link,{disabled:c.isNewQuestion(g)||h!==g.id,onClick:function(){return m(g.id)},analyticsId:"questionBlockQuestionEdit.poolQuestionPanel.open.link"},n.translate(d.LOCALE_KEY_BASE+".viewQuestions",{questionsTotal:g.numOfAvailableQuestions})))),s.default.createElement("div",{className:d.CLASS_BASE+"__editables-divider"}),s.default.createElement("div",{className:d.CLASS_BASE+"__display-questions-wrapper"},s.default.createElement(r.Label,{className:d.CLASS_BASE+"__display-questions-label",htmlFor:_},n.translate(d.LOCALE_KEY_BASE+".displayQuestions.label")),s.default.createElement(u.TextField,{className:d.CLASS_BASE+"__display-questions-input-wrapper",inputClassName:d.CLASS_BASE+"__display-questions-input",errorMessage:y?"":b,id:_,min:0,onKeyDown:f,onPaste:p,onChanged:function(e){i(a.__assign(a.__assign({},g),{numOfQuestionsToChoose:+e}))},type:"number",value:""+g.numOfQuestionsToChoose,disabled:t,analyticsId:"questionBlockQuestionEdit.displayQuestionsInput.textField"})))))};m.propTypes={hasSubmissions:i.default.bool.isRequired,localize:i.default.object.isRequired,onQuestionChange:i.default.func.isRequired,openPoolQuestionPanel:i.default.func.isRequired,question:i.default.object.isRequired,questionBeingEditedId:i.default.string},t.default=m},AiU9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("nsO7")),i=a.__importStar(n("ERkP")),o=a.__importDefault(n("aWzz")),r=n("MC1S"),l=n("76kz"),u=n("t3aq"),d=n("JfV0"),c=n("caKH"),f=n("8unJ"),p=a.__importDefault(n("o8si")),m=a.__importDefault(n("RtIR")),g=n("QJmz");n("+2T6");var h=n("b0Dq"),_=n("X3OV");function b(e){switch(e){case d.QuestionType.Essay.toString():case d.QuestionType.FIMB.toString():case d.QuestionType.Matching.toString():case d.QuestionType.Multiple.toString():case d.QuestionType.Either.toString():case d.QuestionType.QuestionBlock.toString():return!0;default:return!1}}var y=function(e){function t(t){var n=e.call(this,t)||this;return n.onDeleteClick=function(){n.setState({isConfirmationDialogOpen:!0})},n.onAlignWithGoal=function(){n.props.openGoals()},n.onConfirmationDismiss=function(){n.setState({isConfirmationDialogOpen:!1})},n.onCancelDelete=function(){n.onConfirmationDismiss(),n.dropDownMenuButton.firstChild.focus()},n.onMenuOpen=function(){n.props.updateDropdownMenuOptions&&n.props.updateDropdownMenuOptions(),n.state.isConfirmationDialogOpen&&n.onConfirmationDismiss()},n.getDropDownMenuOptions=function(){var e=n.mergeDefaultMenuOptionsWithOverrides(),t=n.props,a=t.hasQuestionDeletePermissions,s=t.hasQuestionEditPermissions,i=t.hasSubmissions,o=t.question,r=t.removeEditOption,l=t.commonContext,u=!!o.usageCount&&o.usageCount>0;return e.filter((function(e){switch(e.key){case"alignWithGoal":return s&&!l.isMobileAppPreview;case"regrade":return s&&i&&!l.isMobileAppPreview;case"delete":return a&&!i&&!u&&!l.isMobileAppPreview;case"edit":var t=s&&!r&&!l.isMobileAppPreview;return b(o.questionType)?t&&!i:t;default:return!0}}))},n.getDefaultMenuOptions=function(){var e=n.props,t=e.localize,a=e.question,s=e.startEditMode,i=[{key:"edit",iconProps:{iconName:"draw",iconSize:"small"},name:t.translate("assessments.canvas.question.overflowOptions.edit"),onClick:function(){return s()}},{key:"delete",iconProps:{iconName:"trash",iconSize:"small"},name:t.translate("assessments.canvas.question.overflowOptions.delete"),onClick:function(){return n.onDeleteClick()}}];if(!0===g.getToggle("questionRegrading")&&b(a.questionType)&&i.unshift({key:"regrade",iconProps:{iconName:"draw",iconSize:"small"},name:t.translate("assessments.canvas.question.overflowOptions.regrade"),onClick:function(){return s()}}),!d.Questions.isPresentationOnly(a)&&!d.Questions.isQuestionBlock(a)){var o={key:"alignWithGoal",iconProps:{iconName:"goal",iconSize:"small"},name:t.translate("assessments.canvas.question.overflowOptions.alignWithGoal"),onClick:function(){return n.onAlignWithGoal()}};i.splice(i.length-1,0,o)}return i},n.mergeDefaultMenuOptionsWithOverrides=function(){var e=n.props.dropDownMenuOptionsOverrides,t=n.getDefaultMenuOptions(),a=t.map((function(t){var n=s.find(e,{key:t.key});return void 0===n?t:n})),i=s.differenceWith(e,t,(function(e,t){return e.key===t.key}));return a.concat(i)},n.state={isConfirmationDialogOpen:!1},n}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.deleteQuestion,s=t.dragButtonAriaLabel,o=t.dragPointRef,f=t.disableInteraction,g=t.hasAssessmentModifyPermissions,_=t.hasSubmissions,b=t.localize,y=t.question,v=t.questionTitle;if(!t.showQuestionControls)return null;var E="question";d.Questions.isPresentationOnly(y)&&(E=d.Questions.isFileAttachment(y)?"file":"text");var C="file"===E?h.getFileViewerPropsArray(y):[],w=C.length?C[0].file:null,S={onDismiss:function(){return e.onConfirmationDismiss()},showAsCallout:!0,target:this.dropDownMenuButton,calloutProps:{setInitialFocus:!0},dialogContentProps:{type:r.DialogType.actionConfirmation,showCloseButton:!1,title:b.translate("assessments.canvas.question.deleteConfirmation.title."+E),subText:b.translate("assessments.canvas.question.deleteConfirmation.subText."+E),isAlert:!0}},P=m.default("overflow",y,v),R=this.getDropDownMenuOptions();return i.default.createElement("div",{className:"question-controls"},i.default.createElement("div",{className:"question-controls__actions"},i.default.createElement("div",{ref:function(t){e.dropDownMenuButton=t},className:"question-controls__menu-icon"},(!!R.length||w&&!l.canFileBeRenderedInline(w))&&i.default.createElement(r.ActionMenu,{maintainExpandedProperties:this.state.isConfirmationDialogOpen,menuProps:{directionalHint:6,items:R,onMenuOpened:function(){return e.onMenuOpen()}},ariaLabel:b.translate(P.string,{relatedContent:P.relation}),"aria-hidden":f?"true":void 0,removedFromTabOrder:f}),this.state.isConfirmationDialogOpen?i.default.createElement(c.UltraModalDialog,a.__assign({},S),i.default.createElement(r.DialogFooter,null,i.default.createElement(r.DefaultButton,{onClick:function(){return e.onCancelDelete()},text:b.translate("assessments.canvas.question.deleteConfirmation.cancel"),analyticsId:"assessments.canvas.question.deleteConfirmation.cancel"}),i.default.createElement(r.PrimaryButton,{onClick:n,text:b.translate("assessments.canvas.question.deleteConfirmation.delete"),analyticsId:"assessments.canvas.question.deleteConfirmation.delete"}))):null),w&&l.canFileBeRenderedInline(w)&&l.isFileDisplayedInline(w)&&i.default.createElement("div",{className:"question-controls__score-indicator"},i.default.createElement(u.AllyWidget,{contentRef:y.id,widgetType:u.WidgetType.ScoreIndicator})),!_&&g&&i.default.createElement(p.default,{ariaLabel:s,className:"question-controls__dnd",dragPointRef:o,title:b.translate("assessments.canvas.drag.instructions"),removedFromTabOrder:f,analyticsId:"assessments.canvas.drag.instructions"})))},t.propTypes={deleteQuestion:o.default.func.isRequired,dragButtonAriaLabel:o.default.string.isRequired,dragPointRef:o.default.func.isRequired,dropDownMenuOptionsOverrides:o.default.array,editMode:o.default.number.isRequired,hasQuestionEditPermissions:o.default.bool.isRequired,hasQuestionDeletePermissions:o.default.bool.isRequired,hasSubmissions:o.default.bool.isRequired,hasAssessmentModifyPermissions:o.default.bool.isRequired,localize:o.default.object.isRequired,openGoals:o.default.func.isRequired,removeEditOption:o.default.bool,startEditMode:o.default.func.isRequired,updateDropdownMenuOptions:o.default.func,question:o.default.object.isRequired,questionTitle:o.default.string,disableInteraction:o.default.bool,showQuestionControls:o.default.bool.isRequired},t}(i.Component);t.getQuestionControlProps=function(e){return{deleteQuestion:e.deleteQuestion,dragButtonAriaLabel:e.dragButtonAriaLabel,dragPointRef:e.dragPointRef,editMode:e.editMode,hasQuestionEditPermissions:e.hasQuestionEditPermissions,hasQuestionDeletePermissions:e.hasQuestionDeletePermissions,hasSubmissions:e.hasSubmissions,hasAssessmentModifyPermissions:e.hasAssessmentModifyPermissions,openGoals:e.openGoals,question:e.question,showQuestionControls:e.showQuestionControls,startEditMode:e.startEditMode}},t.UnwrappedQuestionControls=f.localizedComponentWrapper(y),t.default=_.withAssessmentCommonContext(t.UnwrappedQuestionControls)},B8lv:function(e,t,n){},BJSr:function(e,t,n){},BXTk:function(e,t,n){},C9HY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=n("uDfI"),o=n("8unJ"),r=n("tN4z"),l=n("TUnR"),u=n("ECG1"),d=n("JfV0"),c=n("HZ1V"),f=a.__importDefault(n("Pfoe")),p=a.__importDefault(n("O94r")),m=a.__importDefault(n("YE/5")),g=n("y3re"),h=o.localizedComponentWrapper((function(e){var t=e.localize,n=e.modeDisplayText,a=e.uniqueId,i=c.useStyles();return s.default.createElement("div",{className:i.displaySettings},s.default.createElement(r.AnalyticsTypography,{component:"span",variant:"inherit",id:_+"__displaySettingsText-"+a},n),s.default.createElement(r.AnalyticsTooltip,{analyticsId:b+".tooltip",title:t.translate("automatedQuestionFeedback.edit.displaySettings.tooltip.content"),placement:"top"},s.default.createElement(r.AnalyticsIconButton,{className:i.displaySettingsButton,analyticsId:b+".displaySettings.tooltip","aria-label":t.translate("automatedQuestionFeedback.edit.displaySettings.tooltip.ariaLabel")},s.default.createElement(u.Information,null))))})),_="automated-question-feedback-edit",b="assessments.automated-question-feedback.edit";t.CORRECT_FEEDBACK_SELECTOR="js-"+_+"__correct-feedback",t.INCORRECT_FEEDBACK_SELECTOR="js-"+_+"__incorrect-feedback",t.FEATURE_ANNOUNCEMENT_KEY="automatedQuestionFeedback",t.AutomatedQuestionFeedbackEditComponent=function(e){var n,i,o,u,y,v=e.content,E=e.localize,C=e.question,w=e.onQuestionChange,S=e.setActiveEditorId,P=e.activeEditorId,R=e.showFeatureAnnouncement,A=c.useStyles(),T=_+"_incorrect-section-title_"+C.id,q=_+"_correct-section-title_"+C.id,I=s.default.useState(!!(null===(n=C.correctResponseFeedback)||void 0===n?void 0:n.rawText)||!!(null===(i=C.incorrectResponseFeedback)||void 0===i?void 0:i.rawText)),D=I[0],Q=I[1],F=s.default.useState(!1),k=F[0],x=F[1],N=s.default.useState(!1),L=N[0],M=N[1],O="",B=null===(o=null==v?void 0:v.deploymentSettings)||void 0===o?void 0:o.feedbackSettings,z=d.FeedbackSettings.getFeedbackModeByOption(d.FeedbackOption.InstructorFeedback,B),V=z.associatedDate,j=z.mode;O=j?V?E.translate("automatedQuestionFeedback.edit.displaySettings.feedbackMode.osd",{date:V}):E.translate("automatedQuestionFeedback.edit.displaySettings.feedbackMode."+j):E.translate("automatedQuestionFeedback.edit.displaySettings.hidden");var K=g.shouldShowFeatureAnnouncement(R,t.FEATURE_ANNOUNCEMENT_KEY);return s.default.createElement("div",{className:p.default(A.base,_)},s.default.createElement("div",{className:A.header},s.default.createElement("div",{className:A.toggleSwitchContainer},s.default.createElement(r.AnalyticsFormControlLabel,{analyticsId:b+".toggleLabel",className:A.toggleLabel,control:s.default.createElement(r.AnalyticsSwitch,{analyticsId:b+".toggleSwitch",checked:D,className:p.default(A.toggleSwitch,_+"__toggleSwitch"),onChange:function(e,t){var n,a,s=(null===(n=C.correctResponseFeedback)||void 0===n?void 0:n.rawText)||(null===(a=C.incorrectResponseFeedback)||void 0===a?void 0:a.rawText);t||!s&&!L?Q(t):x(!0)}}),label:E.translate("automatedQuestionFeedback.edit.toggleLabel")}),K&&s.default.createElement(l.GuidanceFeatureAnnouncement,{componentKey:t.FEATURE_ANNOUNCEMENT_KEY,buttonAriaLabel:E.translate("automatedQuestionFeedback.edit.featureAnnouncement.buttonAriaLabel"),content:E.translate("automatedQuestionFeedback.edit.featureAnnouncement.content"),title:E.translate("automatedQuestionFeedback.edit.featureAnnouncement.title"),linkHref:E.translate("automatedQuestionFeedback.edit.featureAnnouncement.moreInfoLinkUrl"),linkText:E.translate("automatedQuestionFeedback.edit.featureAnnouncement.moreInfoLinkText"),doneButtonText:E.translate("automatedQuestionFeedback.edit.featureAnnouncement.doneButtonText")})),s.default.createElement(h,{modeDisplayText:O,uniqueId:C.id})),D&&s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:A.correct+" "+t.CORRECT_FEEDBACK_SELECTOR},s.default.createElement("div",{className:A.sectionHeader},s.default.createElement(r.AnalyticsTypography,{id:q,component:function(e){return s.default.createElement("label",a.__assign({htmlFor:"correct-feedback_"+C.id},e))},variant:"h6",className:A.sectionTitle},E.translate("automatedQuestionFeedback.correctAnswerLabel"))),s.default.createElement(f.default,{ariaLabelledBy:q,bbml:null===(u=C.correctResponseFeedback)||void 0===u?void 0:u.rawText,id:"correct-feedback_"+C.id,isReadOnly:!1,onChange:function(e){M(!0),w(a.__assign(a.__assign({},C),{correctResponseFeedback:{rawText:e.toBbML()}}))},setActiveEditorId:S,keepToolbarVisible:!1,activeEditorId:P})),s.default.createElement("div",{className:A.correct+" "+t.INCORRECT_FEEDBACK_SELECTOR},s.default.createElement("div",{className:A.sectionHeader},s.default.createElement(r.AnalyticsTypography,{id:T,component:function(e){return s.default.createElement("label",a.__assign({htmlFor:"incorrect-feedback_"+C.id},e))},variant:"h6",className:A.sectionTitle},E.translate("automatedQuestionFeedback.incorrectAnswerLabel")),s.default.createElement(r.AnalyticsTypography,{component:"span",variant:"body2",className:A.sectionInstructions},E.translate("automatedQuestionFeedback.edit.incorrectAnswerInstructions"))),s.default.createElement(f.default,{ariaLabelledBy:T,bbml:null===(y=C.incorrectResponseFeedback)||void 0===y?void 0:y.rawText,id:"incorrect-feedback_"+C.id,isReadOnly:!1,onChange:function(e){M(!0),w(a.__assign(a.__assign({},C),{incorrectResponseFeedback:{rawText:e.toBbML()}}))},setActiveEditorId:S,keepToolbarVisible:!1,activeEditorId:P}))),s.default.createElement(m.default,{analyticsId:b+".removeFeedbackWarning",okButtonLocaleKey:"automatedQuestionFeedback.edit.warningDialog.okButton",onOk:function(){x(!1),Q(!1),M(!1),w(a.__assign(a.__assign({},C),{correctResponseFeedback:{rawText:""},incorrectResponseFeedback:{rawText:""}}))},onCancel:function(){return x(!1)},onDismiss:function(){return x(!1)},show:k,subText:E.translate("automatedQuestionFeedback.edit.warningDialog.text"),title:E.translate("automatedQuestionFeedback.edit.warningDialog.title")}))};var y=i.connect((function(e,t){return{content:d.select.content.getContentByAssessmentId(e,t.question.assessmentId)}}))(t.AutomatedQuestionFeedbackEditComponent);t.default=o.localizedComponentWrapper(y)},CCvt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("AuQm"),l=n("E1pj"),u=n("t6ux"),d=n("9tRF");function c(e,t,n){var s;return a.__assign(a.__assign({},e),((s={})[t]=n,s))}function f(e){return e.reduce((function(e,t){return c(e,t.name,!0)}),{})}function p(e){return Object.values(e).every((function(e){return e}))}n("BJSr"),t.CLASS_PREFIX="calculated-formula-question__step-2__variable-range-table",t.TRANSLATION_KEY_PREFIX="assessments.canvas.question.calculatedFormula.stepTwo.variableRanges",t.INPUT_KEY_PREFIX=t.TRANSLATION_KEY_PREFIX+".table.input",t.getInputErrorKey=function(e,n,a){var s=null;return null!=n&&a<n?s=t.INPUT_KEY_PREFIX+".error.lessThanMinimum":null!=e&&a>e?s=t.INPUT_KEY_PREFIX+".error.greaterThanMaximum":null==a&&(s=t.INPUT_KEY_PREFIX+".error.NaN"),s},t.BaseVariableRangeInput=function(e){var n=e.analyticsId,a=e.ariaLabel,i=e.disabled,o=e.localize,l=e.max,u=e.min,d=e.numberFormatOptions,c=e.onChange,f=e.onValidate,p=e.value,m=t.getInputErrorKey(l,u,p),g=null!=m&&o.translate(m,{max:l,min:u});return s.default.useEffect((function(){f(null==m)}),[m,f]),s.default.createElement(r.LocalizedNumberInput,{analyticsId:n+".textField",ariaLabel:a,className:t.CLASS_PREFIX+"__input",disabled:i,helperText:g,max:l,min:u,numberFormatOptions:d,onChange:c,validate:function(){return!g},value:p})},t.BaseVariableRangeInput.propTypes={analyticsId:i.default.string.isRequired,ariaLabel:i.default.string.isRequired,disabled:i.default.bool.isRequired,localize:i.default.object,max:i.default.number,min:i.default.number,numberFormatOptions:i.default.object,onChange:i.default.func.isRequired,onValidate:i.default.func.isRequired,value:i.default.number},t.VariableRangeInput=o.localizedComponentWrapper(t.BaseVariableRangeInput),t.BaseVariableRangeTableRow=function(e){var n=e.disabled,a=e.localize,i=e.maxValue,o=e.minValue,r=e.name,l=e.onChange,c=e.onValidate,f=e.scale,p=s.useState(!0),m=p[0],g=p[1],h=s.useState(!0),_=h[0],b=h[1],y=s.useState(!0),v=y[0],E=y[1],C=m&&_&&v;s.default.useEffect((function(){c(C)}),[C]);return s.default.createElement("tr",{className:t.CLASS_PREFIX+"__row"},s.default.createElement("th",{className:t.CLASS_PREFIX+"__header "+t.CLASS_PREFIX+"__header--row",scope:"row"},r),s.default.createElement("td",{className:t.CLASS_PREFIX+"__cell "+t.CLASS_PREFIX+"__cell--min"},s.default.createElement(t.VariableRangeInput,{analyticsId:u.ANALYTICS_ID_PREFIX+".variableRange.minimum",ariaLabel:a.translate(t.INPUT_KEY_PREFIX+".ariaLabel.minimum",{name:r}),disabled:n,max:i,onChange:function(e){l({minValue:e})},onValidate:b,value:o})),s.default.createElement("td",{className:t.CLASS_PREFIX+"__cell "+t.CLASS_PREFIX+"__cell--max"},s.default.createElement(t.VariableRangeInput,{analyticsId:u.ANALYTICS_ID_PREFIX+".variableRange.maximum",ariaLabel:a.translate(t.INPUT_KEY_PREFIX+".ariaLabel.maximum",{name:r}),disabled:n,min:o,onChange:function(e){l({maxValue:e})},onValidate:g,value:i})),s.default.createElement("td",{className:t.CLASS_PREFIX+"__cell "+t.CLASS_PREFIX+"__cell--scale"},s.default.createElement(t.VariableRangeInput,{analyticsId:u.ANALYTICS_ID_PREFIX+".variableRange.scale",ariaLabel:a.translate(t.INPUT_KEY_PREFIX+".ariaLabel.decimalPlaces",{name:r}),disabled:n,max:d.MAX_SCALE_VALUE,min:0,numberFormatOptions:{maximumFractionDigits:0},onChange:function(e){l({scale:e})},onValidate:E,value:f})))},t.BaseVariableRangeTableRow.propTypes={disabled:i.default.bool.isRequired,localize:i.default.object,maxValue:i.default.number,minValue:i.default.number,name:i.default.string.isRequired,onChange:i.default.func.isRequired,onValidate:i.default.func.isRequired,scale:i.default.number},t.VariableRangeTableRow=o.localizedComponentWrapper(t.BaseVariableRangeTableRow),t.setRowValid=c,t.getInitialRowValidityMap=f,t.isTableValid=p,t.BaseVariableRangeTable=function(e){var n=e.disabled,i=e.localize,o=e.onValidate,r=e.onVariableDefinitionChange,l=e.titleId,u=e.variableDefinitions,d=s.useState(f(u)),m=d[0],g=d[1];s.useEffect((function(){o(p(m))}),[p(m),o]);return s.default.createElement("table",{"aria-describedby":l,className:""+t.CLASS_PREFIX},s.default.createElement("tbody",{className:t.CLASS_PREFIX+"__body"},s.default.createElement("tr",{className:t.CLASS_PREFIX+"__row"},s.default.createElement("td",null),s.default.createElement("th",{className:t.CLASS_PREFIX+"__header "+t.CLASS_PREFIX+"__header--column",scope:"col"},i.translate(t.TRANSLATION_KEY_PREFIX+".table.headers.minimum")),s.default.createElement("th",{className:t.CLASS_PREFIX+"__header "+t.CLASS_PREFIX+"__header--column",scope:"col"},i.translate(t.TRANSLATION_KEY_PREFIX+".table.headers.maximum")),s.default.createElement("th",{className:t.CLASS_PREFIX+"__header "+t.CLASS_PREFIX+"__header--column",scope:"col"},i.translate(t.TRANSLATION_KEY_PREFIX+".table.headers.decimalPlaces"))),u&&u.map((function(e){if(!e)return null;var i=e.maxValue,o=e.minValue,l=e.name,u=e.scale;return s.default.createElement(t.VariableRangeTableRow,{disabled:n,key:l,maxValue:i,minValue:o,name:l,onChange:function(t){r(a.__assign(a.__assign({},e),t))},onValidate:function(e){g(c(m,l,e))},scale:u})}))))},t.BaseVariableRangeTable.propTypes={disabled:i.default.bool.isRequired,localize:i.default.object,onValidate:i.default.func.isRequired,onVariableDefinitionChange:i.default.func.isRequired,titleId:i.default.string.isRequired,variableDefinitions:i.default.arrayOf(i.default.shape({maxValue:i.default.number,minValue:i.default.number,name:i.default.string.isRequired,scale:i.default.number})).isRequired},t.VariableRangeTable=o.localizedComponentWrapper(t.BaseVariableRangeTable),t.BaseVariableRange=function(e){var n=e.disabled,a=e.localize,i=e.onValidate,o=e.onVariableDefinitionChange,r=e.variableDefinitions,u=s.useState(l.getId("calculated-question-variable-ranges-table-title-"))[0],d=r&&r.length>0;return s.default.createElement("div",{className:t.CLASS_PREFIX+"__container"},s.default.createElement("h4",{className:t.CLASS_PREFIX+"__title",id:u},a.translate(t.TRANSLATION_KEY_PREFIX+".title")),d?s.default.createElement(t.VariableRangeTable,{disabled:n,onValidate:i,onVariableDefinitionChange:o,titleId:u,variableDefinitions:r}):s.default.createElement("span",{className:t.CLASS_PREFIX+"__no-variables"},a.translate(t.TRANSLATION_KEY_PREFIX+".noVariables")))},t.BaseVariableRange.propTypes={disabled:i.default.bool.isRequired,localize:i.default.object,onValidate:i.default.func.isRequired,onVariableDefinitionChange:i.default.func.isRequired,variableDefinitions:i.default.arrayOf(i.default.shape({maxValue:i.default.number,minValue:i.default.number,name:i.default.string.isRequired,scale:i.default.number}))},t.default=o.localizedComponentWrapper(t.BaseVariableRange)},CvmH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("KTc4");t.default=a.default},D0DQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S");n("KTib");var r=function(e){var t=e.disabled,n=e.editable,a=e.inputDescriptionText,i=e.inputLabelText,r=e.inputText,l=e.onInputChange;return n?s.default.createElement("div",{className:"fimb-question-answer-input fimb-question-answer-input--edit"},s.default.createElement(o.TextField,{value:r,disabled:t,label:i,onChanged:l,analyticsId:"fimbQuestionAnswerInput.edit.textField"})):s.default.createElement("div",{className:"fimb-question-answer-input fimb-question-answer-input--read"},s.default.createElement("div",{className:"fimb-question-answer-input__label"},i),s.default.createElement("div",{className:"fimb-question-answer-input__input-wrapper"},s.default.createElement("div",{className:"fimb-question-answer-input__answer"},r),s.default.createElement("div",{className:"fimb-question-answer-input__description"},a)))};r.propTypes={disabled:i.default.bool.isRequired,editable:i.default.bool.isRequired,inputDescriptionText:i.default.string.isRequired,inputLabelText:i.default.string.isRequired,inputText:i.default.string.isRequired,onInputChange:i.default.func.isRequired},t.default=r},DeRc:function(e,t,n){},DjPm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("ERkP"),s=n("mzw0"),i=n("gYi3"),o=n("A4Z1");t.MathEditor=({apiBasePath:e,className:t,locale:n,initialMathML:r,onError:l,onLoad:u})=>{const d=a.useRef(null),{initError:c,isReady:f,wirisEditorInstance:p}=s.useWirisEditor(d,e,r,n),m=i.useStyles();return a.useEffect(()=>{p&&f&&u(p)},[p]),a.useEffect(()=>{c&&l(c)},[c]),a.createElement(o.AnalyticsJssThemeProvider,{theme:"light"},a.createElement("div",{className:`${m.mathEditor} math-editor ${t||""}`,ref:d}))},t.MathEditor.displayName="MathEditor"},E8Oa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("JfV0"),r=n("Vng8"),l=a.__importDefault(n("NzPg")),u=a.__importDefault(n("ZfLe")),d=a.__importStar(n("jPx/")),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validate=function(e,t){var n=t.answers.some((function(e){return""===e.answerText.rawText})),a=t.prompts.some((function(e){return""===e.promptText.rawText}));return!(n||a)&&r.hasMatchingQuestionChanged(e,t)},t.onQuestionChange=function(e,n){var s=a.__assign(a.__assign({},e),{prompts:t.updatePromptsPartialCreditPercentage(e)});t.props.onQuestionChange(s,t.validate,n)},t.onAnswerChange=function(e){var n=t.props.question,s=n.answers.map((function(t){return t.ui.id===e.ui.id?e:t})),i=a.__assign(a.__assign({},n),{answers:s});t.onQuestionChange(i)},t.onPromptChange=function(e){var n=t.props.question,s=n.prompts.map((function(t){return t.id===e.id?e:t})),i=a.__assign(a.__assign({},n),{prompts:s});t.onQuestionChange(i)},t.onPromptAnswerPairAddition=function(){var e=t.props,n=e.question,s=e.setActiveEditorId,i=o.Questions.createMatchingAnswer(),r=o.Questions.createMatchingPrompt(n.answers.length),l=a.__assign(a.__assign({},n),{prompts:a.__spreadArrays(n.prompts,[r]),answers:a.__spreadArrays(n.answers,[i])});t.onQuestionChange(l,(function(){return s("prompt-"+r.id)}))},t.onDistractorAddition=function(){var e=t.props,n=e.question,s=e.setActiveEditorId,i=o.Questions.createMatchingAnswer(!0),r=a.__assign(a.__assign({},n),{answers:a.__spreadArrays(n.answers,[i])});t.onQuestionChange(r,(function(){return s("distractor-"+i.ui.id)}))},t.onPromptAnswerPairDeletion=function(e){var n=t.props.question;t.onQuestionChange(d.removePairFromQuestion(n,e))},t.onDistractorDeletion=function(e){var n=t.props.question,a=n.answers.findIndex((function(t){return t.ui.id===e})),s=d.removeAnswerFromQuestion(n,a);t.onQuestionChange(s)},t.onPromptAnswerReuse=function(e,n){var s=t.props.question,i=s.prompts.findIndex((function(t){return t.id===e})),o=s.prompts[i],r=s.prompts[i].matchingAnswerIndex,l=s.prompts[n].matchingAnswerIndex,u=a.__spreadArrays(s.prompts.slice(0,i),[a.__assign(a.__assign({},o),{matchingAnswerIndex:l,reusesAnswer:!0})],s.prompts.slice(i+1)),c=a.__assign(a.__assign({},s),{prompts:u,answers:s.answers});o.reusesAnswer||(c=d.removeAnswerFromQuestion(c,r)),t.onQuestionChange(c)},t.onPromptRemoveReusedAnswer=function(e){var n=t.props,s=n.question,i=n.setActiveEditorId,r=s.prompts.findIndex((function(t){return t.id===e})),l=o.Questions.createMatchingAnswer(!1),u=a.__spreadArrays(s.answers,[l]),c=u.length-1,f=a.__spreadArrays(s.prompts.slice(0,r),[a.__assign(a.__assign({},s.prompts[r]),{matchingAnswerIndex:c,reusesAnswer:!1})],s.prompts.slice(r+1)),p=a.__assign(a.__assign({},s),{prompts:f,answers:u});t.onQuestionChange(p,(function(){return i(d.getAnswerEditorId(e))}))},t.canDeletePromptAnswerPair=function(e){var n=t.props.question;return n.prompts.length>o.MATCHING_MINIMUM_REQUIRED_AMOUNT_OF_PROMPTS&&(n.answers.length>o.MATCHING_MINIMUM_REQUIRED_AMOUNT_OF_ANSWERS||e)},t.canDeleteDistractor=function(){return t.props.question.answers.length>o.MATCHING_MINIMUM_REQUIRED_AMOUNT_OF_ANSWERS},t.onScoringOptionsChange=function(e){var n=t.props.question,s=a.__assign(a.__assign({},n),e);t.onQuestionChange(s)},t.updatePromptsPartialCreditPercentage=function(e){var t,n,s=e.prompts,i=(t=100/s.length,n=Math.pow(10,5),Math.trunc(n*t)/n),o=-1*i,r=function(e){var t=Math.pow(10,5);return Math.round(t*e)/t}(100-i*s.length);return s.map((function(e,t){return t===s.length-1?a.__assign(a.__assign({},e),{partialCredit:i+r,negativeCredit:o-r}):a.__assign(a.__assign({},e),{partialCredit:i,negativeCredit:o})}))},t}return a.__extends(t,e),t.prototype.render=function(){return s.default.createElement(l.default,a.__assign({},this.props,{canDeleteDistractor:this.canDeleteDistractor,canDeletePromptAnswerPair:this.canDeletePromptAnswerPair,onAnswerChange:this.onAnswerChange,onDistractorAddition:this.onDistractorAddition,onDistractorDeletion:this.onDistractorDeletion,onPromptAnswerPairAddition:this.onPromptAnswerPairAddition,onPromptAnswerPairDeletion:this.onPromptAnswerPairDeletion,onPromptAnswerReuse:this.onPromptAnswerReuse,onPromptRemoveReusedAnswer:this.onPromptRemoveReusedAnswer,onPromptChange:this.onPromptChange,onQuestionChange:this.onQuestionChange,onScoringOptionsChange:this.onScoringOptionsChange}))},t.propTypes={question:i.default.object.isRequired,onQuestionChange:i.default.func.isRequired,setActiveEditorId:i.default.func.isRequired},t}(s.Component);t.MatchingContainer=c,t.default=u.default(c)},EC4L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importStar(n("nsO7")),r=n("nBlB"),l=n("JfV0"),u=a.__importDefault(n("RtIR")),d=n("y3re"),c=a.__importDefault(n("MDkG")),f=a.__importDefault(n("YqWx"));n("Syma");var p=n("X3OV"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.questionPreviews={},t.getPreview=function(e,n){var a=e.id,i=t.questionPreviews[a];return null==i||i.question===e&&i.questionTitle===n||(t.questionPreviews[a]=null),null==t.questionPreviews[a]&&(t.questionPreviews[a]={question:e,questionTitle:n,preview:s.default.createElement(f.default,{question:e,questionTitle:n})}),t.questionPreviews[a].preview},t.hasQuestionCreatePermissions=function(e){return!0===o.get(e,"permissions.create")},t.getDraggingLabelObject=function(e,n,a){var s=t.props.keyInsertIndex-1;return t.props.isKeyboardMoving?e===s?{string:"assessments.canvas.drop.buttonStart",relation:""}:0===t.props.keyInsertIndex?{string:"assessments.canvas.drop.buttonTop",relation:""}:u.default("drop",t.props.items[s],a[s]):u.default("drag",n,a[e])},t.getQuestionTitleArray=function(){var e=t.props,n=e.items,a=e.localize,s=0;return n.map((function(e){if(!l.Questions.isPresentationOnly(e)){var t="assessments.canvas.question.header.",n={};if(l.Questions.isQuestionBlock(e)&&e.numOfQuestionsToChoose>1){var i=s+1,o=s+e.numOfQuestionsToChoose;t+="titleBlock",n={blockStart:i,blockEnd:o},s=o}else l.Questions.isQuestionBlock(e)&&0===e.numOfQuestionsToChoose?t+="titleBlockEmpty":(t+="title",n={position:s+=1});return a.translate(t,n)}return null}))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.items,i=t.localize,o=t.AddButton,r=t.hasSubmissions,l=t.hasAssessmentModifyPermissions,f=t.isLoadingInProgress,p=t.notification,m=t.commonContext,g=new d.FeatureAnnouncementsHelper(n).getQuestionFeatureAnnouncements(),h=this.getQuestionTitleArray();return s.default.createElement("div",null,f||r||!l||m.isMobileAppPreview?s.default.createElement("div",{className:"assessment-canvas-react__question-spacer"}):s.default.createElement(o,{buttonAriaLabel:i.translate("assessments.canvas.add.buttonTop"),index:0,analyticsId:"assessments.canvas.add"}),p&&"start"===p.positionAfter&&s.default.createElement(p.Component,null),n.map((function(t,n){var l=t.alignedGoals,d=a.__rest(t,["alignedGoals"]),f=n+1,_=e.getDraggingLabelObject(n,d,h),b=u.default("add",d,h[n]);return s.default.createElement("div",{key:d.id},s.default.createElement(c.default,a.__assign({alignedGoals:l,question:d,questionTitle:h[n],dragButtonAriaLabel:i.translate(_.string,{relatedContent:_.relation}),index:n,preview:e.getPreview(d,h[n]),showFeatureAnnouncement:g[d.id]},e.props)),r||!e.hasQuestionCreatePermissions(d)||m.isMobileAppPreview?s.default.createElement("div",{className:"assessment-canvas-react__question-spacer"}):s.default.createElement(o,{index:f,buttonAriaLabel:i.translate(b.string,{relatedContent:b.relation}),analyticsId:"assessments.canvas.addQuestion"}),p&&d.id===p.positionAfter&&s.default.createElement(p.Component,null))})))},t.propTypes={items:i.default.array.isRequired,AddButton:i.default.func.isRequired,localize:i.default.object.isRequired,hasSubmissions:i.default.bool.isRequired,hasAssessmentModifyPermissions:i.default.bool.isRequired,isLoadingInProgress:i.default.bool,pluginsConfig:i.default.object.isRequired,keyInsertIndex:i.default.number.isRequired,isKeyboardMoving:i.default.bool.isRequired,notification:i.default.object,babelfishInstance:i.default.object.isRequired,currentLocale:i.default.string.isRequired,addQuestionsToEmptyPool:i.default.func.isRequired,localizationPrefix:i.default.string.isRequired},t}(s.Component);t.UnwrappedQuestionList=m,t.default=r.DragNDropContainer(p.withAssessmentCommonContext(m))},FwPp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("JfV0"),l=n("kBJj"),u=n("nsO7"),d=n("Vng8"),c=n("3ZJq"),f=a.__importDefault(n("PCGI")),p=a.__importDefault(n("gTAB")),m=n("WGaE"),g=a.__importStar(n("TIvv")),h=a.__importDefault(n("ZfLe")),_=a.__importStar(n("AiU9")),b=a.__importDefault(n("CvmH")),y=a.__importStar(n("OPED")),v=a.__importStar(n("p1hm")),E=n("/R3Y"),C=n("QJmz");n("gZ3u");var w=function(e){function t(t){var n=e.call(this,t)||this;n.getTranslatedIdentifier=function(e){return n.state.translatedIdentifiersMap[e]||e},n.textContainsClosedBracketsWithTextInside=function(e){var t=e.match(/\[(.*)\]/i);return null!==t&&""!==t[1]},n.validate=function(e,t,a,s,i,o,r){if(s){var l=e.points!==t.points,c=d.hasFullCreditFlagChanged(e,t),f=i.rawText;if(!c&&!l&&!d.isNewQuestion(t)&&f&&f===o.rawText&&d.hasAutomatedFeedbackChanged(e,t))return!0;if(!1===r)return!1;if(!u.isEqual(e,t))return!0;if(n.props.hasSubmissions)return l?d.havePointsChangedToPositive(a.points,t.points):c}return d.havePointsChangedToPositive(a.points,t.points)},n.onQuestionChange=function(e){var t=n.state,s=t.questionRegradingToggle,i=t.originalDisplayQuestionText,o=t.isAnswersEditMode,r=n.props.question.questionText;n.props.onQuestionChange(a.__assign(a.__assign({},e),{questionText:r}),(function(t,a,r){return n.validate(t,a,r,s,i,e.questionText,o)})),n.setState({isValidTemplate:n.textContainsClosedBracketsWithTextInside(e.questionText.rawText),displayQuestionText:e.questionText})},n.onTranslate=function(e,t,s,i,o){n.setState((function(n){return{isAnswersEditMode:o,disableAnswersTextFields:!o,displayQuestionText:{rawText:e},translatedIdentifiersMap:a.__assign(a.__assign({},n.translatedIdentifiersMap),t)}}),(function(){return n.refreshBbml()}))},n.translateIdent=function(e){var t=e.split("-")[1];return n.props.babelfishInstance.translate(n.props.currentLocale,"assessments.canvas.question.fimb.blank",{count:t})},n.translateQuestion=function(e,t,s,i){var o=e,r=a.__assign({},s),l=[];return t.forEach((function(e){if(r[e.ident]){var t=r[e.ident];o=o.replace(e.ident,t)}else l.push(n.translateIdent(e.ident).then((function(t){o=o.replace(e.ident,t),r[e.ident]=t})))})),Promise.all(l).then((function(){n.onTranslate(o,r,e,t,i)}))},n.parseQuestionText=function(){var e={courseId:n.props.courseId,assessmentId:n.props.question.assessmentId};return r.parseFIMBQuestionText(n.state.displayQuestionText,e)},n.refreshBbml=function(){n.setState({refreshBbml:!0},(function(){return n.setState({refreshBbml:!1})}))},n.removeIdentifierWrappersInQuestionText=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll("a[data-bbfile]");if(null!=n&&n.length>0)for(var a=0;a<n.length;a+=1){var s=n[a];-1!==s.getAttribute("data-bbfile").indexOf("fimb-answer-value")&&(s.outerHTML=s.innerHTML)}return t.innerHTML},n.replaceQuestionTextWithAnswers=function(e,t){var a=n.removeIdentifierWrappersInQuestionText(e);return t.forEach((function(e){var t=e.answerValues.map((function(e){return e.value})).join(v.ANSWER_DELIMITER),s=n.getTranslatedIdentifier(e.ident);a=a.replace(s,t)})),a},n.toggleAnswersEditMode=function(){n.state.isAnswersEditMode?n.setAnswersEditModeOff():n.setAnswersEditModeOn()},n.setAnswersEditModeOff=function(){n.setState((function(e,t){return{isAnswersEditMode:!1,disableAnswersTextFields:!0,displayQuestionText:{rawText:n.replaceQuestionTextWithAnswers(e.displayQuestionText.rawText,t.question.answers)}}}),n.refreshBbml),n.props.onQuestionChange(n.props.question,(function(){return!1}))},n.setAnswersEditModeOn=function(){var e=n.props,t=e.question,s=e.hasSubmissions;return n.parseQuestionText().then((function(e){if(n.state.questionRegradingToggle){var i=e.answers.length!==t.answers.length;if(s&&i)return void n.setState({regradingError:!0},(function(){n.QuestionRef.current.scrollIntoView({behavior:"smooth",block:"start"})}));!0===n.state.regradingError&&n.setState({regradingError:!1})}var o=a.__assign(a.__assign({},t),{answers:e.answers,questionText:a.__assign(a.__assign({},t.questionText),{rawText:e.replacedQuestionText})});d.hasFIMBQuestionChanged(t,o)||(o.answers=t.answers);delete o.questionText.webLocation,n.props.onQuestionChange(o,(function(e){return!u.isEqual(e,o)}),(function(){n.translateQuestion(e.replacedQuestionText,e.answers,n.state.translatedIdentifiersMap,!0)}))}))},n.startEditMode=function(e){void 0===e&&(e=null),n.props.startEditMode((function(){n.setState((function(e,t){var a={rawText:n.replaceQuestionTextWithAnswers(e.displayQuestionText.rawText,t.question.answers)},s={originalDisplayQuestionText:a,displayQuestionText:a};return e.isAnswersEditMode&&(s.isAnswersEditMode=!1,s.disableAnswersTextFields=!0),s}),(function(){n.refreshBbml(),e&&e()}))}))},n.onAnswerChange=function(e){var t=n.props,s=t.question,i=t.onQuestionChange,o=s.answers.map((function(t){return t.ident===e.ident?e:t})),r=a.__assign(a.__assign({},s),{answers:o}),l=r.answers.some((function(e){return!e.answerValues.some((function(e){return e.value}))}));i(r,(function(){return!l}))},n.dismissRegradingError=function(){n.setState({regradingError:!1})},n.state={isValidTemplate:n.textContainsClosedBracketsWithTextInside(t.question.questionText.rawText),isAnswersEditMode:!1,disableAnswersTextFields:!0,refreshBbml:!1,translatedIdentifiersMap:{},displayQuestionText:{rawText:""},originalDisplayQuestionText:{rawText:""},regradingError:!1,questionRegradingToggle:C.getToggle("questionRegrading")},n.QuestionRef=s.default.createRef();var i=n.props.question;if(i&&i.questionText&&i.answers&&i.answers.length>0){var o=n.translateQuestion(i.questionText.rawText,i.answers,{},!1);p.default.isActive(n.props.editMode)&&o.then((function(){n.setState((function(e){return{displayQuestionText:{rawText:n.replaceQuestionTextWithAnswers(e.displayQuestionText.rawText,i.answers)}}}),(function(){n.refreshBbml()}))}))}return n}return a.__extends(t,e),t.getDerivedStateFromProps=function(e,t){if(e.refreshBbml){var n=e.question.questionText.rawText;return e.question.answers.forEach((function(e){var a=t.translatedIdentifiersMap[e.ident];n=n.replace(e.ident,a)})),a.__assign(a.__assign({},t),{displayQuestionText:{rawText:n},regradingError:!1})}return null},t.prototype.render=function(){var e=this,t=this.state,n=t.isValidTemplate,i=t.isAnswersEditMode,r=t.disableAnswersTextFields,u=t.regradingError,h=p.default.isActive(this.props.editMode),C=a.__assign(a.__assign({},this.props.question),{questionText:this.state.displayQuestionText}),w=this.props.localize.translate("assessments.canvas.question.fimb.regradingErrorMessage"),S=h&&d.hasLinkedQuestion(this.props.question),P=h&&!i;return s.default.createElement("div",{className:"fimb-question "+(h?"fimb-question--edit":"fimb-question--read"),ref:this.QuestionRef},u&&s.default.createElement(o.Notification,{type:o.NotificationType.Failure,message:w,onClose:this.dismissRegradingError}),s.default.createElement(f.default,{editMode:this.props.editMode,question:C},s.default.createElement(m.LinkedQuestionNotification,{show:S,usageCount:this.props.question.usageCount}),s.default.createElement(g.default,a.__assign({},g.getPluggableQuestionHeaderProps(this.props,this.onQuestionChange),{question:C,onPointsClick:this.startEditMode})),s.default.createElement(_.default,a.__assign({},_.getQuestionControlProps(this.props),{startEditMode:this.startEditMode})),s.default.createElement(b.default,{instructions:this.props.localize.translate("assessments.canvas.question.fimb.instructions"),show:P}),s.default.createElement(y.default,a.__assign({},y.getQuestionTextProps(this.props,this.onQuestionChange),{disableEditor:i,editorPlugins:[l.customClass()],question:C,refreshBbml:this.state.refreshBbml||this.props.refreshBbml}))),this.props.question.answers&&this.props.question.answers.length>0&&s.default.createElement("div",{className:E.removeExtraWhitespace("fimb-question__answers-container\n                          fimb-question__answers-container--"+(h?"edit":"read"))},this.props.question.answers.map((function(t){return s.default.createElement(v.default,{answer:t,assessmentId:e.props.question.assessmentId,courseId:e.props.courseId,disabled:r,inputLabel:e.getTranslatedIdentifier(t.ident),key:t.ident,onAnswerChange:e.onAnswerChange,readOnly:!h})}))),h&&s.default.createElement("div",{className:"fimb-question__mode-changer "+(i?"-off":"-on")},s.default.createElement(o.Link,{onClick:this.toggleAnswersEditMode,disabled:!i&&!n},i?this.props.localize.translate("assessments.canvas.question.fimb.previousStep"):this.props.localize.translate("assessments.canvas.question.fimb.nextStep"))),s.default.createElement(c.AutomatedQuestionFeedback,{editMode:this.props.editMode,onQuestionChange:this.onQuestionChange,question:C,setActiveEditorId:this.props.setActiveEditorId,activeEditorId:this.props.activeEditorId,showFeatureAnnouncement:this.props.showFeatureAnnouncement}))},t.propTypes={activeEditorId:i.default.string,canEnterEditMode:i.default.bool.isRequired,courseId:i.default.string.isRequired,deleteQuestion:i.default.func.isRequired,editMode:i.default.number.isRequired,hasSubmissions:i.default.bool.isRequired,onQuestionChange:i.default.func.isRequired,question:i.default.object.isRequired,questionTitle:i.default.string.isRequired,refreshBbml:i.default.bool.isRequired,showQuestionControls:i.default.bool.isRequired,startEditMode:i.default.func.isRequired,localize:i.default.object.isRequired,pluginsConfig:i.default.object.isRequired,babelfishInstance:i.default.object.isRequired,currentLocale:i.default.string.isRequired,setActiveEditorId:i.default.func.isRequired,showFeatureAnnouncement:i.default.object},t}(s.Component);t.Fimb=w;var S=h.default(w);t.default=S},G5c7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("gTAB")),o=n("Vng8"),r=n("/R3Y");n("JKrv"),t.BaseQuestionComponent=function(e){var t=e.editMode,n=e.question,a=e.children,l=i.default.isActive(t);return s.default.createElement("div",{className:r.removeExtraWhitespace("\n                    base-question\n                    "+(l?"base-question--edit":"base-question--read")+"\n                    "+(o.isNewQuestion(n)?"js-new-question":"")+"\n                ")},s.default.createElement("div",{className:"base-question__content"},a))},t.default=t.BaseQuestionComponent},"GD/5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("eecw");t.default=a.default},Gdun:function(e,t,n){},Ggyl:function(e,t,n){},H9Ny:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Agfx");t.useStyles=a.makeStyles((function(e){return{containerClass:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:e.spacing(5)}}}))},HAQq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("2yjE")),r=a.__importDefault(n("MozA"));n("Udwz"),t.QuestionPoolQuestionHeaderReadMode=function(e){var t=e.localize,n=e.questionSourceName,i=e.deleteQuestion,l=e.startEditMode,u=e.hasSubmissions,d=e.hasAssessmentModifyPermissions,c=e.overflowMenuButtonLabelData;return s.default.createElement("div",{className:"question-pool-question-header question-pool-question-header--read"},s.default.createElement("div",{className:"question-pool-question-header__title-row"},s.default.createElement(o.default,a.__assign({},e,{showPointsInfo:!1})),s.default.createElement("div",{className:"question-pool-question-header__menu-icon"},s.default.createElement(r.default,{deleteQuestion:i,startEditMode:l,hasSubmissions:u,hasAssessmentModifyPermissions:d,overflowMenuButtonLabelData:c}))),s.default.createElement("div",{className:"question-pool-question-header__question-source"},t.translate("questionPools.questionHeader.questionSource",{questionSourceName:n})))},t.QuestionPoolQuestionHeaderReadMode.propTypes={localize:i.default.object.isRequired,questionSourceName:i.default.string.isRequired,startEditMode:i.default.func.isRequired,hasSubmissions:i.default.bool.isRequired,hasAssessmentModifyPermissions:i.default.bool.isRequired,deleteQuestion:i.default.func.isRequired,overflowMenuButtonLabelData:i.default.object.isRequired},t.default=t.QuestionPoolQuestionHeaderReadMode},HW8w:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Agfx");t.useStyles=a.makeStyles((function(e){return{containerClass:{display:"flex",alignItems:"center",color:"green"},firstButtonClass:{borderRight:"1px solid "+e.palette.secondary.light}}}))},HZ1V:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Agfx"),s=n("xkx/");t.useStyles=a.makeStyles((function(e){var t,n,i;return a.createStyles({base:{marginTop:"16px","& label$toggleLabel":{cursor:"pointer"}},toggleLabel:{marginLeft:"-8px",marginRight:0},toggleSwitch:{},toggleSwitchContainer:{"& > *":{display:"inline-block"}},correct:(t={margin:"10px 0"},t[e.breakpoints.up("sm")]={margin:"21px 0 10px"},t),incorrect:{margin:"16px 0 10px"},sectionHeader:{marginBottom:"10px"},sectionTitle:{},sectionInstructions:{color:s.BbSemanticPalette.textMedium},header:(n={display:"flex",flexDirection:"column"},n[e.breakpoints.up("sm")]={flexDirection:"row"},n),displaySettings:(i={display:"flex",alignItems:"center",flexDirection:"row-reverse",marginLeft:"-8px",marginRight:"auto"},i[e.breakpoints.up("sm")]={flexDirection:"row",marginLeft:"auto",marginRight:"-8px"},i),displaySettingsButton:{}})}))},Hj9i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("uDfI"),s=n("ERkP"),i=n("JfV0");t.useShowGuidance=e=>{const t=a.useDispatch();s.useEffect(()=>{t(i.actions.userPreference.loadUserPreference({key:e}))},[e,t]);const n=a.useSelector(e=>i.select.userPreference.isUserPreferenceLoading(e)),o=a.useSelector(t=>{const n=i.select.userPreference.getUserPreferenceByKey(t,e);return n?Number.parseInt(n.value,10):0}),r=s.useCallback(()=>{t(i.actions.userPreference.persistUserPreference({key:e,value:(o+1).toString()}))},[e,o]);return[!o&&!n,r]}},IUzX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=a.__importDefault(n("cFZT"));n("la2Y");var l=a.__importDefault(n("VE9O")),u=function(e){var t=e.localize,n=e.headerKey,a=e.messageKey;return s.default.createElement("div",{className:"question-reuse-sources-empty-state"},s.default.createElement(r.default,{image:l.default,passedClass:"question-reuse-sources-empty-state__image"}),s.default.createElement("h3",{className:"question-reuse-sources-empty-state__title"},t.translate(n)),s.default.createElement("div",{className:"question-reuse-sources-empty-state__message"},t.translate(a)))};u.propTypes={localize:i.default.object.isRequired,headerKey:i.default.string.isRequired,messageKey:i.default.string.isRequired},t.default=o.localizedComponentWrapper(u)},J495:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("JfV0"),r=n("AuQm"),l=n("j92x"),u=n("6GoY"),d=n("FgpP"),c=n("t6ux"),f=a.__importDefault(n("CCvt")),p=a.__importDefault(n("OjB1")),m=n("/R3Y"),g=n("9tRF");n("ytrv");var h=a.__importDefault(n("W2w9"));function _(e){return e.hasFullGreaterThanPartialError||e.hasPartialCreditPointsRangeError||e.hasAnswerToleranceNaNError||e.hasPartialCreditToleranceNaNError||e.hasRoundingValueError||e.hasUnitPointsPercentRangeError||e.hasUnitsGreaterThanPartialError||e.hasUnitValueEmptyError||e.hasVariableRangeError||e.hasVariableSetCountNaNError||e.hasVariableSetCountLessThanOneError}t.CLASS_PREFIX="calculated-formula-question__step-2",t.DEFAULT_FULL_CREDIT_TOLERANCE_SETTINGS={correctAnswerTolerance:{type:o.CalculatedFormulaToleranceType.Numeric,value:0}},t.DEFAULT_PARTIAL_CREDIT_SETTINGS={partialCreditPointsPercent:0,partialCreditTolerance:{type:o.CalculatedFormulaToleranceType.Numeric,value:0}},t.DEFAULT_UNITS_SETTINGS={unitValue:"",unitPointsPercent:0};var b=function(e){function n(n){var i=e.call(this,n)||this;i.onFloatTextFieldChangeFactory=function(e,t,n){return function(s){var o,r,l;return t?i.props.onQuestionChange(((o={})[t]=a.__assign(a.__assign({},n),((r={})[e]=s,r)),o)):i.props.onQuestionChange(((l={})[e]=s,l))}},i.onIntegerTextFieldChangeFactory=function(e){return function(t){var n;i.props.onQuestionChange(((n={})[e]=t,n))}},i.onTextFieldChangeFactory=function(e,t,n){return function(s){var o,r;i.props.onQuestionChange(((o={})[t]=a.__assign(a.__assign({},n),((r={})[e]=s,r)),o))}},i.onDropdownChangedFactory=function(e,t,n){return function(s){var o,r;i.props.onQuestionChange(((o={})[t]=a.__assign(a.__assign({},n),((r={})[e]=s.key,r)),o))}},i.onCheckboxChangeFactory=function(e){return function(t){var n;i.props.onQuestionChange(((n={})[e]=t.target.checked,n))}},i.updateCorrectAnswerFormat=function(e,t){i.props.onQuestionChange({correctAnswerFormat:t.key})},i.updateCorrectAnswerPrecision=function(e){var t={correctAnswerPrecision:e.key};e.key===o.CalculatedFormulaAnswerPrecisionType.SignificantFigures&&i.props.question.answerScale<g.MIN_SIGNIFICANT_FIGURES_ROUNDING_VALUE&&(t.answerScale=g.MIN_SIGNIFICANT_FIGURES_ROUNDING_VALUE),i.props.onQuestionChange(t)},i.handleVariableRangeError=function(e){i.setState({hasVariableRangeError:!e})},i.updateVariableDefinition=function(e){var t=i.props,n=t.onAnswerSetsRelatedFieldDirty,s=t.onQuestionChange,o=t.question.variableDefinitions.map((function(t){return t.name===e.name?a.__assign(a.__assign({},t),e):t}));n(!0),s({variableDefinitions:o})},i.getFullCreditRangeError=function(){var e=i.props.translateKey,t=i.state,n=t.hasFullGreaterThanPartialError;return t.hasAnswerToleranceNaNError?e("stepTwo.variableSetCount.error.NaN"):n?e("stepTwo.precisionScoring.fullCreditRangeOverlapError"):""},i.getPartialCreditRangeError=function(){var e=i.props.translateKey,t=i.state,n=t.hasFullGreaterThanPartialError;return t.hasPartialCreditToleranceNaNError?e("stepTwo.variableSetCount.error.NaN"):n?e("stepTwo.precisionScoring.partialCreditRangeOverlapError"):""},i.getPartialCreditPointsRangeError=function(){return i.state.hasPartialCreditPointsRangeError?i.props.translateKey("stepTwo.precisionScoring.rangeError"):""},i.getVariableSetCountError=function(){var e=i.state,t=e.hasVariableSetCountNaNError,n=e.hasVariableSetCountLessThanOneError,a=i.props.translateKey;return t?a("stepTwo.variableSetCount.error.NaN"):n?a("stepTwo.variableSetCount.error.negative"):""},i.getRoundingValueError=function(){var e=i.props,t=e.question,n=e.translateKey,a=g.getMinimumRoundingValue(t.correctAnswerPrecision);return i.state.hasRoundingValueError?n("stepTwo.rounding.invalidInputError",{min:a,max:g.MAX_ROUNDING_VALUE}):""},i.handleGoToNextStep=function(){var e=i.props.question;_(i.state)||(!function(e){return g.isAnswerScaleValid(e)&&g.isAnswerToleranceValid(e)&&g.isPartialCreditPointsPercentValid(e)&&g.isPartialCreditToleranceValid(e)&&g.isPartialCreditValueGreaterThanAnswerValue(e)&&g.isUnitPointsPercentValid(e)&&g.isUnitValueValid(e)&&g.isVariableDefinitionsValid(e)&&g.isVariableSetCountValid(e)}(e)?i.checkForErrors():i.props.onGoToNextStep())},i.checkForErrors=function(){i.setState(i.getErrorStateFromQuestion())},i.getErrorStateFromQuestion=function(){return a.__assign(a.__assign(a.__assign(a.__assign(a.__assign({},i.getPrecisionScoringErrorStateFromQuestion()),i.getRoundingValueErrorStateFromQuestion()),i.getUnitPointsPercentErrorStateFromQuestion()),i.getUnitValueErrorStateFromQuestion()),i.getVariableSetCountErrorStateFromQuestion())},i.getPrecisionScoringErrorStateFromQuestion=function(){return{hasFullGreaterThanPartialError:!g.isPartialCreditValueGreaterThanAnswerValue(i.props.question),hasPartialCreditPointsRangeError:!g.isPartialCreditPointsPercentValid(i.props.question),hasAnswerToleranceNaNError:!g.isAnswerToleranceValid(i.props.question),hasPartialCreditToleranceNaNError:!g.isPartialCreditToleranceValid(i.props.question),hasUnitsGreaterThanPartialError:!g.isPartialCreditPercentGreaterThanUnitsPercent(i.props.question)}},i.checkForPrecisionScoringErrors=function(){i.setState(i.getPrecisionScoringErrorStateFromQuestion())},i.getRoundingValueErrorStateFromQuestion=function(){return{hasRoundingValueError:!g.isAnswerScaleValid(i.props.question)}},i.checkForRoundingValueError=function(){i.setState(i.getRoundingValueErrorStateFromQuestion())},i.getUnitPointsPercentErrorStateFromQuestion=function(){return{hasUnitPointsPercentRangeError:!g.isUnitPointsPercentValid(i.props.question),hasUnitsGreaterThanPartialError:!g.isPartialCreditPercentGreaterThanUnitsPercent(i.props.question)}},i.checkForUnitPointsPercentErrors=function(){i.setState(i.getUnitPointsPercentErrorStateFromQuestion())},i.getUnitValueErrorStateFromQuestion=function(){return{hasUnitValueEmptyError:!g.isUnitValueValid(i.props.question)}},i.checkForUnitValueErrors=function(){i.setState(i.getUnitValueErrorStateFromQuestion())},i.getVariableSetCountErrorStateFromQuestion=function(){var e=i.props.question.variableSetCount;return{hasVariableSetCountNaNError:null==e,hasVariableSetCountLessThanOneError:null!=e&&e<g.MIN_ANSWER_SETS}},i.checkForVariableSetCountErrors=function(){i.setState(i.getVariableSetCountErrorStateFromQuestion())},i.getToleranceTypeDropdown=function(e,n,a,r){var l=i.props.translateKey,u=[{key:o.CalculatedFormulaToleranceType.Numeric,className:t.CLASS_PREFIX+"__precision-type--numeric",text:l("stepTwo.precisionScoring.numberOption"),index:0,ariaLabel:l("stepTwo.precisionScoring.numberOption"),selected:e===o.CalculatedFormulaToleranceType.Numeric},{key:o.CalculatedFormulaToleranceType.Percent,className:t.CLASS_PREFIX+"__precision-type--percent",text:l("stepTwo.precisionScoring.percentageOption"),index:1,ariaLabel:l("stepTwo.precisionScoring.percentageOption"),selected:e===o.CalculatedFormulaToleranceType.Percent}];return s.default.createElement("div",{className:r},s.default.createElement(d.Dropdown,{analyticsId:a+".dropdown",options:u,onChanged:n,selectedKey:e}))},i.getRoundingValueLabel=function(e){var t=i.props.translateKey;return e===o.CalculatedFormulaAnswerPrecisionType.Decimal?t("stepTwo.rounding.valueArialLabel.decimal"):t("stepTwo.rounding.valueArialLabel.significantFigure")},i.toggleAnswerToleranceOptionsVisibility=function(e){i.props.onQuestionChange(a.__assign({},t.DEFAULT_FULL_CREDIT_TOLERANCE_SETTINGS)),i.setState({areAnswerToleranceOptionsVisible:e.target.checked,hasFullGreaterThanPartialError:!1})},i.toggleAllowPartialCredit=function(e){var n=e.target.checked;i.props.onQuestionChange(a.__assign(a.__assign({},t.DEFAULT_PARTIAL_CREDIT_SETTINGS),{allowPartialCredit:n})),i.setState({hasPartialCreditPointsRangeError:!1,hasFullGreaterThanPartialError:!1,hasUnitsGreaterThanPartialError:!g.isPartialCreditPercentGreaterThanUnitsPercent(a.__assign(a.__assign({},i.props.question),{allowPartialCredit:n}))})},i.toggleUnitsRequired=function(e){var n=e.target.checked;i.props.onQuestionChange({units:a.__assign(a.__assign({},t.DEFAULT_UNITS_SETTINGS),{unitsRequired:n})}),i.setState({hasUnitPointsPercentRangeError:!1,hasUnitsGreaterThanPartialError:!1,hasUnitValueEmptyError:!1})};var r=n.question.correctAnswerTolerance;return i.state={areAnswerToleranceOptionsVisible:r&&r.value>0,hasFullGreaterThanPartialError:!1,hasAnswerToleranceNaNError:!1,hasPartialCreditToleranceNanError:!1,hasPartialCreditPointsRangeError:!1,hasRoundingValueError:!1,hasUnitPointsPercentRangeError:!1,hasUnitsGreaterThanPartialError:!1,hasUnitValueEmptyError:!1,hasVariableRangeError:!1,hasVariableSetCountNaNError:!1,hasVariableSetCountLessThanOneError:!1},i}return a.__extends(n,e),n.prototype.componentDidMount=function(){this.checkForErrors()},n.prototype.componentDidUpdate=function(e,t){var n=_(t),a=_(this.state);n!==a&&this.props.onValidate(!a),e.question.variableSetCount!==this.props.question.variableSetCount&&this.props.onAnswerSetsRelatedFieldDirty(!0)},n.prototype.render=function(){var e=this,n=this.state,a=n.areAnswerToleranceOptionsVisible,i=n.hasRoundingValueError,b=n.hasUnitPointsPercentRangeError,y=n.hasUnitsGreaterThanPartialError,v=n.hasUnitValueEmptyError,E=this.props,C=E.hasSubmissions,w=E.onGoBackStep,S=E.question,P=E.translateKey,R=S.answerScale,A=S.allowPartialCredit,T=S.correctAnswerFormat,q=S.correctAnswerPrecision,I=S.correctAnswerTolerance,D=S.displayRoundingSettingsToStudent,Q=S.partialCreditPointsPercent,F=S.partialCreditTolerance,k=S.units,x=S.variableDefinitions,N=S.variableSetCount,L=this.getRoundingValueLabel(q),M=this.getFullCreditRangeError(),O=this.getPartialCreditRangeError(),B=this.getPartialCreditPointsRangeError(),z=this.getVariableSetCountError();return s.default.createElement("div",{className:t.CLASS_PREFIX},s.default.createElement("div",{className:t.CLASS_PREFIX+"__answer-format"},s.default.createElement(u.ChoiceGroup,{analyticsId:c.ANALYTICS_ID_PREFIX+".answerFormat.choiceGroup",legendLabel:P("stepTwo.answerFormat.title"),defaultSelectedKey:T,options:[{key:o.CalculatedFormulaAnswerFormatType.Normal,text:P("stepTwo.answerFormat.normalOption"),checked:T===o.CalculatedFormulaAnswerFormatType.Normal},{key:o.CalculatedFormulaAnswerFormatType.Exponential,text:P("stepTwo.answerFormat.exponentialOption"),checked:T===o.CalculatedFormulaAnswerFormatType.Exponential}],onChange:this.updateCorrectAnswerFormat,disabled:C})),s.default.createElement("div",{className:t.CLASS_PREFIX+"__rounding-inputs"},s.default.createElement(d.Dropdown,{analyticsId:c.ANALYTICS_ID_PREFIX+".roundingType.dropdown",selectedKey:q,label:P("stepTwo.rounding.title"),options:[{key:o.CalculatedFormulaAnswerPrecisionType.Decimal,text:P("stepTwo.rounding.decimalOption"),index:0,ariaLabel:P("stepTwo.rounding.decimalOption"),selected:q===o.CalculatedFormulaAnswerPrecisionType.Decimal},{key:o.CalculatedFormulaAnswerPrecisionType.SignificantFigures,text:P("stepTwo.rounding.significantFigureOption"),index:1,ariaLabel:P("stepTwo.rounding.significantFigureOption"),selected:q===o.CalculatedFormulaAnswerPrecisionType.SignificantFigures}],onChanged:this.updateCorrectAnswerPrecision,disabled:C}),s.default.createElement("div",{className:m.removeExtraWhitespace("\n                            "+t.CLASS_PREFIX+"__rounding-inputs__text-field\n                            "+(i?t.CLASS_PREFIX+"__rounding-inputs__text-field--has-error":"")+"\n                        ")},s.default.createElement(r.LocalizedNumberInput,{analyticsId:c.ANALYTICS_ID_PREFIX+".precisionScoring.rounding.textField",ariaLabel:L,className:i?"has-error":"",disabled:C,helperText:this.getRoundingValueError(),onBlur:this.checkForRoundingValueError,onChange:this.onIntegerTextFieldChangeFactory("answerScale"),max:g.MAX_ROUNDING_VALUE,min:g.getMinimumRoundingValue(q),numberFormatOptions:{maximumFractionDigits:0},validate:function(){return!e.getRoundingValueError()},value:R}))),s.default.createElement(l.Checkbox,{analyticsId:c.ANALYTICS_ID_PREFIX+".displayRoundingSettings.checkbox",checked:D,className:t.CLASS_PREFIX+"__display-rounding-settings__checkbox",onChange:this.onCheckboxChangeFactory("displayRoundingSettingsToStudent"),label:P("stepTwo.rounding.displayRoundingSettingsToStudent")}),s.default.createElement("fieldset",{className:t.CLASS_PREFIX+"__fieldset "+t.CLASS_PREFIX+"__precision-scoring"},s.default.createElement("legend",{className:t.CLASS_PREFIX+"__fieldset__legend"},P("stepTwo.precisionScoring.title")),s.default.createElement(l.Checkbox,{analyticsId:c.ANALYTICS_ID_PREFIX+".precisionScoring.fullCredit.checkbox",checked:a,className:t.CLASS_PREFIX+"__full-credit-precision__checkbox",onChange:this.toggleAnswerToleranceOptionsVisibility,label:P("stepTwo.precisionScoring.fullCreditLabel")}),a&&s.default.createElement("div",{className:t.CLASS_PREFIX+"__precision-scoring-input-group"},this.getToleranceTypeDropdown(I&&I.type,this.onDropdownChangedFactory("type","correctAnswerTolerance",I),c.ANALYTICS_ID_PREFIX+".precisionScoring.fullCredit.toleranceType",t.CLASS_PREFIX+"__full-credit-precision__type-dropdown"),s.default.createElement(r.LocalizedNumberInput,{analyticsId:c.ANALYTICS_ID_PREFIX+".precisionScoring.fullCreditTolerance.textField",className:t.CLASS_PREFIX+"__full-credit-precision__value-input"+(M?" has-error":""),label:P("stepTwo.precisionScoring.positiveNegativeIndicator"),onBlur:this.checkForPrecisionScoringErrors,onChange:this.onFloatTextFieldChangeFactory("value","correctAnswerTolerance",I),helperText:M,validate:function(){return!M},value:I.value})),s.default.createElement(l.Checkbox,{analyticsId:c.ANALYTICS_ID_PREFIX+".precisionScoring.partialCredit.checkbox",checked:A,className:t.CLASS_PREFIX+"__partial-credit-precision__checkbox",onChange:this.toggleAllowPartialCredit,label:P("stepTwo.precisionScoring.partialCreditLabel")}),A&&s.default.createElement("div",null,s.default.createElement("div",{className:t.CLASS_PREFIX+"__precision-scoring-input-group"},this.getToleranceTypeDropdown(F&&F.type,this.onDropdownChangedFactory("type","partialCreditTolerance",F),c.ANALYTICS_ID_PREFIX+".precisionScoring.partialCredit.toleranceType",t.CLASS_PREFIX+"__partial-credit-precision__type-dropdown"),s.default.createElement(r.LocalizedNumberInput,{analyticsId:c.ANALYTICS_ID_PREFIX+".precisionScoring.partialCreditTolerance.textField",className:t.CLASS_PREFIX+"__partial-credit-precision-value-input"+(O?" has-error":""),helperText:O,label:P("stepTwo.precisionScoring.positiveNegativeIndicator"),onBlur:this.checkForPrecisionScoringErrors,onChange:this.onFloatTextFieldChangeFactory("value","partialCreditTolerance",F),validate:function(){return!O},value:F.value})),s.default.createElement(r.LocalizedNumberInput,{analyticsId:c.ANALYTICS_ID_PREFIX+".precisionScoring.partialCredit.creditToAward.textField",className:t.CLASS_PREFIX+"__precision-scoring-partial-credit-percentage"+(B?" has-error":""),helperText:B,label:P("stepTwo.precisionScoring.creditToAwardLabel"),onChange:this.onFloatTextFieldChangeFactory("partialCreditPointsPercent"),onBlur:this.checkForPrecisionScoringErrors,max:100,min:0,validate:function(){return!B},value:Q}))),s.default.createElement(p.default,{hasUnitPointsPercentRangeError:b,hasUnitsGreaterThanPartialError:y,hasUnitValueEmptyError:v,onUnitPointsPercentChange:this.onFloatTextFieldChangeFactory("unitPointsPercent","units",k),onUnitPointsPercentBlur:this.checkForUnitPointsPercentErrors,onUnitsRequiredChange:this.toggleUnitsRequired,onUnitValueBlur:this.checkForUnitValueErrors,onUnitValueChange:this.onTextFieldChangeFactory("unitValue","units",k),unitPointsPercent:k.unitPointsPercent,unitsRequired:k.unitsRequired,unitValue:k.unitValue}),s.default.createElement(f.default,{disabled:C,onValidate:this.handleVariableRangeError,onVariableDefinitionChange:this.updateVariableDefinition,variableDefinitions:x}),s.default.createElement(r.LocalizedNumberInput,{analyticsId:c.ANALYTICS_ID_PREFIX+".answerSetCount.textField",className:t.CLASS_PREFIX+"__variable-answer-sets-input"+(z?" has-error":""),disabled:C||!c.doesQuestionHaveVariables(this.props.question),helperText:z,label:P("stepTwo.variableSetCount.title"),numberFormatOptions:{maximumFractionDigits:0},min:g.MIN_ANSWER_SETS,onBlur:this.checkForVariableSetCountErrors,onChange:this.onIntegerTextFieldChangeFactory("variableSetCount"),required:!0,validate:function(){return!z},value:N}),s.default.createElement(h.default,{analyticsId:c.ANALYTICS_ID_PREFIX+".stepTwo",showBack:!0,onBackClick:w,showNext:!0,isNextDisabled:_(this.state),onNextClick:this.handleGoToNextStep}))},n.propTypes={hasSubmissions:i.default.bool.isRequired,onAnswerSetsRelatedFieldDirty:i.default.func.isRequired,onGoBackStep:i.default.func.isRequired,onGoToNextStep:i.default.func.isRequired,onQuestionChange:i.default.func.isRequired,onValidate:i.default.func.isRequired,question:i.default.object.isRequired,translateKey:i.default.func.isRequired},n}(s.Component);t.BaseCalculatedFormulaQuestionEditStepTwo=b,t.default=b},JKrv:function(e,t,n){},KTc4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K").__importDefault(n("ERkP")),s=n("/R3Y");n("t70R");t.default=function(e){var t=e.show,n=e.instructions;return a.default.createElement("div",{className:s.removeExtraWhitespace("\n        question-instructions\n        question-instructions--"+(t?"visible":"hidden")+"\n      "),"aria-hidden":!t},n)}},KTib:function(e,t,n){},LeqM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K").__importDefault(n("ERkP")),s=n("MC1S"),i=n("8unJ");t.default=i.localizedComponentWrapper((function(e){var t=e.localize,n=e.show,i=e.usageCount;return n?a.default.createElement(s.Notification,{type:s.NotificationType.Caution,disableAutoDismiss:!0,message:t.translate("assessments.canvas.question.multipleReferencesNotification.message",{usageCount:i})}):null}))},Lk6F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("nsO7")),i=n("Zwiy"),o=n("hHCp"),r=n("myse"),l=a.__importDefault(n("ERkP")),u=a.__importDefault(n("aWzz")),d=n("8unJ"),c=n("uDfI"),f=n("9OUN"),p=n("JfV0");n("4bjT");var m=n("9qOT"),g=a.__importDefault(n("9HIK")),h=n("5rx+"),_=a.__importDefault(n("9mqG")),b=n("X3OV"),y=function(e){function t(n){var a=e.call(this,n)||this;return a.dismissPanel=function(){return a.state.isAnyQuestionDirty?(a.setCloseDialogVisibility(!0),!1):(a.props.closePanel(),!0)},a.setCloseDialogVisibility=function(e){a.setState({isShowingCloseDialog:e})},a.hasMoreQuestions=function(){return a.state.paging&&!s.isEmpty(a.state.paging.nextPage)},a.onScroll=function(e){if(!a.state.isLoadingQuestions&&a.hasMoreQuestions()){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&a.loadMoreQuestions()}},a.onLoadMoreButtonClick=function(){a.loadMoreQuestions(!0)},a.getLoadMoreQuestionsButtonText=function(){var e=a.props.localize,n=a.state.paging,s=n.offset,i=n.count,o=t.QUESTION_POOL_QUESTION_LOAD_LIMIT,r=s+o;if(a.hasMoreQuestions()){var l=i-r>o?o:i-r;return e.translate("questionPools.moreQuestions.enabled",{count:l})}return e.translate("questionPools.moreQuestions.disabled")},a.loadMoreQuestions=function(e){var n=a.props,s=n.courseId,i=n.assessmentId,o=n.questionPoolId,r=n.loadQuestionsFromQuestionBlock;!a.state.isLoadingQuestions&&a.hasMoreQuestions()&&(a.setState((function(){return{isLoadingQuestions:!0}})),r({courseId:s,assessmentId:i,questionBlockId:o,offset:a.state.paging.offset+t.QUESTION_POOL_QUESTION_LOAD_LIMIT,limit:t.QUESTION_POOL_QUESTION_LOAD_LIMIT}).then((function(t){a.setState((function(n){var a=e?t.questions[0].id:n.firstNewQuestionBankId;return{paging:t.paging,isLoadingQuestions:!1,firstNewQuestionBankId:a,totalQuestionCount:t.paging.count}}))})))},a.addQuestionsToPool=function(){var e=a.props,t=e.closePanel,n=e.openQuestionPicker;t(!0),n()},a.deleteQuestionFromPool=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=a.props).deleteQuestionFromQuestionBlock.apply(e,t).then((function(){a.setState((function(e){return{totalQuestionCount:e.totalQuestionCount-1}}))}))},a.setIsAnyQuestionDirty=function(e){a.setState({isAnyQuestionDirty:e})},a.state={isAnyQuestionDirty:!1,isShowingCloseDialog:!1,totalQuestionCount:0},a}return a.__extends(t,e),t.prototype.componentWillMount=function(){var e=this,n=this.props,a=n.courseId,s=n.assessmentId,i=n.questionPoolId;if(a){this.setState({isLoadingQuestions:!0});var o={courseId:a,assessmentId:s,questionBlockId:i,limit:t.QUESTION_POOL_QUESTION_LOAD_LIMIT};this.props.loadQuestionsFromQuestionBlock(o).then((function(t){e.setState({paging:t.paging,isLoadingQuestions:!1,totalQuestionCount:t.paging.count})}))}},t.prototype.render=function(){var e=this.props,t=e.closePanel,n=e.courseId,a=e.localize,s=e.hasSubmissions,u=e.hasAssessmentModifyPermissions,d=e.questions,c=e.assessmentTitle,f=e.persistQuestion,p=e.assessmentId,h=e.questionPoolId,b=e.localizationPrefix,y=e.analyticsEventAugmentor,v=e.commonContext,E=this.state,C=E.firstNewQuestionBankId,w=E.isLoadingQuestions,S=E.isShowingCloseDialog,P=E.paging,R=E.totalQuestionCount,A=y(r.AnalyticsEventTypes.CLICK_EVENT,this.addQuestionsToPool,"questionPool.panel.add.button"),T="questionPools.moreQuestions.enabled"+(this.hasMoreQuestions()?"enabled":"disabled"),q=y(r.AnalyticsEventTypes.CLICK_EVENT,this.onLoadMoreButtonClick,T),I={url:a.translate("questionPools.pageHelpUrl")};return l.default.createElement(i.BbPanel,{isOpen:"true",type:i.BbPanelType.full,onDismiss:this.dismissPanel,excludeContentPadding:!0,closeButtonAriaLabel:a.translate("questionPools.cancel"),className:"question-pool-panel",onScroll:this.onScroll,pageHelpProps:I,stackIndex:3,analyticsId:"questionPools.panel",heightOffset:v.panelHeightOffset},!v.isMobileAppPreview&&l.default.createElement(i.BbPanelHeader,{smallHeaderTitle:c,title:a.translate("questionPools.panelHeader"),analyticsId:"questionPools.panelHeader"}),l.default.createElement("div",{className:"question-pool-panel__content-scroll-wrapper"},l.default.createElement("div",{className:"question-pool-panel__content"},d&&l.default.createElement("div",{className:"question-pool-panel__top-bar"},l.default.createElement("span",{className:"question-pool-panel__question-count"},a.translate("questionPools.questionCount",{count:R})),u&&!s&&!v.isMobileAppPreview&&l.default.createElement("button",{className:"question-pool-panel__add-button-container button clear",onClick:A,"data-analytics-id":"questionPool.panel.add.button"},l.default.createElement("span",{className:"question-pool-panel__add-button-label"},a.translate("questionPools.addQuestionButtonLabel")),l.default.createElement(o.SvgIcon,{id:"question-pool-panel_add-button-icon",iconName:"add-circle",iconSize:"medium"}))),l.default.createElement(m.QuestionPoolQuestionList,{courseId:n,questions:d,hasSubmissions:s,hasAssessmentModifyPermissions:u,deleteQuestion:this.deleteQuestionFromPool,isLoading:w,firstNewQuestionBankId:C,setIsAnyQuestionDirty:this.setIsAnyQuestionDirty,persistQuestion:f,questionPoolId:h,assessmentId:p,localizationPrefix:b}),P&&l.default.createElement("button",{className:"question-pool-panel__load-more-button",onClick:q,"data-analytics-id":T,disabled:!this.hasMoreQuestions()},this.getLoadMoreQuestionsButtonText()),d&&0===d.length&&!w&&l.default.createElement(_.default,null))),S&&l.default.createElement(g.default,{setCloseDialogVisibility:this.setCloseDialogVisibility,closePanel:t}))},t.QUESTION_POOL_QUESTION_LOAD_LIMIT=50,t.propTypes=a.__assign({assessmentId:u.default.string.isRequired,assessmentTitle:u.default.string.isRequired,closePanel:u.default.func.isRequired,courseId:u.default.string.isRequired,localize:u.default.object.isRequired,loadQuestionsFromQuestionBlock:u.default.func.isRequired,deleteQuestionFromQuestionBlock:u.default.func.isRequired,questions:u.default.array.isRequired,hasAssessmentModifyPermissions:u.default.bool.isRequired,hasSubmissions:u.default.bool.isRequired,persistQuestion:u.default.func.isRequired,questionPoolId:u.default.string.isRequired,openQuestionPicker:u.default.func.isRequired,localizationPrefix:u.default.string.isRequired},h.withAnalyticsProps),t}(l.default.Component);t.QuestionPoolPanel=y;var v=c.connect((function(e,t){return{questions:p.select.question.getQuestionsByQuestionBlockId(e,t.questionPoolId)}}),(function(e){return f.bindActionCreators({loadQuestionsFromQuestionBlock:p.actions.question.loadQuestionsFromQuestionBlock,deleteQuestionFromQuestionBlock:p.actions.question.deleteQuestionFromQuestionBlock},e)}))(y);t.default=r.withAnalytics(d.localizedComponentWrapper(b.withAssessmentCommonContext(v)))},"M+qG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=n("w8C8"),o=n("XBaz"),r=a.__importDefault(n("+4s7")),l=n("HW8w"),u=n("8unJ");t.default=u.localizedComponentWrapper((function(e){var t=e.localize,n=e.onCodeRefresh,a=e.onCodeCopy,u=l.useStyles(),d=u.containerClass,c=u.firstButtonClass;return s.createElement("div",{className:d},s.createElement(r.default,{className:c,analyticsId:"assessments.settings.accessCode.copy",onClick:a,tooltip:t.translate("assessments.settings.accessCode.copy"),activeTooltip:t.translate("assessments.settings.accessCode.copied")},s.createElement(i.Duplicate,null)),s.createElement(r.default,{analyticsId:"assessments.settings.accessCode.refresh",onClick:n,tooltip:t.translate("assessments.settings.accessCode.refresh"),activeTooltip:t.translate("assessments.settings.accessCode.refreshed")},s.createElement(o.Refresh,null)))}))},MDkG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("nBlB"),r=a.__importDefault(n("j9WP")),l=function(e){var t=e.checkAndDisableAssessmentSettings,n=e.courseId,a=e.index,i=e.dragPointRef,o=e.itemRef,l=e.alignedGoals,u=e.question,d=e.questionTitle,c=e.onQuestionEdit,f=e.onQuestionMadeDirty,p=e.persistQuestion,m=e.deleteQuestion,g=e.questionBeingEditedId,h=e.isAnyQuestionDirty,_=e.hasSubmissions,b=e.hasAssessmentModifyPermissions,y=e.openGoals,v=e.pluginsConfig,E=e.dragButtonAriaLabel,C=e.babelfishInstance,w=e.currentLocale,S=e.disableInteraction,P=e.openPoolQuestionPanel,R=e.addQuestionsToEmptyPool,A=e.localizationPrefix,T=e.showFeatureAnnouncement,q=a+1;return s.default.createElement("div",{className:"js-assessment-question-"+q,ref:o},s.default.createElement(r.default,{checkAndDisableAssessmentSettings:t,courseId:n,questionBeingEditedId:g,isAnyQuestionDirty:h,alignedGoals:l,question:u,questionTitle:d,questionPosition:q,onQuestionEdit:c,onQuestionMadeDirty:f,persistQuestion:p,deleteQuestion:m,hasSubmissions:_,hasAssessmentModifyPermissions:b,openGoals:y,pluginsConfig:v,dragButtonAriaLabel:E,dragPointRef:i,babelfishInstance:C,currentLocale:w,disableInteraction:S,openPoolQuestionPanel:P,addQuestionsToEmptyPool:R,localizationPrefix:A,showFeatureAnnouncement:T}))};l.propTypes={checkAndDisableAssessmentSettings:i.default.func.isRequired,courseId:i.default.string.isRequired,dragPointRef:i.default.func.isRequired,index:i.default.number.isRequired,questionTitle:i.default.string,itemRef:i.default.object,questionBeingEditedId:i.default.string,isAnyQuestionDirty:i.default.bool.isRequired,alignedGoals:i.default.array,question:i.default.object.isRequired,onQuestionEdit:i.default.func.isRequired,onQuestionMadeDirty:i.default.func.isRequired,persistQuestion:i.default.func.isRequired,deleteQuestion:i.default.func.isRequired,hasSubmissions:i.default.bool.isRequired,hasAssessmentModifyPermissions:i.default.bool.isRequired,openGoals:i.default.func.isRequired,pluginsConfig:i.default.object.isRequired,dragButtonAriaLabel:i.default.string.isRequired,babelfishInstance:i.default.object.isRequired,currentLocale:i.default.string.isRequired,disableInteraction:i.default.bool,openPoolQuestionPanel:i.default.func.isRequired,addQuestionsToEmptyPool:i.default.func.isRequired,localizationPrefix:i.default.string.isRequired,showFeatureAnnouncement:i.default.object},t.default=o.DragNDropItem(l)},MozA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("pfaR");t.default=a.default},Mx6v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("uDfI"),r=n("9OUN"),l=n("JfV0"),u=n("E1pj"),d=a.__importDefault(n("afDw")),c=(a.__importDefault(n("VsDy")),a.__importDefault(n("5B29"))),f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasLoadedQuestions:!1,isQuestionLoadingInProgress:!0,isAllyAvailable:!1},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.allyService,a=t.courseId,s=t.contentId,i=t.loadContents;a&&s&&i({courseId:a,contentId:s}),n.isAvailable().then((function(t){return e.setState((function(){return{isAllyAvailable:t}}))}))},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props,a=n.assessment,s=n.courseId,i=n.loadGradebookColumn,o=n.loadQuestions,r=this.state.hasLoadedQuestions;!e.assessment&&a&&i({courseId:s,columnId:a.gradableItemId}),a&&(r||o({courseId:s,assessmentId:a.id,refreshState:!0,expand:"alignedGoals,usageCount"}).then((function(){t.setState((function(){return{isQuestionLoadingInProgress:!1,hasLoadedQuestions:!0}}))})))},t.prototype.render=function(){var e=this.props,t=e.features,n=(e.UltraWindowSize,{allyService:e.allyService,contentId:e.contentId,isAllyAvailable:this.state.isAllyAvailable});return s.default.createElement("div",null,s.default.createElement(c.default.Provider,{value:n},s.default.createElement(d.default,a.__assign({},this.props,{isLoadingInProgress:this.state.isQuestionLoadingInProgress})),t&&t.reactAssessmentsSettings&&!1))},t.propTypes={courseId:i.default.string.isRequired,contentId:i.default.string.isRequired,assessment:i.default.object,questions:i.default.array.isRequired,content:i.default.object,gradebookColumn:i.default.object,features:i.default.shape({isProduction:i.default.bool,kloudlessIntegration:i.default.bool,reactAssessmentsSettings:i.default.bool,questionRegrading:i.default.bool}),loadContents:i.default.func.isRequired,loadGradebookColumn:i.default.func.isRequired,createQuestion:i.default.func.isRequired,deleteQuestion:i.default.func.isRequired,loadQuestions:i.default.func.isRequired,persistQuestion:i.default.func.isRequired,persistContent:i.default.func.isRequired,persistGradebookColumn:i.default.func.isRequired,removeRubricAssociations:i.default.func.isRequired,routes:i.default.object.isRequired,pluginsConfig:i.default.object.isRequired,setIsAnyQuestionDirty:i.default.func.isRequired,applyAccessibilityHandling:i.default.func,revertAccessibilityHandling:i.default.func,babelfishInstance:i.default.object.isRequired,UltraWindowSize:i.default.object.isRequired,localizationPrefix:i.default.string.isRequired,allyService:i.default.object.isRequired},t}(s.Component);t.AssessmentPanel=f;var p=o.connect((function(e,t){return{assessment:l.select.assessment.getAssessmentByContentId(e,t.contentId),questions:l.select.question.getQuestionsByContentId(e,t.contentId),content:l.select.content.getContentById(e,t.contentId),gradebookColumn:l.select.gradebookColumn.getGradebookColumnByContentId(e,t.contentId)}}),(function(e){return r.bindActionCreators({loadContents:l.actions.content.loadContents,loadGradebookColumn:l.actions.gradebookColumn.loadGradebookColumn,persistContent:l.actions.content.persistContent,persistGradebookColumn:l.actions.gradebookColumn.persistGradebookColumn,createQuestion:l.actions.question.createQuestion,deleteQuestion:l.actions.question.deleteQuestion,loadQuestions:l.actions.question.loadQuestions,persistQuestion:l.actions.question.persistQuestion,removeRubricAssociations:l.actions.gradebookColumn.removeRubricAssociations},e)}))(u.windowResizingResponsiveComponentWrapper(f));t.default=p},NHtK:function(e,t,n){},NPG5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("Pfoe")),r=n("2yjE"),l=n("3ZJq");n("TAB1");var u=function(e,t){var n="answer-header-"+e.id+"-"+t;return""+r.QUESTION_TITLE_ID_PREFIX+e.id+" "+n},d=function(e){var t=e.answersInfo,n=e.answersInfoLabel,a=e.localize,i=e.question,r=e.questionTextClassName;return s.default.createElement("div",{className:"readonly-multiple-answer-question"},s.default.createElement("div",{className:r},s.default.createElement(o.default,{id:i.id,bbml:i.questionText.rawText,isReadOnly:!0,refreshBbml:!0})),s.default.createElement("div",{className:"readonly-answer__container"},s.default.createElement("div",{className:"readonly-multiple-answer-question__instructions readonly-answer__main readonly-answer__instructions"},a.translate("assessments.canvas.question.multipleAnswer.answerInstructions")),t&&s.default.createElement("span",{className:"readonly-answer__info-label readonly-answer__info"},n)),s.default.createElement("ol",{className:"readonly-multiple-answer-question__list"},i.answers.map((function(e,n){return s.default.createElement("li",{key:e.id,className:"readonly-multiple-answer-question__li readonly-answer__container"},s.default.createElement("div",{className:"readonly-multiple-answer-question__answer readonly-answer__main"},s.default.createElement("span",{className:"readonly-multiple-answer-question__text"},s.default.createElement(o.default,{ariaLabelledBy:u(i,n),bbml:e.answerText.rawText,id:e.id,isReadOnly:!0})),e.correctAnswer&&s.default.createElement("span",{className:"readonly-multiple-answer-question__correct"},a.translate("assessments.canvas.question.multipleAnswer.correctAnswer"))),t&&s.default.createElement("div",{className:"readonly-multiple-answer-question__answers-info readonly-answer__info"},t[n]))}))),s.default.createElement(l.AutomatedQuestionFeedbackRead,{question:i}))};d.propTypes={answersInfo:i.default.array,answersInfoLabel:i.default.string,localize:i.default.object.isRequired,question:i.default.object.isRequired,questionTextClassName:i.default.string.isRequired},t.default=d},Nr1y:function(e,t,n){},NzPg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importStar(n("nsO7")),o=a.__importDefault(n("aWzz")),r=n("MC1S"),l=n("E1pj"),u=n("JfV0"),d=n("3ZJq"),c=a.__importDefault(n("PCGI")),f=a.__importDefault(n("gTAB")),p=n("WGaE"),m=a.__importDefault(n("R6T4")),g=a.__importDefault(n("rLAU")),h=a.__importDefault(n("48vb")),_=a.__importStar(n("TIvv")),b=a.__importStar(n("AiU9")),y=a.__importDefault(n("CvmH")),v=a.__importStar(n("OPED")),E=a.__importStar(n("jPx/")),C=n("Vng8");n("4Pbl");var w=function(e){var t=e.canDeleteDistractor,n=e.canDeletePromptAnswerPair,o=e.editMode,l=e.localize,w=e.onDistractorAddition,S=e.onDistractorDeletion,P=e.onPromptAnswerPairAddition,R=e.onPromptAnswerPairDeletion,A=e.onQuestionChange,T=e.onScoringOptionsChange,q=e.question,I=e.setActiveEditorId,D=e.startEditMode,Q=e.UltraWindowSize,F=e.showFeatureAnnouncement,k=q.answers.filter((function(e){return e.isDistractor})),x=E.reusableAnswers(q),N=E.answerIdToPromptIndexMap(q),L=f.default.isInactive(o),M=!L&&C.hasLinkedQuestion(q),O=q.prompts.length>=u.MATCHING_MAXIMUM_AMOUNT_OF_PROMPT_ANSWER_PAIRS,B=O?l.translate("assessments.canvas.question.matching.addPairMaxReached",{maxCount:u.MATCHING_MAXIMUM_AMOUNT_OF_PROMPT_ANSWER_PAIRS}):l.translate("assessments.canvas.question.matching.addPair"),z=k.length>=u.MATCHING_MAXIMUM_AMOUNT_OF_DISTRACTORS,V=z?l.translate("assessments.canvas.question.matching.addDistractorMaxReached",{maxCount:u.MATCHING_MAXIMUM_AMOUNT_OF_DISTRACTORS}):l.translate("assessments.canvas.question.matching.addDistractor"),j=C.isNewQuestion(e.question),K=function(){return!0===i.get(e,"question.permissions.addOrRemoveAnswer")&&!0===i.get(e,"question.permissions.changeMatchingAnswerIndex")||j},U=function(e){e.preventDefault()};return s.default.createElement("div",{className:"matching "+(o?"matching--edit":"matching--read")},s.default.createElement(c.default,{editMode:o,question:q},s.default.createElement(p.LinkedQuestionNotification,{show:M,usageCount:q.usageCount}),s.default.createElement(_.default,a.__assign({},_.getPluggableQuestionHeaderProps(e,A))),s.default.createElement(b.default,a.__assign({},b.getQuestionControlProps(e))),s.default.createElement(y.default,{instructions:l.translate("assessments.canvas.question.matching.instructions"),show:!L}),s.default.createElement(v.default,a.__assign({},v.getQuestionTextProps(e,A)))),s.default.createElement("div",{className:"matching__container"},s.default.createElement("div",{className:"matching__pairs"},!Q.isSmallBreakpoint()&&s.default.createElement("div",{className:"matching__column-titles-container"},s.default.createElement("div",{className:"matching__column-title "+(L?"":"field-required")},l.translate("assessments.canvas.question.matching.headers.prompts")),s.default.createElement("div",{className:"matching__column-title "+(L?"":"field-required")},l.translate("assessments.canvas.question.matching.headers.answers"))),s.default.createElement("ol",{className:"matching__list"},q.prompts.map((function(t,o){return s.default.createElement("li",{key:t.id,className:"matching__list-item"},s.default.createElement(g.default,a.__assign({},e,{answerIsReused:E.isPairReused(q,t.id),answer:q.answers[t.matchingAnswerIndex],answerIdToPromptIndexMap:N,canDeletePromptAnswerPair:n,hasRemovePromptAnswerPairPermissions:!0===i.get(e,"question.permissions.addOrRemovePrompt")&&!0===i.get(e,"question.permissions.addOrRemoveAnswer")&&!0===i.get(e,"question.permissions.changeMatchingAnswerIndex")||j,hasReuseAnswerPermissions:K(),index:o,onPromptAnswerPairDeletion:R,prompt:t,reusableAnswers:x,reusedElsewherePair:E.isPairReused(q,t.id),startEditMode:D})))}))),!L&&s.default.createElement("div",{className:"matching__actions-container"},s.default.createElement("div",{className:"matching__action"},(!0===i.get(e,"question.permissions.addOrRemovePrompt")&&!0===i.get(e,"question.permissions.addOrRemoveAnswer")||j)&&s.default.createElement(r.Link,{className:"matching__add-pair",onClick:P,onMouseDown:U,type:"button",disabled:O},B)),s.default.createElement("span",{className:"matching__action"},l.translate("assessments.canvas.question.matching.randomAnswers")))),(!L||L&&k.length>0)&&s.default.createElement("div",{className:"matching__distractors"},s.default.createElement("div",{className:"matching__distractors-list"},s.default.createElement("div",{className:"matching__distractors-list-label "+(1!==q.prompts.length||L?"":"field-required")},s.default.createElement("span",null,l.translate("assessments.canvas.question.matching.additionalAnswers"))),s.default.createElement("ol",{className:"matching__list matching__distractors-list-items"},k.map((function(n,i){return s.default.createElement("li",{className:"matching__distractors-list-items-item",key:n.ui.id},s.default.createElement(m.default,a.__assign({},e,{answer:n,canDeleteDistractor:t,hasRemoveAnswerPermissions:K(),index:i,onDistractorDeletion:S})))})))),s.default.createElement("div",{className:"matching__distractor-actions"},!L&&(!0===i.get(e,"question.permissions.addOrRemoveAnswer")||j)&&s.default.createElement(r.Link,{className:"matching__add-distractor",onClick:w,onMouseDown:U,type:"button",disabled:z},V))),s.default.createElement(h.default,a.__assign({},e,{question:q,editMode:o,onScoringOptionsChange:T}))),s.default.createElement(d.AutomatedQuestionFeedback,{editMode:o,onQuestionChange:A,question:q,setActiveEditorId:I,showFeatureAnnouncement:F}))};w.propTypes={canDeleteDistractor:o.default.func.isRequired,canDeletePromptAnswerPair:o.default.func.isRequired,editMode:o.default.number.isRequired,localize:o.default.shape({translate:o.default.func}).isRequired,onAnswerChange:o.default.func.isRequired,onDistractorAddition:o.default.func.isRequired,onDistractorDeletion:o.default.func.isRequired,onPromptAnswerPairAddition:o.default.func.isRequired,onPromptAnswerPairDeletion:o.default.func.isRequired,onPromptAnswerReuse:o.default.func.isRequired,onPromptRemoveReusedAnswer:o.default.func.isRequired,onPromptChange:o.default.func.isRequired,onQuestionChange:o.default.func.isRequired,onScoringOptionsChange:o.default.func.isRequired,question:o.default.shape({id:o.default.string,answers:o.default.arrayOf(o.default.object),prompts:o.default.arrayOf(o.default.object),usageCount:o.default.number}).isRequired,startEditMode:o.default.func.isRequired,UltraWindowSize:o.default.shape({isSmallBreakpoint:o.default.func}).isRequired,showFeatureAnnouncement:o.default.object},t.default=l.windowResizingResponsiveComponentWrapper(w)},O55a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=n("8unJ"),o=n("M0dR"),r=n("hHCp"),l=n("yETo"),u=a.__importDefault(n("Pfoe")),d=a.__importDefault(n("O94r"));t.SELECTOR_PREFIX="automated-question-feedback-read",t.AutomatedQuestionFeedbackReadComponent=function(e){var n,i,c=e.localize,f=e.question,p=e.className,m=l.useStyles(),g=s.default.useState(!1),h=g[0],_=g[1];if(!(null===(n=f.correctResponseFeedback)||void 0===n?void 0:n.rawText)&&!(null===(i=f.incorrectResponseFeedback)||void 0===i?void 0:i.rawText))return null;var b,y,v,E,C=t.SELECTOR_PREFIX+"_content"+f.id;return s.default.createElement("div",{className:d.default(m.base,p,t.SELECTOR_PREFIX)},s.default.createElement(o.AnalyticsTypography,{component:"h4",variant:"h4"},s.default.createElement("button",{className:d.default(m.contentToggle,t.SELECTOR_PREFIX+"__content-toggle"),onClick:function(){return _(!h)},type:"button","aria-expanded":h,"aria-controls":h?C:null},s.default.createElement("span",null,c.translate("automatedQuestionFeedback.read.contentToggleLabel")),s.default.createElement(r.SvgIcon,{iconName:"arrow-"+(h?"up":"down"),iconSize:"small"}))),h&&(b="-"+t.SELECTOR_PREFIX+"_correct-feedback"+f.id,y="-"+t.SELECTOR_PREFIX+"_incorrect-feedback"+f.id,v=t.SELECTOR_PREFIX+"_incorrect-section-title_"+f.id,E=t.SELECTOR_PREFIX+"_correct-section-title_"+f.id,s.default.createElement("div",{id:C},f.correctResponseFeedback.rawText&&s.default.createElement("div",{className:d.default(m.contentSection,t.SELECTOR_PREFIX+"__content-section")},s.default.createElement("div",{className:m.sectionHeader},s.default.createElement(o.AnalyticsTypography,{id:E,component:function(e){return s.default.createElement("label",a.__assign({htmlFor:"bb-editor"+b},e))},variant:"h6",className:m.sectionTitle},c.translate("automatedQuestionFeedback.correctAnswerLabel"))),s.default.createElement(u.default,{bbml:f.correctResponseFeedback.rawText,id:b,isReadOnly:!0,ariaLabelledBy:E})),f.incorrectResponseFeedback.rawText&&s.default.createElement("div",{className:d.default(m.contentSection,t.SELECTOR_PREFIX+"__content-section")},s.default.createElement("div",{className:m.sectionHeader},s.default.createElement(o.AnalyticsTypography,{id:v,component:function(e){return s.default.createElement("label",a.__assign({htmlFor:"bb-editor"+y},e))},variant:"h6",className:m.sectionTitle},c.translate("automatedQuestionFeedback.incorrectAnswerLabel"))),s.default.createElement(u.default,{bbml:f.incorrectResponseFeedback.rawText,id:y,isReadOnly:!0,ariaLabelledBy:v})))))},t.default=i.localizedComponentWrapper(t.AutomatedQuestionFeedbackReadComponent)},O761:function(e,t,n){},OIpQ:function(e,t,n){},OPED:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("3UQ0");t.default=a.default,t.getQuestionTextProps=a.getQuestionTextProps},OfVW:function(e,t,n){},OjB1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("j92x"),l=n("8h7I"),u=n("AuQm"),d=n("E1pj"),c=n("t6ux"),f=n("/R3Y");n("p3LL"),t.CLASS_PREFIX="calculated-formula-question__step-2__answer-units",t.TRANSLATION_KEY_PREFIX="assessments.canvas.question.calculatedFormula.stepTwo.answerUnits",t.BaseAnswerUnits=function(e){var n=e.localize,a=e.onUnitPointsPercentChange,i=e.onUnitsRequiredChange,o=e.onUnitValueChange,p=e.onUnitPointsPercentBlur,m=e.onUnitValueBlur,g=e.unitPointsPercent,h=e.unitsRequired,_=e.unitValue,b=e.hasUnitValueEmptyError,y=e.hasUnitPointsPercentRangeError,v=e.hasUnitsGreaterThanPartialError,E=s.useState(d.getId("calculated-formula-question-instructions-"))[0],C=b?n.translate(t.TRANSLATION_KEY_PREFIX+".error.empty"):null,w=null;if(y)w=n.translate(t.TRANSLATION_KEY_PREFIX+".error.outOfRange");else if(v){w=n.translate("assessments.canvas.question.calculatedFormula.stepTwo.precisionScoring.partialCreditLessThanUnitsCreditError")}return s.default.createElement("fieldset",{className:f.removeExtraWhitespace("\n                calculated-formula-question__step-2__fieldset\n                "+t.CLASS_PREFIX+"__fieldset\n            ")},s.default.createElement("legend",{className:f.removeExtraWhitespace("\n                    calculated-formula-question__step-2__fieldset__legend\n                    "+t.CLASS_PREFIX+"__legend\n                ")},n.translate(t.TRANSLATION_KEY_PREFIX+".title")),s.default.createElement(r.Checkbox,{analyticsId:c.ANALYTICS_ID_PREFIX+".answerUnits.required",checked:h,className:t.CLASS_PREFIX+"__required-checkbox",label:n.translate(t.TRANSLATION_KEY_PREFIX+".required"),onChange:i}),h&&s.default.createElement("div",{className:t.CLASS_PREFIX+"__fields-container"},s.default.createElement("div",{className:t.CLASS_PREFIX+"__units-container"},s.default.createElement(l.TextField,{analyticsId:c.ANALYTICS_ID_PREFIX+".answerUnits","aria-describedby":E,ariaLabel:n.translate(t.TRANSLATION_KEY_PREFIX+".title"),className:t.CLASS_PREFIX+"__units-input",errorMessage:C,onBlur:m,onChanged:o,value:null!=_?_:""})),s.default.createElement("div",{className:t.CLASS_PREFIX+"__units-input-instructions",id:E},n.translate(t.TRANSLATION_KEY_PREFIX+".instructions")),s.default.createElement(u.LocalizedNumberInput,{analyticsId:c.ANALYTICS_ID_PREFIX+".answerUnits.pointsPercentage",className:t.CLASS_PREFIX+"__points-percentage-input",helperText:w,label:n.translate(t.TRANSLATION_KEY_PREFIX+".percentageLabel"),max:100,min:0,onBlur:p,onChange:a,validate:function(){return!w},value:g})))},t.BaseAnswerUnits.propTypes={hasUnitPointsPercentRangeError:i.default.bool.isRequired,hasUnitsGreaterThanPartialError:i.default.bool.isRequired,hasUnitValueEmptyError:i.default.bool.isRequired,localize:i.default.object,onUnitPointsPercentBlur:i.default.func.isRequired,onUnitPointsPercentChange:i.default.func.isRequired,onUnitsRequiredChange:i.default.func.isRequired,onUnitValueBlur:i.default.func.isRequired,onUnitValueChange:i.default.func.isRequired,unitPointsPercent:i.default.number,unitsRequired:i.default.bool.isRequired,unitValue:i.default.string},t.default=o.localizedComponentWrapper(t.BaseAnswerUnits)},On2X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importStar(n("nsO7")),r=n("8unJ"),l=n("aPd7"),u=n("/R3Y"),d=a.__importDefault(n("2yjE"));n("WARa");var c=300,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPreviewText=function(){var e=l.getPlainTextFromBbML(t.props.question.questionText.rawText);return e.length<=c?e:u.truncateString(e,c)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.question,n=e.questionTitle,a=t.alignedGoals&&t.alignedGoals.length>0;return s.default.createElement("div",{className:"question-preview"},n&&s.default.createElement(d.default,{id:t.id,canEnterEditMode:!1,editMode:0,onQuestionChange:o.noop,points:t.points,question:t,questionTitle:n,onPointsClick:o.noop,hasSubmissions:!1,hasQuestionEditPermissions:!1,hasAlignedGoals:a,openGoals:o.noop,goalAriaLabel:"",disableFocus:!0,analyticsId:"questionPreview.questionText"}),s.default.createElement("div",{className:"question-preview__question-text",id:"bb-editor"+t.id},this.getPreviewText()))},t.propTypes={question:i.default.object.isRequired,questionTitle:i.default.string},t}(s.PureComponent);t.default=r.localizedComponentWrapper(f)},OyKE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=n("8unJ"),o=n("M0dR"),r=n("R3RD"),l=n("A4Z1"),u=n("hHCp"),d=n("rZf7"),c=a.__importDefault(n("Pfoe")),f=a.__importDefault(n("O94r"));t.SELECTOR_PREFIX="automated-question-feedback-attempt-review",t.AutomatedQuestionFeedbackAttemptReviewComponent=function(e){var n=e.feedback,i=e.isCollapsible,l=e.localize,p=d.useStyles(),m=s.default.useState(!1),g=m[0],h=m[1];if(!n)return null;var _=Math.floor(1e6*Math.random()+1),b=t.SELECTOR_PREFIX+"__feedback-"+_,y=t.SELECTOR_PREFIX+"_content"+_,v=function(e){return s.default.createElement("label",a.__assign({htmlFor:b},e))};return s.default.createElement("div",{className:f.default(p.base,t.SELECTOR_PREFIX)},i&&s.default.createElement(o.AnalyticsTypography,{component:"div",variant:"body1"},s.default.createElement("button",{className:f.default(p.contentToggle,t.SELECTOR_PREFIX+"__content-toggle"),onClick:function(){return h(!g)},type:"button","aria-expanded":g,"aria-controls":g?y:null},s.default.createElement("span",null,g?l.translate("automatedQuestionFeedback.attemptReview.hideFeedbackToggleLabel"):l.translate("automatedQuestionFeedback.attemptReview.showFeedbackToggleLabel")),s.default.createElement(u.SvgIcon,{iconName:"arrow-"+(g?"up":"down"),iconSize:"custom",className:p.contentToggleIcon}))),(!i||g)&&s.default.createElement("div",{className:f.default(p.base,t.SELECTOR_PREFIX+"__content-section"),id:y},s.default.createElement("div",{className:p.contentSection},s.default.createElement("div",{className:p.sectionHeader},s.default.createElement(r.Feedback,{className:p.feedbackIcon}),s.default.createElement(o.AnalyticsTypography,{component:v,variant:"h4",className:p.contentTitle},l.translate("automatedQuestionFeedback.attemptReview.feedbackLabel"))),s.default.createElement(c.default,{bbml:n,id:b,isReadOnly:!0,refreshBbml:!0}))))};t.default=i.localizedComponentWrapper((function(e){return s.default.createElement(l.AnalyticsJssThemeProvider,{theme:"light"},s.default.createElement(t.AutomatedQuestionFeedbackAttemptReviewComponent,a.__assign({},e)))}))},Oyt1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=n("MC1S"),i=n("WOfr"),o=n("RrOo"),r=a.__importStar(n("nsO7")),l=a.__importDefault(n("aWzz")),u=a.__importStar(n("ERkP")),d=n("8unJ"),c=a.__importDefault(n("xyjg"));n("dn4g");var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainHeading=null,t.focusFirstSourceHeading=function(){t.mainHeading&&t.mainHeading.focus()},t.isQuestionSelected=function(e){var n=t.props,a=n.isSelectAllQuestions,s=n.deselectedQuestions,i=n.selectedQuestions,o=r.isUndefined(s[e]),l=!r.isUndefined(i[e]);return a&&o||l},t.renderSelectDeselectAll=function(){var e=t.props,n=e.hideSelectDeselectAll,a=e.localize,i=e.onClearAllQuestionSelection,o=e.onSelectAllQuestions;return n?null:u.default.createElement("div",{className:"question-picker-results-list__select-deselect-all"},u.default.createElement(s.Link,{className:"js-select-all-questions",onClick:o,analyticsId:"questionPicker.questionList.selectAll.link"},a.translate("questionPicker.questionList.selectAll")),u.default.createElement("span",null," | "),u.default.createElement(s.Link,{className:"js-deselect-all-questions",onClick:i,analyticsId:"questionPicker.questionList.clearAll.link"},a.translate("questionPicker.questionList.clearAll")))},t.renderQuestions=function(){var e=t.props,n=e.courseId,a=e.items,s=e.onItemSelect,l=e.questionToFocus,d=e.sources,f=e.localizationPrefix,p=r.mapKeys(d,(function(e){return e.id})),m=r.groupBy(a,"assessmentId");return Object.entries(m).map((function(e,a){var r=e[0],d=e[1],m=p[r],g=m?m.title:"",h=m&&"Pool"===m.type?i.QuestionBank:o.Test,_="heading_"+r;return u.default.createElement("div",{key:r,className:"js-source-question-grouping"},u.default.createElement("div",{className:"question-picker-results-list__heading-group"},u.default.createElement(h,{className:"question-picker-results-list__heading-icon",color:"primary"}),u.default.createElement("h2",{id:_,className:"question-picker-results-list__heading-text js-question-group-heading",tabIndex:-1,ref:function(e){0===a&&(t.mainHeading=e)}},g)),d.map((function(e){var a=t.isQuestionSelected(e.id);return u.default.createElement("div",{key:e.id},u.default.createElement(c.default,{courseId:n,assessmentId:r,onSelectQuestion:s,question:e,focused:l===e.id,selected:a,sourceHeaderId:_,localizationPrefix:f}))})))}))},t}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e){e.isShowingFilterPanel&&!this.props.isShowingFilterPanel&&this.focusFirstSourceHeading()},t.prototype.render=function(){var e=this.props.isLoadingMore;return u.default.createElement("div",{className:"question-picker-results-list"},this.renderSelectDeselectAll(),this.renderQuestions(),e&&u.default.createElement(s.Spinner,{className:"question-picker-results-list__spinner",size:s.SpinnerSize.large}))},t.propTypes={courseId:l.default.string.isRequired,localize:l.default.object.isRequired,sources:l.default.array.isRequired,deselectedQuestions:l.default.object.isRequired,hideSelectDeselectAll:l.default.bool,selectedQuestions:l.default.object.isRequired,items:l.default.array.isRequired,isLoadingMore:l.default.bool.isRequired,onItemSelect:l.default.func.isRequired,isSelectAllQuestions:l.default.bool.isRequired,onSelectAllQuestions:l.default.func.isRequired,onClearAllQuestionSelection:l.default.func.isRequired,questionToFocus:l.default.string,isShowingFilterPanel:l.default.bool,localizationPrefix:l.default.string.isRequired},t.defaultProps={hideSelectDeselectAll:!1,isShowingFilterPanel:!0},t}(u.PureComponent);t.UnwrappedQuestionPickerResultsList=f,t.default=d.localizedComponentWrapper(f)},PCGI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("G5c7");t.default=a.default},Pfoe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("kBJj"),r=n("8unJ"),l=n("JfV0");n("DeRc");var u=n("5B29");t.BB_EDITOR_CONTAINER_CLASSNAME="bb-editor-wrapper";var d=function(e){function n(t){var n=e.call(this,t)||this;return n.ref=null,n.focusEditor=function(){var e=n.ref.querySelector(".bb-editor");e&&e.focus()},n.updateEditorStyle=function(){var e=n.ref.classList;n.props.isReadOnly?e.add("read-only"):e.remove("read-only")},n.onEditorBlur=function(){n.setState((function(){return{hasFocus:!1}}),n.props.setActiveEditorId(null)),n.props.onBlur&&n.props.onBlur()},n.onEditorFocus=function(){var e=n.props,t=e.id,a=e.setActiveEditorId;n.setState((function(){return{hasFocus:!0}}),a(t)),n.props.onFocus&&n.props.onFocus()},n.onTextChange=function(e){n.props.refreshBbml||n.props.onChange(e)},n.isToolbarHidden=function(){return!n.props.keepToolbarVisible&&!n.state.hasFocus},n.state={bbml:t.bbml,hasFocus:!1},n}return a.__extends(n,e),n.prototype.componentDidMount=function(){this.setState((function(){return{bbml:null}})),this.updateEditorStyle()},n.prototype.componentWillReceiveProps=function(e){e.refreshBbml?this.setState((function(){return{bbml:e.bbml}})):null!==this.state.bbml&&this.setState((function(){return{bbml:null}}))},n.prototype.shouldComponentUpdate=function(e){return!e.id||!e.activeEditorId||e.id===e.activeEditorId},n.prototype.componentDidUpdate=function(e,t){this.updateEditorStyle(),this.props.id===this.props.activeEditorId&&!t.hasFocus&&this.focusEditor()},n.prototype.render=function(){var e=this,n=this.props,i=n.babelfishInstance,r=n.babelfishFormatInstance,u=n.courseId,d=n.currentLocale,c=n.id,f=(n.localize,n.pluginsConfig),p=n.context,m=a.__rest(n,["babelfishInstance","babelfishFormatInstance","courseId","currentLocale","id","localize","pluginsConfig","context"]),g=this.state.hasFocus?this.props:m,h="bb-editor"+c,_={apiBasePath:l.config.apiBasePath,babelfishFormatInstance:r,babelfishInstance:i,locale:d,xsrfToken:l.config.xsrf},b=a.__spreadArrays(this.props.plugins,[o.insertLocalFile(a.__assign({},_)),o.link(),o.image(),o.video(),o.math(a.__assign(a.__assign({},_),{courseId:u}))]);f&&f.contentMarket&&b.push(o.contentMarket(a.__assign(a.__assign({},f.contentMarket),_))),f&&f.insertKloudlessFile&&b.push(o.insertKloudlessFile(a.__assign(a.__assign({},f.insertKloudlessFile),_))),f&&f.insertYoutubeVideo&&b.push(o.insertYoutubeVideo(a.__assign(a.__assign({},f.insertYoutubeVideo),_)));var y={service:p.allyService,indexMap:new Map};return s.default.createElement("div",{ref:function(t){e.ref=t},className:t.BB_EDITOR_CONTAINER_CLASSNAME},s.default.createElement(o.BbEditor,a.__assign({},g,{ariaDescribedBy:h,bbml:this.state.bbml,editorId:h,isToolbarHidden:this.isToolbarHidden(),locale:d,onBlur:this.onEditorBlur,onChange:this.onTextChange,onFocus:this.onEditorFocus,plugins:b,rootContentId:p.contentId,ally:y})))},n.propTypes={activeEditorId:i.default.string,babelfishInstance:i.default.object.isRequired,babelfishFormatInstance:i.default.object.isRequired,currentLocale:i.default.string.isRequired,id:i.default.string.isRequired,bbml:i.default.string.isRequired,courseId:i.default.string,isReadOnly:i.default.bool.isRequired,keepToolbarVisible:i.default.bool,localize:i.default.object.isRequired,onChange:i.default.func,onFocus:i.default.func,onBlur:i.default.func,plugins:i.default.array,pluginsConfig:i.default.shape({contentMarket:i.default.shape({}),insertKloudlessFile:i.default.shape({}),insertYoutubeVideo:i.default.shape({})}),refreshBbml:i.default.bool,setActiveEditorId:i.default.func,toolbarSet:i.default.string,context:i.default.object},n.defaultProps={plugins:[],keepToolbarVisible:!1,toolbarSet:"default",context:null},n}(s.Component);t.RawBbEditorWrapper=d,t.default=u.withAssessmentPanelContext(r.localizedComponentWrapper(d))},QJmz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("nsO7"),s=new Map;t.setToggle=function(e,t){if(!a.isString(e)||!a.isBoolean(t))throw new Error("Toggle name must be String type, toggle value must be Boolean type");s.set(e,t)},t.getToggle=function(e){return s.get(e)},t.getToggles=function(){var e={};return s.forEach((function(t,n){e[n]=t})),e},t.clearToggles=function(){s.clear()}},QpzK:function(e,t,n){},R6T4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("8unJ"),l=a.__importDefault(n("gTAB")),u=a.__importDefault(n("Pfoe")),d=n("2yjE");n("Ggyl");var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAnswerChange=function(e){var n=t.props.answer,s=a.__assign(a.__assign({},n),{answerText:{rawText:e.toBbML()}});t.props.onAnswerChange(s)},t.onDelete=function(){t.props.onDistractorDeletion(t.props.answer.ui.id)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.answer,n=e.canDeleteDistractor,i=e.editMode,r=e.hasRemoveAnswerPermissions,c=e.index,f=e.localize,p=e.question,m=e.questionTitle,g=l.default.isInactive(i),h=c+1,_="distractor-header-"+p.id+"-"+c,b=""+d.QUESTION_TITLE_ID_PREFIX+p.id+" "+_,y=f.translate("assessments.canvas.question.matching.deleteDistractorAriaLabel",{questionTitle:m,distractorNumber:h});return s.default.createElement("div",{className:"matching-distractor\n                "+(g?"matching-distractor--read":"matching-distractor--edit")},s.default.createElement("div",{className:"matching-distractor__answer"},s.default.createElement("div",{className:"matching-distractor__text"},s.default.createElement("div",{id:_,className:"sr-only"},f.translate("assessments.canvas.question.matching.headers.distractor",{distractorNumber:h})),s.default.createElement(u.default,a.__assign({},this.props,{ariaLabelledBy:b,bbml:t.answerText.rawText,id:"distractor-"+t.ui.id,isReadOnly:g,onChange:this.onAnswerChange,placeholder:f.translate("assessments.canvas.question.matching.placeholders.distractor",{distractorNumber:h}),toolbarSet:"minimal",ariaRequired:!0})))),!g&&r&&s.default.createElement("div",{className:"matching-distractor__delete"},s.default.createElement(o.IconButton,{iconProps:{iconName:"trash",iconSize:"small"},onClick:this.onDelete,className:"matching-distractor__delete-button",disabled:!n(),ariaLabel:y,"aria-describedby":"bb-editor"+t.id,analyticsId:"assessments.canvas.question.matching.deleteDistractor"})))},t.propTypes={answer:i.default.object.isRequired,canDeleteDistractor:i.default.func.isRequired,editMode:i.default.number.isRequired,hasRemoveAnswerPermissions:i.default.bool.isRequired,index:i.default.number.isRequired,localize:i.default.object.isRequired,onAnswerChange:i.default.func.isRequired,onDistractorDeletion:i.default.func.isRequired,question:i.default.object.isRequired,questionTitle:i.default.string.isRequired},t}(s.Component);t.UnwrappedMatchingDistractor=c,t.default=r.localizedComponentWrapper(c)},"RW+D":function(e,t,n){},RtIR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("kBJj"),s=n("JfV0"),i=n("aPd7");t.default=function(e,t,n,o){void 0===o&&(o="assessments.canvas");var r=o+"."+e+".button"+{FILE:"File",TEXT:"Text",default:"Question"}[t.subType||"default"]+(s.Questions.isQuestionBlock(t)?"Block":""),l=n;if(!n&&t.questionText){var u=t.questionText.rawText,d=i.getPlainTextFromBbML(u).substring(0,180);if(t.subType===s.QuestionSubType.File.toString()){var c=i.parseFilesFromBbML(u)[0];if(c){var f=c.bbfile;l=a.getFileNameWithTypeExtension(f.linkName,f.mimeType)}else l=d}else l=d}return{string:r,relation:l}}},S0GT:function(e,t,n){},S9Gz:function(e,t,n){},SIAs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("Pfoe"));n("fTte");var r=function(e){var t=e.localize,n=e.question,a=e.questionTextClassName;return s.default.createElement("div",{className:"readonly-essay-question"},s.default.createElement("div",{className:a},s.default.createElement(o.default,{id:n.id,bbml:n.questionText.rawText,isReadOnly:!0,refreshBbml:!0})),s.default.createElement("div",{className:"readonly-answer__container"},s.default.createElement("div",{className:"readonly-essay-question__instructions readonly-answer__instructions readonly-answer__main"},t.translate("assessments.canvas.question.essay.instructions"))))};r.propTypes={localize:i.default.object.isRequired,question:i.default.object.isRequired,questionTextClassName:i.default.string.isRequired},t.default=r},Syma:function(e,t,n){},TAB1:function(e,t,n){},TIvv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("vN+o");t.default=a.default,t.getPluggableQuestionHeaderProps=a.getPluggableQuestionHeaderProps},TUnR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("kEUO");t.GuidanceTeachingBubble=a.default;var s=n("tMbR");t.GuidanceFeatureAnnouncement=s.GuidanceFeatureAnnouncement;var i=n("vQw2");t.ReactGuidanceComponent=i.ReactGuidanceComponent;var o=n("Hj9i");t.useShowGuidance=o.useShowGuidance},Tibe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("Ag5V")),r=a.__importDefault(n("VlbA")),l=n("Vng8"),u=a.__importDefault(n("PCGI")),d=a.__importDefault(n("gTAB")),c=a.__importStar(n("TIvv")),f=a.__importDefault(n("ZfLe")),p=a.__importStar(n("AiU9")),m=n("o7ef");n("hp7Q"),t.QuestionBlock=function(e){var t=function(t){e.onQuestionChange(t,l.hasQuestionBlockQuestionChanged)},n=a.__assign(a.__assign({},e),{onQuestionChange:t}),i=d.default.isActive(e.editMode),f=e.localize.translate(m.LOCALE_KEY_BASE+".editTitle"),g=a.__assign(a.__assign(a.__assign({},c.getPluggableQuestionHeaderProps(e,t)),i&&{questionTitle:f}),{hideFullCreditCheckbox:!0,points:e.question.pointsPerQuestion});return s.default.createElement(s.default.Fragment,null,s.default.createElement(u.default,{editMode:e.editMode,question:e.question},s.default.createElement(c.default,a.__assign({},g)),s.default.createElement(p.default,a.__assign({},p.getQuestionControlProps(e)))),i?s.default.createElement(o.default,a.__assign({},n)):s.default.createElement(r.default,a.__assign({},n)))},t.QuestionBlock.propTypes={editMode:i.default.number.isRequired,localize:i.default.object.isRequired,onQuestionChange:i.default.func.isRequired,openPoolQuestionPanel:i.default.func.isRequired,question:i.default.object.isRequired,addQuestionsToEmptyPool:i.default.func.isRequired};var g=f.default(t.QuestionBlock);t.default=g},TrYj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=a.__importDefault(n("cFZT"));n("h2mW");var l=a.__importDefault(n("VE9O")),u=function(e){var t=e.localize;return s.default.createElement("div",{className:"question-pools-empty-state"},s.default.createElement(r.default,{image:l.default,passedClass:"question-pools-empty-state__image",presentationOnly:!0}),s.default.createElement("h3",{className:"question-pools-empty-state__title"},t.translate("questionPools.emptyState.dueToDeletion.header")),s.default.createElement("div",{className:"question-pools-empty-state__message"},t.translate("questionPools.emptyState.dueToDeletion.message")))};u.propTypes={localize:i.default.object.isRequired},t.default=o.localizedComponentWrapper(u)},Ucbz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("MC1S"),l=a.__importDefault(n("fCe2")),u=n("1OFS");n("cTTT"),t.KEYWORD_BLOCK_ID="keyword";var d=function(e){function n(n){var i=e.call(this,n)||this;return i.mainHeading=null,i.focusPanelHeader=function(){i.mainHeading.focus()},i.keywordPickerOnRenderItem=function(e){return s.default.createElement(r.TagItem,a.__assign({},e),e.item.name)},i.keywordPickerOnChange=function(e){i.props.criteriaConfig.onSetKeywords(e.map((function(e){return e.key})))},i.toggleBlockContentVisibility=function(e){var t=i.state.blockStateMap,n=t[e];n.expanded=!n.expanded,i.setState((function(){return{blockStateMap:t}}))},i.keywordPickerRemoveButtonAriaLabel=function(e){return i.props.localize.translate("questionPicker.filterPanel.keywordSearch.removeButtonAriaLabel",{item:e.name})},i.getItemAddedStatusMessage=function(e){return i.props.localize.translate("questionPicker.filterPanel.keywordSearch.addedToList",{text:e})},i.renderFilterPanel=function(){var e=i.props,n=e.criteriaConfig,a=e.localize,o=e.onPanelClose,u=e.onClearCriteria,d=i.state.blockStateMap,c=n.selectedKeywords&&n.selectedKeywords.length,f=0===l.default(n).length&&!c,p=a.translate("questionPicker.filterPanel.keywordSearch.heading"),m=c?n.selectedKeywords.map((function(e){return{key:e,name:e}})):[],g=d[t.KEYWORD_BLOCK_ID]&&d[t.KEYWORD_BLOCK_ID].expanded,h=g?"open":"close",_="questionPicker.filterPanel."+(g?"collapse":"expand");return s.default.createElement("div",{className:"filter-panel__container"},s.default.createElement("div",{className:"filter-panel__header"},s.default.createElement("div",{className:"filter-panel__title-wrapper"},s.default.createElement("h2",{className:"filter-panel__title",tabIndex:-1,ref:function(e){i.mainHeading=e}},a.translate("questionPicker.filterPanel.header")),s.default.createElement(r.IconButton,{className:"filter-panel__close-button js-close-filter",onClick:o,ariaLabel:a.translate("questionPicker.filterPanel.closeLabel"),"data-is-visible":!0,iconProps:{iconName:"close",iconSize:"small"},analyticsId:"questionPicker.filterPanel.closeLabel"})),s.default.createElement(r.Link,{className:"filter-panel__clear-all",disabled:f,onClick:u,analyticsId:"questionPicker.filterPanel.clearAll.link"},a.translate("questionPicker.filterPanel.clearAll"))),n&&n.onSetKeywords&&s.default.createElement("div",{className:"filter-panel__block",id:t.KEYWORD_BLOCK_ID+"-block"},s.default.createElement("div",{className:"filter-panel__block-header"},s.default.createElement("h2",{className:"filter-panel__block-title"},p),s.default.createElement(r.IconButton,{className:"filter-panel__block-toggle js-block-toggle\n                                filter-panel__block-toggle--"+h,onClick:function(){return i.toggleBlockContentVisibility(t.KEYWORD_BLOCK_ID)},ariaLabel:a.translate(_),"data-is-visible":!0,iconProps:{iconName:"arrow-down",iconSize:"small"},analyticsId:"questionPicker.filterPanel.blockToggle"})),d[t.KEYWORD_BLOCK_ID]&&d[t.KEYWORD_BLOCK_ID].expanded&&s.default.createElement(r.KeywordPicker,{selectedItems:m,onChange:i.keywordPickerOnChange,removeButtonAriaLabel:i.keywordPickerRemoveButtonAriaLabel,inputLabel:a.translate("questionPicker.filterPanel.keywordSearch.placeholderText"),onRenderItem:i.keywordPickerOnRenderItem,getItemAddedStatusMessage:i.getItemAddedStatusMessage,analyticsId:"questionPicker.filterPanel.keywordPicker"})),n&&n.blocks&&n.blocks.map((function(e){var t=d[e.id]&&d[e.id].expanded,n=t?"open":"close",o="questionPicker.filterPanel."+(t?"collapse":"expand");return s.default.createElement("div",{key:e.id,className:"filter-panel__block",id:e.id+"-block"},s.default.createElement("div",{className:"filter-panel__block-header"},e.name&&s.default.createElement("h2",{className:"filter-panel__block-title"},e.name),s.default.createElement(r.IconButton,{className:"filter-panel__block-toggle js-block-toggle\n                                        filter-panel__block-toggle--"+n,onClick:function(){return i.toggleBlockContentVisibility(e.id)},ariaLabel:a.translate(o),"data-is-visible":!0,iconProps:{iconName:"arrow-down",iconSize:"small"},analyticsId:"quesitonPicker.filterPanel."+(t?"collapse":"expand")})),d[e.id]&&d[e.id].expanded&&s.default.createElement("div",{className:"filter-panel__groups"},e.groups.map((function(e){return s.default.createElement("fieldset",{key:e.id,className:"filter-panel__group"},s.default.createElement("legend",{className:"filter-panel__group-title"},e.name||""),e.items.map((function(t){return s.default.createElement("div",{key:t.id,className:"filter-panel__item"},s.default.createElement(r.Checkbox,{id:t.id,className:"filter-panel__item-checkbox",checked:t.selected,onChange:function(n,a){return e.onSelect(t.id,a)},label:t.name,analyticsId:"questionPicker.filterPanel"}))})))}))))})))},i.state={blockStateMap:null},i}return a.__extends(n,e),n.prototype.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this.focusPanelHeader()},n.getDerivedStateFromProps=function(e,t){var a=e.criteriaConfig,s=t.blockStateMap;return n.shouldUpdateBlockStateMap(a,s)?n.initBlockStateMap(a):null},n.prototype.render=function(){return this.props.isOpen?this.renderFilterPanel():null},n.propTypes={criteriaConfig:u.CriteriaConfigPropTypes,onClearCriteria:i.default.func.isRequired,onPanelClose:i.default.func.isRequired,localize:i.default.object.isRequired,isOpen:i.default.bool.isRequired},n.shouldUpdateBlockStateMap=function(e,n){if(null===n)return!0;var a=e.blocks.map((function(e){return e.id})),s=Object.keys(n).filter((function(e){return e!==t.KEYWORD_BLOCK_ID}));return a.length!==s.length},n.initBlockStateMap=function(e){var n=Object.create({});return e.blocks.forEach((function(e){var t=e.expanded,a=e.id;n[a]={expanded:t}})),n[t.KEYWORD_BLOCK_ID]={expanded:e.isKeywordExpanded},{blockStateMap:n}},n}(s.Component);t.FilterPanelPure=d,t.default=o.localizedComponentWrapper(d)},Udwz:function(e,t,n){},UunF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("E1pj"),r=a.__importDefault(n("Pfoe")),l=a.__importStar(n("jPx/")),u=n("2yjE"),d=n("1Xy2"),c=n("3ZJq");n("OIpQ"),t.ReadonlyMatchingQuestionBase=function(e){var t=e.answersInfo,n=e.answersInfoLabel,a=e.hideDistractors,i=e.localize,o=e.question,f=e.UltraWindowSize,p=e.questionTextClassName,m=d.getSelectedScoringOption(o),g=i.translate("assessments.canvas.question.matching.scoringOptions."+m.key),h=i.translate("assessments.canvas.question.matching.scoringOptions.readPlaceholder",{scoringOption:g}),_=o.answers.filter((function(e){return e.isDistractor}));return s.default.createElement("div",{className:"readonly-matching__container"},s.default.createElement("div",{className:p},s.default.createElement(r.default,{id:o.id,bbml:o.questionText.rawText,isReadOnly:!0,refreshBbml:!0})),s.default.createElement("div",{className:"readonly-matching__pairs"},s.default.createElement("div",{className:"readonly-answer__container"},s.default.createElement("div",{className:"readonly-multiple-answer-question__instructions readonly-answer__main readonly-answer__instructions"},!f.isSmallBreakpoint()&&s.default.createElement("div",{className:"readonly-matching__column-titles-container"},s.default.createElement("div",{className:"readonly-matching__column-title"},i.translate("assessments.canvas.question.matching.headers.prompts")),s.default.createElement("div",{className:"readonly-matching__column-title"},i.translate("assessments.canvas.question.matching.headers.answers")))),t&&s.default.createElement("span",{className:"readonly-answer__info-label readonly-answer__info"},n)),s.default.createElement("ol",{className:"readonly-matching__list"},o.prompts.map((function(e,n){return function(e,n){var a=n+1,d="answer-header-"+o.id+"-"+a,c="prompt-header-"+o.id+"-"+n,p=""+u.QUESTION_TITLE_ID_PREFIX+o.id+" "+c,m=f.isSmallBreakpoint()?i.translate("assessments.canvas.question.matching.indexMobile",{pairNumber:a}):i.translate("assessments.canvas.question.matching.index",{pairNumber:a});return s.default.createElement("li",{key:e.id,className:"readonly-matching__list-item readonly-answer__container"},s.default.createElement("div",{className:"readonly-matching-prompt-answer-pair__container readonly-answer__main"},s.default.createElement("div",{className:"readonly-matching-prompt-answer-pair__element readonly-matching-prompt-answer-pair__element-index"},m),s.default.createElement("div",{className:"readonly-matching-prompt-answer-pair__element readonly-matching-prompt-answer-pair__element-prompt"},s.default.createElement("div",{className:"readonly-matching-prompt-answer-pair__text"},s.default.createElement("div",{id:c,className:"sr-only"},i.translate("assessments.canvas.question.matching.headers.prompt",{pairNumber:a})),s.default.createElement(r.default,{ariaLabelledBy:p,bbml:e.promptText.rawText,id:"prompt-"+e.id,isReadOnly:!0,ariaRequired:!0}))),f.isSmallBreakpoint()&&s.default.createElement("div",{className:"\n                        readonly-matching-prompt-answer-pair__element\n                        readonly-matching-prompt-answer-pair__element-answer-label\n                    "},i.translate("assessments.canvas.question.matching.answerLabel")),s.default.createElement("div",{className:"readonly-matching-answer"},s.default.createElement("div",{className:"readonly-matching-answer__text"},s.default.createElement("div",{id:d,className:"sr-only"},i.translate("assessments.canvas.question.matching.headers.answer",{pairNumber:a})),s.default.createElement(r.default,{ariaLabelledBy:p,bbml:o.answers[e.matchingAnswerIndex].answerText.rawText,id:l.getAnswerEditorId(e.id),isReadOnly:!0,ariaRequired:!0})))),t&&s.default.createElement("div",{className:"readonly-matching-question__answers-info readonly-answer__info"},t[n]))}(e,n)}))),!a&&_.length>0&&s.default.createElement("div",{className:"readonly-matching__distractors"},s.default.createElement("div",{className:"readonly-matching__distractors-list"},s.default.createElement("div",{className:"readonly-matching__distractors-list-label"},s.default.createElement("span",null,i.translate("assessments.canvas.question.matching.additionalAnswers"))),s.default.createElement("ol",{className:"readonly-matching__list matching__distractors-list-items"},_.map((function(e,t){return function(e,t){var n=t+1,a="distractor-header-"+o.id+"-"+t,l=""+u.QUESTION_TITLE_ID_PREFIX+o.id+" "+a;return s.default.createElement("li",{className:"readonly-matching__distractors-list-items-item",key:e.ui.id},s.default.createElement("div",{className:"readonly-matching-distractor"},s.default.createElement("div",{className:"readonly-matching-distractor__answer"},s.default.createElement("div",{className:"readonly-matching-distractor__text"},s.default.createElement("div",{id:a,className:"sr-only"},i.translate("assessments.canvas.question.matching.headers.distractor",{distractorNumber:n})),s.default.createElement(r.default,{ariaLabelledBy:l,bbml:e.answerText.rawText,id:"distractor-"+e.ui.id,isReadOnly:!0,ariaRequired:!0})))))}(e,t)}))))),s.default.createElement("div",{className:"readonly-matching-question-scoring-options__text"},h)),s.default.createElement(c.AutomatedQuestionFeedbackRead,{question:o}))},t.ReadonlyMatchingQuestionBase.propTypes={answersInfo:i.default.array,answersInfoLabel:i.default.string,hideDistractors:i.default.bool,question:i.default.object.isRequired,questionTextClassName:i.default.string.isRequired,localize:i.default.object.isRequired,UltraWindowSize:i.default.object.isRequired},t.default=o.windowResizingResponsiveComponentWrapper(t.ReadonlyMatchingQuestionBase)},UyCi:function(e,t,n){},VE9O:function(e,t){e.exports='<svg viewBox="0 0 200 200" enable-background="new 0 0 220 200" xml:space="preserve" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><rect id="path-1" x="38" y="45" width="123" height="98"></rect><filter x="-0.4%" y="-0.5%" width="100.8%" height="101.0%" filterUnits="objectBoundingBox" id="filter-2"><feOffset dx="-1" dy="1" in="SourceAlpha" result="shadowOffsetInner1"></feOffset><feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite><feColorMatrix values="0 0 0 0 1 0 0 0 0 0.619607843 0 0 0 0 0.37254902 0 0 0 1 0" type="matrix" in="shadowInnerInner1"></feColorMatrix></filter><rect id="path-3" x="49" y="51" width="101" height="54"></rect><rect id="path-4" x="4.36879433" y="0.4" width="51.6312057" height="5.6"></rect><filter x="-1.0%" y="-8.9%" width="101.9%" height="117.9%" filterUnits="objectBoundingBox" id="filter-5"><feOffset dx="-1" dy="1" in="SourceAlpha" result="shadowOffsetInner1"></feOffset><feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0" type="matrix" in="shadowInnerInner1"></feColorMatrix></filter><path d="M1.3624191,8.8830687 C19.7046892,31.039105 47.4182328,45.1543624 78.4285714,45.1543624 C109.43891,45.1543624 137.152454,31.039105 155.494724,8.8830687 L1.3624191,8.8830687 Z" id="path-6"></path><filter x="-0.3%" y="-1.4%" width="100.6%" height="102.8%" filterUnits="objectBoundingBox" id="filter-7"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetInner1"></feOffset><feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite><feColorMatrix values="0 0 0 0 0.850980392 0 0 0 0 0.639215686 0 0 0 0 0.247058824 0 0 0 1 0" type="matrix" in="shadowInnerInner1"></feColorMatrix></filter><path d="M2.7181596,9.45633792 C20.6841572,26.6893216 45.0713141,37.2796421 71.9319728,37.2796421 C98.7926315,37.2796421 123.179788,26.6893216 141.145786,9.45633792 L2.7181596,9.45633792 Z" id="path-8"></path><filter x="-0.4%" y="-1.8%" width="100.7%" height="103.6%" filterUnits="objectBoundingBox" id="filter-9"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetInner1"></feOffset><feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite><feColorMatrix values="0 0 0 0 0.850127551 0 0 0 0 0.639317415 0 0 0 0 0.246075431 0 0 0 1 0" type="matrix" in="shadowInnerInner1"></feColorMatrix></filter><path d="M33.4617406,174.651613 L166.538259,174.651613 C148.861813,190.418044 125.549899,200 100,200 C74.4501008,200 51.1381873,190.418044 33.4617406,174.651613 Z" id="path-10"></path><filter x="-0.4%" y="-2.0%" width="100.8%" height="103.9%" filterUnits="objectBoundingBox" id="filter-11"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetInner1"></feOffset><feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite><feColorMatrix values="0 0 0 0 1 0 0 0 0 0.619607843 0 0 0 0 0.37254902 0 0 0 1 0" type="matrix" in="shadowInnerInner1"></feColorMatrix></filter><rect id="path-12" x="1.58222222" y="8" width="87.4177778" height="8"></rect><filter x="-0.3%" y="-3.1%" width="100.6%" height="106.2%" filterUnits="objectBoundingBox" id="filter-13"><feOffset dx="-0.5" dy="0.5" in="SourceAlpha" result="shadowOffsetInner1"></feOffset><feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0" type="matrix" in="shadowInnerInner1"></feColorMatrix></filter></defs><g id="200x200-version" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Banks_zeroState_illustration"><circle id="Oval" fill="#B3D0DD" fill-rule="evenodd" cx="100" cy="100" r="100"></circle><path d="M6.38116309,135.22687 L193.618837,135.22687 C179.370645,173.074325 142.829737,200 100,200 C57.1702633,200 20.6293549,173.074325 6.38116947,135.226871 Z" id="Combined-Shape" fill="#E3F4FC" fill-rule="evenodd"></path><path d="M87.6394813,36.5113231 L119.013431,5.23090674 L144.05857,33.0338491 L114.130903,63.0027453 L87.6394813,36.5113231 Z" id="Combined-Shape" fill="#758D97" fill-rule="evenodd" opacity="0.435858243"></path><path d="M83.2289256,198.599786 C35.9850833,190.622173 0,149.51347 0,100 C0,93.9801676 0.531917883,88.0845712 1.55131686,82.3576477 L38.5807712,45.3281933 L42.3262652,46.3136685 L63.8023454,24.8375884 L121.615072,141.047971 L83.2289256,198.599786 Z" id="Combined-Shape" fill="#758D97" fill-rule="evenodd" opacity="0.435858243"></path><g id="Rectangle-10"><use fill="#FF7E28" fill-rule="evenodd" xlink:href="#path-1"></use><use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use></g><path d="M37.1751185,177.805593 C28.6169015,170.886524 21.2232713,162.58412 15.3342549,153.238407 L49.4261366,107.649685 L150.723208,107.649685 L184.730334,153.135769 C178.830824,162.523339 171.414416,170.861205 162.824881,177.805593 L37.1751185,177.805593 Z" id="Combined-Shape" fill="#7F7C76" fill-rule="evenodd"></path><path d="M37.3983851,177.805593 C35.3109986,176.123665 33.2926439,174.359517 31.3482404,172.51807 C30.7255385,165.551358 30.2772573,159.31888 30.0033969,153.820638 C29.6620075,146.966628 28.6097964,141.640924 26.8467634,137.843524 L49.4261366,107.649685 L150.723208,107.649685 L184.704685,153.101462 C178.784816,162.507874 171.340408,170.858153 162.718166,177.805593 L37.3983851,177.805593 Z" id="Combined-Shape" fill="#434240" fill-rule="evenodd"></path><rect id="Rectangle-2" fill="#302F2F" fill-rule="evenodd" x="50" y="108" width="101" height="49"></rect><polygon id="Rectangle-2-Copy" fill="#000000" fill-rule="evenodd" points="49.7917276 107.62955 150.323803 107.62955 148.541037 109.410225 101.379737 156.516231 49.7917276 156.516231"></polygon><path d="M184.759762,153.088913 C184.524409,153.463878 184.286636,153.83717 184.046466,154.208768 L150.324823,107.62955 L150.71433,107.62955 L184.759762,153.088913 Z" id="Combined-Shape" fill="#8C8C8C" fill-rule="evenodd"></path><path d="M15.9992386,154.279419 C15.7585584,153.907717 15.5202781,153.534316 15.2844199,153.159238 L49.3825216,107.62955 L49.7720285,107.62955 L15.9992386,154.279419 Z" id="Combined-Shape" fill="#8C8C8C" fill-rule="evenodd"></path><g id="Rectangle-2"><use fill="#FF7E28" fill-rule="evenodd" xlink:href="#path-3"></use><rect stroke="#C16325" stroke-width="1" x="49.5" y="51.5" width="100" height="53"></rect></g><g id="upper-handle" stroke-width="1" fill-rule="evenodd" transform="translate(70.000000, 56.000000)"><polygon id="Rectangle-11" fill="#B95C1E" points="4.44634238 0.389483548 8.16723703 6 7.3370641 7.27588099 48.4081565 7.27588099 49.4510337 6 56 6 51.0396861 12 0.0547627027 12 0.0547627027 7.27588099"></polygon><g id="Rectangle-3"><use fill="#E5E5E5" fill-rule="evenodd" xlink:href="#path-4"></use><use fill="black" fill-opacity="1" filter="url(#filter-5)" xlink:href="#path-4"></use></g></g><g id="Folders" stroke-width="1" fill-rule="evenodd" transform="translate(5.000000, 32.000000)"><g id="back" transform="translate(25.646259, 77.172260)"><g id="Folder-Copy" transform="translate(14.993197, 0.000000)"><path d="M6.141666,4.19374233 L73.9348081,4.19374233 L76.9538761,0 L93.367799,0 L96.049429,4.19374233 L104.3683,4.19374233 L104.3683,4.19374233 C106.577439,4.19374233 108.3683,5.98460333 108.3683,8.19374233 L108.3683,28.9858588 L108.3683,28.9858588 C108.3683,36.7178453 102.100286,42.9858588 94.3682998,42.9858588 L16.141666,42.9858588 L16.141666,42.9858588 C8.40967951,42.9858588 2.141666,36.7178453 2.141666,28.9858588 L2.141666,8.19374233 L2.141666,8.19374233 C2.141666,5.98460333 3.93252701,4.19374233 6.141666,4.19374233 Z" id="Rectangle-5" fill="#FECA69"></path><rect id="Rectangle-5-Copy" fill="#FCD59D" x="0" y="6.01802024" width="110.081633" height="40.8365659" rx="4"></rect></g><g id="Folder-Copy" transform="translate(11.047619, 3.149888)"><path d="M6.13899479,5.25202123 L65.4482227,5.25202123 L68.6580607,0.787472036 L86.1091531,0.787472036 L88.960231,5.25202123 L111.07792,5.25202123 L111.07792,5.25202123 C113.287059,5.25202123 115.07792,7.04288223 115.07792,9.25202123 L115.07792,32.5491013 L115.07792,32.5491013 C115.07792,40.2810878 108.809906,46.5491013 101.07792,46.5491013 L16.1389948,46.5491013 L16.1389948,46.5491013 C8.40700829,46.5491013 2.13899479,40.2810878 2.13899479,32.5491013 L2.13899479,9.25202123 L2.13899479,9.25202123 C2.13899479,7.04288223 3.92985579,5.25202123 6.13899479,5.25202123 Z" id="Rectangle-5" fill="#F5C05E"></path><rect id="Rectangle-5-Copy" fill="#FCD59D" x="0" y="7.20265371" width="116.789116" height="43.1955566" rx="4"></rect></g><g id="Folder-Copy" transform="translate(0.000000, 7.480984)"><path d="M13.2431566,5.5550545 L91.1473497,5.5550545 L94.5916107,0.787472036 L113.317203,0.787472036 L116.376503,5.5550545 L126.430313,5.5550545 L126.430313,5.5550545 C128.639452,5.5550545 130.430313,7.3459155 130.430313,9.5550545 L130.430313,35.6551923 L130.430313,35.6551923 C130.430313,43.3871788 124.162299,49.6551923 116.430313,49.6551923 L23.2431566,49.6551923 L23.2431566,49.6551923 C15.5111702,49.6551923 9.24315665,43.3871788 9.24315665,35.6551923 L9.24315665,9.5550545 L9.24315665,9.5550545 C9.24315665,7.3459155 11.0340176,5.5550545 13.2431566,5.5550545 Z" id="Rectangle-5" fill="#FECA69"></path><path d="M10.4779277,7.64609944 L129.195542,7.64609944 L129.195542,7.64609944 C131.145334,7.64609944 132.811052,9.051918 133.138671,10.973989 L139.666219,49.269724 L139.666219,49.269724 C140.037415,51.4474541 138.57293,53.5137672 136.3952,53.8849636 C136.173164,53.9228099 135.948328,53.9418345 135.72309,53.9418345 L3.95037962,53.9418345 L3.95037962,53.9418345 C1.74124062,53.9418345 -0.0496203762,52.1509735 -0.0496203762,49.9418345 C-0.0496203762,49.716596 -0.0305958044,49.49176 0.00725047406,49.269724 L6.53479857,10.973989 L6.53479857,10.973989 C6.86241757,9.051918 8.52813517,7.64609944 10.4779277,7.64609944 Z" id="Rectangle-5-Copy" fill="#FCD59D"></path><path d="M10.4779277,7.64609944 L21.6946064,7.64609944 L114.766727,15.0787427 L127.63098,28.6501595 L101.663719,53.9418345 L26.1395302,53.9418345 L3.44005511,29.1301899 L6.53479857,10.973989 L6.53479857,10.973989 C6.86241757,9.051918 8.52813517,7.64609944 10.4779277,7.64609944 Z" id="Rectangle-5-Copy" fill="#B99F79"></path></g></g><g id="Test" transform="translate(86.462186, 87.850523) rotate(-9.000000) translate(-86.462186, -87.850523) translate(11.298920, 10.875132)"><path d="M30.3749999,29.265316 L134.376712,42.7601392 L134.376712,42.7601392 C134.924406,42.8312056 135.310788,43.3328095 135.239722,43.8805028 C135.235518,43.9129032 135.229728,43.945078 135.222374,43.9769115 L116.836359,123.565288 L116.836359,123.565288 C116.71787,124.078196 116.22203,124.41142 115.702365,124.327375 L15.7571488,108.163277 L15.7571488,108.163277 C15.2119482,108.075102 14.8414559,107.56165 14.9296309,107.016449 C14.9308997,107.008604 14.932262,107.000774 14.9337174,106.992962 L29.2632364,30.0738601 L29.2632364,30.0738601 C29.3604612,29.5519696 29.8485439,29.1970053 30.3749999,29.265316 Z" id="paper" fill="#FFFFFF" transform="translate(75.108415, 76.810134) rotate(51.000000) translate(-75.108415, -76.810134) "></path><g id="Group" transform="translate(29.683845, 27.770642)"><path d="M0.176045371,27.9329124 L50.5250214,0.175678694" id="Line-3" stroke="#979797" stroke-width="4" stroke-linecap="round"></path><path d="M2.9927713,33.5546306 L45.9478417,10.0136856" id="Line-3-Copy" stroke="#979797" stroke-width="4" stroke-linecap="round"></path><path d="M15.1225911,38.2155336 L33.8132743,27.9786468" id="Line-3-Copy-2" stroke="#D8D8D8" stroke-width="4" stroke-linecap="round"></path><path d="M19.072245,45.6942831 L47.9042026,29.8071381" id="Line-3-Copy-3" stroke="#D8D8D8" stroke-width="4" stroke-linecap="round"></path><path d="M23.0407997,53.5179277 L45.9266979,40.8690617" id="Line-3-Copy-4" stroke="#D8D8D8" stroke-width="4" stroke-linecap="round"></path><ellipse id="Oval-7" fill="#D8D8D8" cx="9.39562494" cy="41.7494817" rx="2.96838452" ry="2.96220182"></ellipse><ellipse id="Oval-7-Copy" fill="#D8D8D8" cx="13.4158984" cy="49.2331732" rx="2.96838452" ry="2.96220182"></ellipse><ellipse id="Oval-7-Copy-2" fill="#44E17D" cx="17.86183" cy="56.6193476" rx="2.96838452" ry="2.96220182"></ellipse></g><g id="Group-Copy" transform="translate(53.430921, 68.130642)"><path d="M0.176045371,27.9329124 L50.5250214,0.175678694" id="Line-3" stroke="#979797" stroke-width="4" stroke-linecap="round"></path><path d="M2.9927713,33.5546306 L20.3432082,23.7227132" id="Line-3-Copy" stroke="#979797" stroke-width="4" stroke-linecap="round"></path><path d="M15.1225911,38.2155336 L34.5180908,27.3613388" id="Line-3-Copy-2" stroke="#D8D8D8" stroke-width="4" stroke-linecap="round"></path><path d="M19.072245,45.6942831 L41.9581432,33.0454171" id="Line-3-Copy-3" stroke="#D8D8D8" stroke-width="4" stroke-linecap="round"></path><path d="M23.0407997,53.5179277 L43.7208325,42.3697695" id="Line-3-Copy-4" stroke="#D8D8D8" stroke-width="4" stroke-linecap="round"></path><ellipse id="Oval-7" fill="#44E17D" cx="9.39562494" cy="41.7494817" rx="2.96838452" ry="2.96220182"></ellipse><ellipse id="Oval-7-Copy" fill="#D8D8D8" cx="13.4158984" cy="49.2331732" rx="2.96838452" ry="2.96220182"></ellipse><ellipse id="Oval-7-Copy-2" fill="#44E17D" cx="17.86183" cy="56.6193476" rx="2.96838452" ry="2.96220182"></ellipse></g></g><g id="Front" transform="translate(16.571429, 122.845638)"><g id="Folder-Copy"><path d="M0.261615564,7.5296394 C18.5856032,30.4626702 46.791373,45.1543624 78.4285714,45.1543624 C110.167108,45.1543624 138.452199,30.3684002 156.771306,7.30901233 C155.898331,7.13859589 154.996331,7.04930351 154.073476,7.04930351 L154.073476,7.04930351 L123.738863,7.04930351 L119.241248,0 L91.7119047,0 L86.6483403,7.04930351 L3.91073846,7.04930351 L3.91073846,7.04930351 C2.64836982,7.04930351 1.42502442,7.21638184 0.261609274,7.5296315 Z" id="Combined-Shape" fill="#F5C05E"></path><g id="Combined-Shape"><use fill="#FCD59D" fill-rule="evenodd" xlink:href="#path-6"></use><use fill="black" fill-opacity="1" filter="url(#filter-7)" xlink:href="#path-6"></use></g></g><g id="Folder" transform="translate(6.496599, 7.874720)"><path d="M3.26727841,9.97909478 C21.1795376,26.9032425 45.3439862,37.2796421 71.9319728,37.2796421 C99.0958095,37.2796421 123.729992,26.4489051 141.751676,8.8702754 L137.6229,2.36241611 L108.045341,2.36241611 L102.605041,9.97909478 L3.26727841,9.97909478 Z" id="Combined-Shape" fill-opacity="0.208956069" fill="#000000"></path><path d="M0.849604979,7.61667867 C18.9746354,25.9325672 44.1281784,37.2796421 71.9319728,37.2796421 C100.670794,37.2796421 126.578113,25.1565422 144.818933,5.74534076 L141.173921,0 L111.596361,0 L106.156061,7.61667867 L0.849604979,7.61667867 Z" id="Combined-Shape" fill="#FECA69"></path><g id="Combined-Shape"><use fill="#FCD59D" fill-rule="evenodd" xlink:href="#path-8"></use><use fill="black" fill-opacity="1" filter="url(#filter-9)" xlink:href="#path-8"></use></g></g></g></g><g id="Combined-Shape"><use fill="#FF7E28" fill-rule="evenodd" xlink:href="#path-10"></use><use fill="black" fill-opacity="1" filter="url(#filter-11)" xlink:href="#path-10"></use></g><g id="handle" stroke-width="1" fill-rule="evenodd" transform="translate(55.000000, 184.000000)"><polygon id="Rectangle-4-Copy-4" fill="#B95C1E" points="77.9014241 0 77.9014241 4.00181792 73.9688889 4.00181792"></polygon><path d="M3.14475113,6.8194886 C2.15747396,6.36166751 1.17881745,5.88811086 0.209095539,5.3991361 L5.51475745,0 L5.51475745,6.8194886 L3.14475113,6.8194886 Z" id="Combined-Shape" fill="#B95C1E"></path><path d="M10.6816022,4 L12.6311403,0 L5.51114032,0 L3.5616022,4 L1.58222222,8 L89,8 L87.0222222,4 L86.9939826,4 L85.0444444,0 L77.9244444,0 L79.8739826,4 L10.6816022,4 Z" id="Combined-Shape" fill="#F8F8F8"></path><polygon id="Rectangle-4-Copy-2" fill="#E5E5E5" points="12.6311403 0 12.6577778 4.00328734 10.68 4.00328734"></polygon><polygon id="Rectangle-4-Copy-3" fill="#666666" transform="translate(78.913333, 2.003913) scale(-1, 1) translate(-78.913333, -2.003913) " points="79.9022222 0.00453802282 79.9022222 4.00328734 77.9244444 4.00328734"></polygon><g id="Rectangle-3-Copy-2"><use fill="#E5E5E5" fill-rule="evenodd" xlink:href="#path-12"></use><use fill="black" fill-opacity="1" filter="url(#filter-13)" xlink:href="#path-12"></use></g></g><g id="books" stroke-width="1" fill-rule="evenodd" transform="translate(58.000000, 25.000000)"><g id="green-book" transform="translate(0.000000, 7.058824)" fill-rule="nonzero"><path d="M0.626017821,5.18805021e-07 L53.8375326,5.18805021e-07 L53.8375326,12.9411765 L0.626017821,12.9411765 C0.280277725,12.9411765 0,12.6498396 0,12.2904574 L0,0.618183657 C0.0166935654,0.271567171 0.292141551,-0.000433552274 0.626017821,5.18805021e-07 Z" id="Shape" fill="#44E17D"></path><path d="M0.617701159,5.18805021e-07 L10.655345,5.18805021e-07 L10.655345,12.9411765 L0.617701159,12.9411765 C0.276554229,12.9411765 0,12.6498396 0,12.2904574 L0,0.618183657 C0.016471791,0.271567171 0.288260443,-0.000433552274 0.617701159,5.18805021e-07 L0.617701159,5.18805021e-07 Z" id="Shape" fill="#2BAF56"></path><rect id="Rectangle-path" fill="#F7EDDD" x="12.3377679" y="1.68797954" width="42.0605724" height="9.00255754"></rect><rect id="Rectangle-path" fill="#2BAF56" x="12.3377679" y="1.68797954" width="42.0605724" height="1.68797954"></rect><rect id="Rectangle-path" fill="#FFFFFF" x="12.3377679" y="5.62659847" width="42.0605724" height="1.68797954"></rect><rect id="Rectangle-path" fill="#FFFFFF" x="12.3377679" y="9.00255754" width="42.0605724" height="1.68797954"></rect></g><g id="yellowBook" transform="translate(5.124481, 0.000000)" fill-rule="nonzero"><path d="M0.637581271,0 L40.2074689,0 L40.2074689,7.05882353 L0.637581271,7.05882353 C0.285454858,7.05882353 0,6.78068554 0,6.43758493 L0,0.613473112 C0.00436296596,0.273408952 0.28854391,-2.65706133e-05 0.637581271,0 Z" id="Shape" fill="#FDE000"></path><path d="M0.623753345,0 L10.7597452,0 L10.7597452,7.05882353 L0.623753345,7.05882353 C0.279263885,7.05882353 0,6.78068554 0,6.43758493 L0,0.613473112 C0.00426834152,0.273408952 0.282285941,-2.65706133e-05 0.623753345,0 Z" id="Shape" fill="#D1AB2A"></path><rect id="Rectangle-path" fill="#F7EDDD" x="13.0249547" y="1.62895928" width="27.1825142" height="3.80090498"></rect><rect id="Rectangle-path" fill="#D1AB2A" x="13.0249547" y="1.62895928" width="27.1825142" height="1.62895928"></rect><rect id="Rectangle-path" fill="#FFFFFF" x="13.0249547" y="3.80090498" width="27.1825142" height="1.62895928"></rect></g></g><g id="Globe" stroke-width="1" fill-rule="evenodd" transform="translate(113.000000, 0.000000)"><g id="Base" transform="translate(13.658537, 39.911290)"><rect id="Rectangle-7-Copy-2" fill="#D8A448" transform="translate(5.853659, 2.740074) rotate(90.000000) translate(-5.853659, -2.740074) " x="3.51219512" y="1.95719603" width="4.68292683" height="1.56575682"></rect><path d="M5.13442926,-0.0614461616 L6.30516097,-0.0614461616 C6.48364553,0.199513309 6.57288781,0.46047278 6.57288781,0.72143225 C6.57288781,0.982391721 6.48364553,1.24335119 6.30516097,1.50431066 L5.13442926,1.50431066 L5.13442926,-0.0614461616 Z" id="Rectangle-7-Copy-2" fill="#BF903D" transform="translate(5.853659, 0.721432) rotate(90.000000) translate(-5.853659, -0.721432) "></path><path d="M11.7073171,5.08870968 C9.96013561,3.00103391 8.0089161,1.95719603 5.85365854,1.95719603 C3.69840098,1.95719603 1.74718146,3.00103391 0,5.08870968 L11.7073171,5.08870968 Z" id="Oval-3" fill="#D8A448"></path><path d="M11.7073171,5.08870968 C10.7805559,3.95036984 9.76011348,3.11897262 8.64598975,2.59451801 C8.02474978,2.77793081 6.9512694,3.60932803 5.4255486,5.08870968 L11.7073171,5.08870968 Z" id="Oval-3" fill="#FCD590"></path></g><g><path d="M15.3683249,5.02459565 C27.1831523,5.02459565 36.8432686,15.0767798 36.8432686,26.4995393 C36.8432686,37.9222989 28.0529154,47.5550604 16.2380881,47.5550604" id="Shape" stroke="#FCD590" stroke-width="2" transform="translate(26.105797, 26.289828) rotate(45.000000) translate(-26.105797, -26.289828) "></path><path d="M22.8424361,31.8791457 C19.3246145,37.9638962 12.8714252,42.1159933 5.1145692,42.1159933" id="Shape" stroke="#D8A448" stroke-width="2" stroke-linecap="round" transform="translate(13.978503, 36.997570) rotate(45.000000) translate(-13.978503, -36.997570) "></path><rect id="Rectangle-7" fill="#FEC34C" transform="translate(33.036821, 3.420854) rotate(-45.000000) translate(-33.036821, -3.420854) " x="30.6953578" y="2.63053111" width="4.68292683" height="1.58064516"></rect><ellipse id="Oval-2" fill="#1987D1" cx="18.5365854" cy="18.7701613" rx="18.5365854" ry="18.7701613"></ellipse><path d="M21.940874,0.315853866 C30.552379,1.93448527 37.0731707,9.58122143 37.0731707,18.7701613 C37.0731707,24.0954191 34.8831371,28.9027217 31.3653276,32.3189462 C27.0577344,32.1759401 22.2742677,30.3799897 22.0050856,26.3225796 C21.4083893,17.3285149 30.0945807,20.7164023 30.0945807,13.7428542 C30.0945807,7.40346882 21.2924932,6.16135566 21.940874,0.315853866 Z" id="Combined-Shape" fill="#4DC238"></path><path d="M26.6800113,1.90360471 C32.8350308,4.95643965 37.0731707,11.3621286 37.0731707,18.7701613 C37.0731707,22.0580902 36.2383094,25.1485698 34.7715336,27.8360958 C30.320313,29.7262261 24.8191964,30.7072708 25.5172807,26.3225796 C26.2631933,21.6374771 32.8795186,22.8220661 32.8795186,15.848518 C32.8795186,10.2426835 27.3095472,6.91525857 26.6800113,1.90360471 Z" id="Combined-Shape" fill="#80F56B"></path><path d="M10.7009387,35.7858177 C4.37986867,32.79606 0,26.3010423 0,18.7701613 C0,12.6295624 2.91199729,7.17766722 7.41394341,3.75318298 C8.65639587,8.42183806 11.1760551,8.15049147 12.2231651,11.4044184 C14.1952377,17.5326958 6.51207906,15.9751035 6.17764843,19.5029994 C5.65616587,25.0040987 16.5766242,23.7121363 13.3586473,29.7898801 C11.5836257,33.1423364 11.0058718,34.5416992 10.7009387,35.7858177 Z" id="Combined-Shape" fill="#4DC238"></path><path d="M6.66716147,33.1882189 C2.59259074,29.7450988 0,24.5642111 0,18.7701613 C0,13.8852639 1.84280933,9.43620122 4.8628767,6.09691103 C5.8767908,9.18759001 7.01470396,10.3066871 6.55287047,13.3749904 C6.10280034,16.3651409 2.54323845,17.9783532 2.35205238,20.1502551 C1.94051061,24.8254302 4.88977056,28.7334917 6.55287047,30.6402329 C7.26426623,31.4558469 7.12571,32.2439863 6.66716147,33.1882189 Z" id="Combined-Shape-Copy" fill="#80F56B"></path><path d="M19.3536108,13.5546529 C20.6467653,13.5546529 20.2926829,11.3595851 20.2926829,9.28629032 C20.2926829,7.21299556 17.3068229,5.25190993 16.0136684,5.25190993 C14.7205139,5.25190993 16.0136684,7.32998666 16.0136684,9.40328142 C16.0136684,11.4765762 18.0604563,13.5546529 19.3536108,13.5546529 Z" id="Oval-6" fill="#4DC238"></path><path d="M18.7186398,11.7561157 C19.451549,11.7561157 19.250869,10.5120375 19.250869,9.33697546 C19.250869,8.16191347 17.9137169,6.8962069 17.1808077,6.8962069 C16.4478985,6.8962069 17.4573775,8.16191347 17.4573775,9.33697546 C17.4573775,10.5120375 17.9857307,11.7561157 18.7186398,11.7561157 Z" id="Oval-6" fill="#80F56B"></path><path d="M7.75148879,3.50238961 C10.7898509,1.29775236 14.5135509,0 18.5365854,0 C28.7740588,0 37.0731707,8.40368746 37.0731707,18.7701613 C37.0731707,22.8438892 35.7915676,26.6145109 33.6143649,29.6911588 C30.5760028,31.895796 26.8523028,33.1935484 22.8292683,33.1935484 C12.5917949,33.1935484 4.29268293,24.7898609 4.29268293,14.4233871 C4.29268293,10.3496591 5.57428606,6.57903748 7.75148879,3.50238961 Z" id="Combined-Shape" fill="#FFFFFF" opacity="0.248584692"></path><rect id="Rectangle-7-Copy" fill="#BF903D" transform="translate(3.768528, 33.848273) rotate(-45.000000) translate(-3.768528, -33.848273) " x="1.42706507" y="33.0579505" width="4.68292683" height="1.58064516"></rect></g></g></g></g></svg>'},VPjn:function(e,t,n){},VQXm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("nBlB"),l=a.__importDefault(n("gTAB")),u=a.__importDefault(n("Pfoe")),d=n("2yjE"),c=a.__importDefault(n("o8si")),f=n("QJmz");n("/zhm");var p=function(e){function t(t){var n=e.call(this,t)||this;return n.translationKeyPrefix="assessments.canvas.question.multipleAnswer",n.handleEditorFocus=function(){n.setState({editorFocused:!0})},n.handleEditorBlur=function(){n.setState({editorFocused:!1})},n.onTextChange=function(e){var t=n.props,s=t.answer;(0,t.onAnswerChange)(a.__assign(a.__assign({},s),{answerText:{rawText:e.toBbML()}}))},n.onCorrectAnswerChange=function(e,t){var s=n.props,i=s.answer;(0,s.onAnswerChange)(a.__assign(a.__assign({},i),{correctAnswer:t}))},n.onDelete=function(){var e=n.props;(0,e.onAnswerDeletion)(e.answer.id)},n.state={editorFocused:!1},n}return a.__extends(t,e),t.prototype.getChoiceTextClassName=function(){var e=this.props,t=e.answer,n=e.activeEditorId,a=e.canEnterEditMode,s="multiple-answer-li__text";return!(t.id===n)&&a&&(s+=" -is-clickable"),s},t.prototype.render=function(){var e=this.props,t=e.answer,n=e.canDeleteAnswer,i=e.dragButtonAriaLabel,r=e.dragPointRef,p=e.editMode,m=e.hasAddOrRemoveAnswerPermissions,g=e.hasReorderAnswersPermissions,h=e.hasSubmissions,_=e.index,b=e.localize,y=e.question,v=e.questionTitle,E=l.default.isInactive(p),C=_+1,w="answer-header-"+y.id+"-"+_,S=""+d.QUESTION_TITLE_ID_PREFIX+y.id+" "+w,P=b.translate(this.translationKeyPrefix+".answerPlaceholder",{answerNumber:C}),R=b.translate(this.translationKeyPrefix+".checkboxAriaLabel",{questionTitle:v,answerNumber:C}),A=b.translate(this.translationKeyPrefix+".trashButtonAriaLabel",{questionTitle:v,answerNumber:C}),T=b.translate("assessments.canvas.drag.instructions"),q=b.translate(this.translationKeyPrefix+".correctAnswer"),I="multiple-answer-li__delete";this.state.editorFocused&&(I+=" multiple-answer-li--editor-focused");var D="multiple-answer-li__dnd";this.state.editorFocused&&(D+=" multiple-answer-li--editor-focused");var Q=!!h&&!f.getToggle("questionRegrading");return s.default.createElement("div",{className:"multiple-answer-li"},s.default.createElement("div",{className:"multiple-answer-li__answer"},!E&&s.default.createElement(o.Checkbox,{checked:t.correctAnswer,onChange:this.onCorrectAnswerChange,disabled:Q,ariaLabel:R,ariaDescribedBy:"bb-editor"+t.id,analyticsId:"assessments.canvas.question.multipleAnswer.correctAnswerChange"}),s.default.createElement("div",{className:this.getChoiceTextClassName()},s.default.createElement("div",{id:w,className:"sr-only"},b.translate("assessments.canvas.question.multipleAnswer.answerHeader",{answerNumber:C})),s.default.createElement(u.default,a.__assign({},this.props,{ariaLabelledBy:S,bbml:t.answerText.rawText,id:t.id,isReadOnly:E,onChange:this.onTextChange,onFocus:this.handleEditorFocus,onBlur:this.handleEditorBlur,placeholder:P,toolbarSet:"minimal"}))),E&&t.correctAnswer&&s.default.createElement("span",{className:"multiple-answer-li__correct"},q),!E&&!h&&s.default.createElement("div",null,g&&s.default.createElement(c.default,{className:D,dragPointRef:r,title:T,ariaLabel:i,ariaDescribedBy:"bb-editor"+t.id,analyticsId:"assessments.canvas.question.reorderAnswers.dragAndDrop"}),m&&s.default.createElement(o.IconButton,{iconProps:{iconName:"trash",iconSize:"small"},onClick:this.onDelete,className:I,disabled:!n(t),ariaLabel:A,"aria-describedby":"bb-editor"+t.id,analyticsId:"assessments.canvas.question.deleteAnswer"}))))},t.propTypes={answer:i.default.object.isRequired,canEnterEditMode:i.default.bool.isRequired,dragButtonAriaLabel:i.default.string,index:i.default.number.isRequired,question:i.default.object.isRequired,questionTitle:i.default.string.isRequired,onAnswerChange:i.default.func.isRequired,onAnswerDeletion:i.default.func.isRequired,editMode:i.default.number.isRequired,hasAddOrRemoveAnswerPermissions:i.default.bool.isRequired,hasReorderAnswersPermissions:i.default.bool.isRequired,hasSubmissions:i.default.bool.isRequired,localize:i.default.object.isRequired,startEditMode:i.default.func.isRequired,canDeleteAnswer:i.default.func.isRequired,dragPointRef:i.default.func,activeEditorId:i.default.string,pluginsConfig:i.default.object.isRequired},t}(s.Component);t.MultipleAnswerChoice=p,t.DndMultipleAnswerChoice=r.DragNDropItem(p)},VlbA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("uxze"),r=n("pNgc"),l=n("o7ef");t.onDescriptionLinkClick=function(e){var t=e.question,n=e.openPoolQuestionPanel,a=e.addQuestionsToEmptyPool;t.numOfAvailableQuestions>0?n(t.id):a(t.id)};var u=function(e){return s.default.createElement("div",{className:l.CLASS_BASE+" "+l.CLASS_BASE+"--read"},s.default.createElement("div",{className:l.CLASS_BASE+"__content"},s.default.createElement(r.ContentCollection,{className:l.CLASS_BASE+"__icon",color:"primary"}),s.default.createElement("div",{className:l.CLASS_BASE+"__content-description-wrapper"},s.default.createElement("div",{className:l.CLASS_BASE+"__content-description"},e.localize.translate(l.LOCALE_KEY_BASE+".description.read.plural",{questionsDisplayed:e.question.numOfQuestionsToChoose,questionsTotal:e.question.numOfAvailableQuestions})),s.default.createElement(o.Link,{className:l.CLASS_BASE+"__view-questions-link",disabled:null!=e.questionBeingEditedId,onClick:function(){return t.onDescriptionLinkClick(e)}},e.localize.translate(l.LOCALE_KEY_BASE+".viewQuestions",{questionsTotal:e.question.numOfAvailableQuestions})))))};u.propTypes={addQuestionsToEmptyPool:i.default.func.isRequired,localize:i.default.object.isRequired,openPoolQuestionPanel:i.default.func.isRequired,question:i.default.object.isRequired,questionBeingEditedId:i.default.string},t.default=u},Vng8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K").__importStar(n("nsO7")),s=n("JfV0"),i=function(e){return!!e.questionText.rawText&&-1!==Math.sign(e.points)};t.havePointsChangedToPositive=function(e,t){return e!==t&&-1!==Math.sign(t)},t.hasFullCreditFlagChanged=function(e,t){return a.isUndefined(e.fullCredit)?!0===t.fullCredit:e.fullCredit!==t.fullCredit};t.hasScoringOptionsChanged=function(e,t){return e.allowPartialCredit!==t.allowPartialCredit||e.allowNegativeScoreForIncorrectAnswers!==t.allowNegativeScoreForIncorrectAnswers||e.allowNegativeOverallScore!==t.allowNegativeOverallScore};var o=function(e,t){return e.partialCreditTolerance&&t.partialCreditTolerance&&(e.partialCreditTolerance.type!==t.partialCreditTolerance.type||e.partialCreditTolerance.value!==t.partialCreditTolerance.value)},r=function(e,t){return e.correctAnswerTolerance&&t.correctAnswerTolerance&&(e.correctAnswerTolerance.type!==t.correctAnswerTolerance.type||e.correctAnswerTolerance.value!==t.correctAnswerTolerance.value)},l=function(e,t){return e.units!==t.units&&(e.units.unitPointsPercent!==t.units.unitPointsPercent||e.units.unitsCaseSensitive!==t.units.unitsCaseSensitive||e.units.unitsRequired!==t.units.unitsRequired||e.units.unitValue!==t.units.unitValue)};t.hasRegradingCalculatedFormulaQuestionFieldChanged=function(e,t){return e.answerFormula!==t.answerFormula||e.allowPartialCredit!==t.allowPartialCredit||e.partialCreditPointsPercent!==t.partialCreditPointsPercent||o(e,t)||r(e,t)||l(e,t)},t.shouldShowRegradingWarning=function(e,n){var i=!1,o=e.questionType;if(i=e.points!==n.points||e.pointsPerQuestion!==n.pointsPerQuestion||t.hasFullCreditFlagChanged(e,n))return!0;if((s.QuestionType.Multiple.isEqualTo(o)||s.QuestionType.Matching.isEqualTo(o))&&(i=t.hasScoringOptionsChanged(e,n)),i)return!0;switch(o){case s.QuestionType.FIMB.toString():i=a.some(n.answers,(function(t,n){var s=e.answers[n];return!a.isEqual(t.answerValues,s.answerValues)}));break;case s.QuestionType.Multiple.toString():i=a.some(n.answers,(function(t,n){var a=e.answers[n];return t.id!==a.id||t.correctAnswer!==a.correctAnswer}));break;case s.QuestionType.Either.toString():i=!a.isEqual(e.answer,n.answer);break;case s.QuestionType.CalculatedFormula.toString():i=t.hasRegradingCalculatedFormulaQuestionFieldChanged(e,n)}return i},t.hasBaseQuestionChanged=function(e,n){var a=e.questionText.rawText!==n.questionText.rawText,s=t.havePointsChangedToPositive(e.points,n.points),i=t.hasFullCreditFlagChanged(e,n),o=function(e,t){return function(e,t){return e.correctResponseFeedback&&t.correctResponseFeedback&&e.correctResponseFeedback.rawText!==t.correctResponseFeedback.rawText}(e,t)||function(e,t){return e.incorrectResponseFeedback&&t.incorrectResponseFeedback&&e.incorrectResponseFeedback.rawText!==t.incorrectResponseFeedback.rawText}(e,t)}(e,n);return a||s||i||o},t.hasUsageCountChanged=function(e,t){return e.usageCount!==t.usageCount},t.hasAutomatedFeedbackChanged=function(e,t){return e.correctResponseFeedback.rawText!==t.correctResponseFeedback.rawText||e.incorrectResponseFeedback.rawText!==t.incorrectResponseFeedback.rawText},t.hasCalculatedFormulaQuestionChanged=function(e,n){return!(n.points<0)&&(!(e.answerFormula===n.answerFormula&&e.allowPartialCredit===n.allowPartialCredit&&e.answerScale===n.answerScale&&e.correctAnswerFormat===n.correctAnswerFormat&&e.correctAnswerPrecision===n.correctAnswerPrecision&&e.displayFormulaToStudent===n.displayFormulaToStudent&&e.displayRoundingSettingsToStudent===n.displayRoundingSettingsToStudent&&e.partialCreditPointsPercent===n.partialCreditPointsPercent&&a.isEqual(e.variableDefinitions,n.variableDefinitions)&&a.isEqual(e.variableSets,n.variableSets)&&e.variableSetCount===n.variableSetCount&&e.mathMLImageURL===n.mathMLImageURL&&e.mathMLImageAltText===n.mathMLImageAltText&&!o(e,n)&&!r(e,n)&&!l(e,n)&&!t.hasAutomatedFeedbackChanged(e,n))||t.hasBaseQuestionChanged(e,n))},t.hasEssayQuestionChanged=function(e,n){return!!i(n)&&t.hasBaseQuestionChanged(e,n)},t.hasFIMBQuestionChanged=function(e,t){if(!e.answers||!t.answers||e.answers.length!==t.answers.length)return!0;var n=!1,s=a.keyBy(e.answers,(function(e){return e.ident}));return t.answers.forEach((function(e){if(!n)if(s[e.ident]&&e.answerValues.length===s[e.ident].answerValues.length){var t=e.answerValues.map((function(e){return e.value})),i=s[e.ident].answerValues.map((function(e){return e.value}));n=0!==a.difference(t,i).length}else n=!0})),n},t.hasMatchingQuestionChanged=function(e,n){if(!i(n))return!1;if(t.hasBaseQuestionChanged(e,n))return!0;if(e.allowPartialCredit!==n.allowPartialCredit||e.allowNegativeScoreForIncorrectAnswers!==n.allowNegativeScoreForIncorrectAnswers||e.allowNegativeOverallScore!==n.allowNegativeOverallScore)return!0;if(e.prompts.length!==n.prompts.length)return!0;if(e.answers.length!==n.answers.length)return!0;var s=e.prompts.map((function(e){return e.id}));if(n.prompts.map((function(e){return e.id})).some((function(e){return!s.includes(e)})))return!0;var o=e.answers.map((function(e){return e.ui.id}));if(n.answers.map((function(e){return e.ui.id})).some((function(e){return!o.includes(e)})))return!0;var r=e.prompts.map((function(e){return e.promptText.rawText})),l=n.prompts.map((function(e){return e.promptText.rawText}));if(!a.isEqual(r,l))return!0;var u=e.answers.map((function(e){return e.answerText.rawText})),d=n.answers.map((function(e){return e.answerText.rawText}));return!a.isEqual(u,d)},t.hasMultipleAnswerQuestionChanged=function(e,n){if(!i(n))return!1;if(t.hasBaseQuestionChanged(e,n))return!0;if(e.answers.length!==n.answers.length)return!0;var s=e.answers.map((function(e){return e.id}));if(n.answers.map((function(e){return e.id})).some((function(e){return!s.includes(e)})))return!0;var o=e.answers.map((function(e){return e.answerText.rawText})),r=n.answers.map((function(e){return e.answerText.rawText}));if(!a.isEqual(o,r))return!0;if(e.answers.some((function(e){return n.answers.find((function(t){return t.id===e.id})).correctAnswer!==e.correctAnswer})))return!0;if(t.hasScoringOptionsChanged(e,n))return!0;for(var l=!1,u=0;u<e.answers.length;u++)if(n.answers[u].id!==e.answers[u].id){l=!0;break}return l},t.hasPresentationQuestionChanged=function(e,t){return!!i(t)&&e.questionText.rawText!==t.questionText.rawText},t.hasTrueFalseQuestionChanged=function(e,n){return!!i(n)&&(!!t.hasBaseQuestionChanged(e,n)||e.answer!==n.answer)},t.hasQuestionBlockQuestionChanged=function(e,t){return!(t.pointsPerQuestion<0||t.numOfQuestionsToChoose<0)&&((e.pointsPerQuestion!==t.pointsPerQuestion||e.numOfQuestionsToChoose!==t.numOfQuestionsToChoose||e.numOfAvailableQuestions!==t.numOfAvailableQuestions)&&!(t.numOfQuestionsToChoose>t.numOfAvailableQuestions))},t.questionChangedFuncs={hasBaseQuestionChanged:t.hasBaseQuestionChanged,hasCalculatedFormulaQuestionChanged:t.hasCalculatedFormulaQuestionChanged,hasEssayQuestionChanged:t.hasEssayQuestionChanged,hasFIMBQuestionChanged:t.hasFIMBQuestionChanged,hasPresentationQuestionChanged:t.hasPresentationQuestionChanged,hasQuestionBlockQuestionChanged:t.hasQuestionBlockQuestionChanged,hasMatchingQuestionChanged:t.hasMatchingQuestionChanged,hasMultipleAnswerQuestionChanged:t.hasMultipleAnswerQuestionChanged,hasTrueFalseQuestionChanged:t.hasTrueFalseQuestionChanged},t.hasQuestionChanged=function(e,n){var a=e.questionType;switch(a){case s.QuestionType.CalculatedFormula.toString():return t.questionChangedFuncs.hasCalculatedFormulaQuestionChanged(e,n);case s.QuestionType.Either.toString():return t.questionChangedFuncs.hasTrueFalseQuestionChanged(e,n);case s.QuestionType.Essay.toString():return t.questionChangedFuncs.hasEssayQuestionChanged(e,n);case s.QuestionType.FIMB.toString():return t.questionChangedFuncs.hasFIMBQuestionChanged(e,n);case s.QuestionType.PresentationOnly.toString():return t.questionChangedFuncs.hasPresentationQuestionChanged(e,n);case s.QuestionType.Matching.toString():return t.questionChangedFuncs.hasMatchingQuestionChanged(e,n);case s.QuestionType.Multiple.toString():return t.questionChangedFuncs.hasMultipleAnswerQuestionChanged(e,n);case s.QuestionType.QuestionBlock.toString():return t.questionChangedFuncs.hasQuestionBlockQuestionChanged(e,n);default:throw new Error("No corresponding has-changed method specified for the given question type: "+a)}},t.isValidOnCreate=function(e){switch(e.questionType){case s.QuestionType.QuestionBlock.toString():return!0;case s.QuestionType.PresentationOnly.toString():return s.Questions.isFileAttachment(e);default:return!1}},t.isNewQuestion=function(e){return a.startsWith(e.id,s.NEW_ENTITY_ID_PREFIX)},t.hasLinkedQuestion=function(e){return e.usageCount>=1}},VsDy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=n("JfV0"),o=a.__importDefault(n("aWzz")),r=n("uDfI"),l=n("9OUN"),u=n("MC1S"),d=n("myse"),c=n("8unJ"),f=a.__importDefault(n("kPPX")),p=n("5rx+");n("wXu7");var m=function(e){function t(t){var n=e.call(this,t)||this;return n.loadedColumnSummary=!1,n.loadedGradebookColumn=!1,n.loadedContent=!1,n.assessmentHasResponses=function(){var e=n.props.assessment;return e&&e.hasResponses},n.contentHasMultipleAttempts=function(){var e=n.props.content;return e&&e.deploymentSettings&&1!==e.deploymentSettings.attemptCount},n.contentHasTimeLimit=function(){var e=n.props.content;return e&&e.deploymentSettings&&null!=e.deploymentSettings.timeLimit},n.contentHasGroups=function(){var e=n.props.content;return e&&e.isGroupContent},n.columnHasPostedGrades=function(){var e=n.props.columnSummary;return e&&(e.numGroupsPosted||e.numPosted)},n.canEditSettings=function(){var e=n.props.assessment;return e&&e.permissions.modify&&e.permissions.deploy},n.canEditDueDate=function(){var e=n.props.assessment;if(!e)return!1;var t=e.permissions;return t.modify&&t.deploy&&t.modifyDueDate},n.canOpenGroups=function(){return n.canEditSettings()&&!n.contentHasMultipleAttempts()&&!n.contentHasTimeLimit()},n.persist=function(){var e=n.props,t=e.content,s=e.gradebookColumn,o=e.persistContent,r=e.persistGradebookColumn,l=a.__assign({},t),u=a.__assign({},s);null!==n.state.allowConversations&&(n.state.allowConversations?l.forumAttacherAction=i.ForumAttacherAction.ADD.toString():(l.forumAttacherAction=i.ForumAttacherAction.DELETE.toString(),l.attachedForumLink=null));var d=null!==n.state.randomizeQuestions,c=null!==n.state.randomizeAnswers;return(d||c)&&(l.deploymentSettings=a.__assign({},t.deploymentSettings),d&&(l.deploymentSettings.isRandomizationOfQuestionsRequired=n.state.randomizeQuestions),c&&(l.deploymentSettings.isRandomizationOfAnswersRequired=n.state.randomizeAnswers)),null!==n.state.dueDate&&(u.dueDate=n.state.dueDate),null!==n.state.anonymousGrading&&(u.anonymousGrading=n.state.anonymousGrading),o(t,l).then((function(){r(s,u).then((function(){n.setState({allowConversations:null,randomizeQuestions:null,randomizeAnswers:null,dueDate:null,anonymousGrading:null})}))}))},n.onAllowConversationToggle=function(e,t){n.setState({allowConversations:t})},n.onRandomizeQuestionsToggle=function(e,t){n.setState({randomizeQuestions:t})},n.onRandomizeAnswersToggle=function(e,t){n.setState({randomizeAnswers:t?"ALWAYS":"NEVER"})},n.onAnonymousGradingToggle=function(e,t){n.setState({anonymousGrading:t})},n.onDueDateChange=function(e){n.setState((function(){return{dueDate:e}}))},n.onGroupsDelete=function(){n.setState((function(){return{showDeleteGroupsDialog:!0}}))},n.onGroupsDeleteCancel=function(){n.setState((function(){return{showDeleteGroupsDialog:!1}}))},n.onGroupsDeleteConfirm=function(){var e=n.props,t=e.content;(0,e.deleteGroups)(t.id),n.setState((function(){return{showDeleteGroupsDialog:!1}}))},n.getGroupsSubTitle=function(){var e=n.props,t=e.content,a=e.localizationPrefix,i=n.props.localize.translate,o="";if(n.canEditSettings())if(n.contentHasMultipleAttempts()||n.contentHasTimeLimit())n.contentHasMultipleAttempts()&&n.contentHasTimeLimit()?o=i(a+".settings.groups.subtitle.restrictions.attemptsAndTimeLimit"):n.contentHasTimeLimit()?o=i(a+".settings.groups.subtitle.restrictions.timeLimit"):n.contentHasMultipleAttempts()&&(o=i(a+".settings.groups.subtitle.restrictions.attempts"));else if(n.contentHasGroups())o=i(a+".settings.groups.subtitle.numberOfGroups.plural",{count:t.assignedGroups.length});else{if(!n.assessmentHasResponses()&&!n.columnHasPostedGrades())return null;var r=n.props.gradebookColumn.gradebookCategory,l=r.isUserDefined?"custom":r.title;n.columnHasPostedGrades()?o=i(a+".settings.groups.subtitle.restrictions.studentAttempts."+l,{title:l}):n.assessmentHasResponses()&&(o=i(a+".settings.groups.subtitle.restrictions.postedGrades."+l,{title:l}))}else o=i(a+".settings.groups.subtitle.restrictions.insufficientPrivileges");return s.default.createElement("div",null,o)},n.state={allowConversations:null,anonymousGrading:null,randomizeQuestions:null,randomizeAnswers:null,dueDate:null,showDeleteGroupsDialog:!1},n}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.gradebookColumn,a=t.content,s=t.courseId,i=t.contentId,o=t.loadColumnSummary,r=t.loadContents,l=t.loadGradebookColumn;n||this.loadedGradebookColumn||!a||(l({courseId:s,columnId:a.gradingColumn.id}),this.loadedGradebookColumn=!0),this.loadedColumnSummary||e.gradebookColumn||!n||(o({courseId:n.courseId,columnId:n.id}),this.loadedColumnSummary=!0),a||this.loadedContent||(r({courseId:s,contentId:i}),this.loadedContent=!0)},t.prototype.render=function(){var e=this.props,t=e.content,n=e.gradebookColumn,a=e.localizationPrefix,i=e.analyticsEventAugmentor,o=this.state.showDeleteGroupsDialog,r=this.props.localize.translate,l=i(d.AnalyticsEventTypes.CLICK_EVENT,(function(){}),"assessmentSettings.settings.groups.title.link");return s.default.createElement("div",{className:"assessment-settings"},t&&n&&s.default.createElement("div",null,s.default.createElement(u.TextField,{className:"dueDate",label:r(a+".settings.dueDate"),defaultValue:n.dueDate,disabled:!this.canEditDueDate(),onChanged:this.onDueDateChange,analyticsId:"assessmentSettings.editDueDate"}),s.default.createElement(u.Checkbox,{label:r(a+".settings.allowClassConversations"),defaultChecked:!!t.attachedForumLink,disabled:!this.canEditSettings(),onChange:this.onAllowConversationToggle,analyticsId:"assessmentSettings.allowClassConversation"}),s.default.createElement(u.Checkbox,{label:r(a+".settings.randomizeQuestions"),defaultChecked:t.deploymentSettings.isRandomizationOfQuestionsRequired,disabled:!this.canEditSettings(),onChange:this.onRandomizeQuestionsToggle,analyticsId:"assessmentSettings.randomizeQuestions"}),s.default.createElement(u.Checkbox,{label:r(a+".settings.randomizeAnswers"),defaultChecked:"ALWAYS"===t.deploymentSettings.isRandomizationOfAnswersRequired,disabled:!this.canEditSettings(),onChange:this.onRandomizeAnswersToggle,analyticsId:"assessmentSettings.randomizeAnswers"}),s.default.createElement("h3",{className:"assessment-settings__subheader"},r(a+".settings.anonymousGrading")),s.default.createElement(u.Checkbox,{label:r(a+".settings.hideStudentNames"),defaultChecked:n.anonymousGrading,onChange:this.onAnonymousGradingToggle,analyticsId:"assessmentSettings.hideStudentNames"}),s.default.createElement(u.PrimaryButton,{className:"submitButton",onClick:this.persist,text:r(a+".settings.submitButton"),analyticsId:"assessmentSettings.submit"})),s.default.createElement("div",null,this.canOpenGroups()?s.default.createElement("a",{"data-analytics-id":"assessmentSettings.settings.groups.title.link",href:this.props.routes.getGroupsHref(),onClick:l},s.default.createElement(u.SvgIcon,{iconName:"groups",iconSize:"medium"}),s.default.createElement("div",null,r(a+".settings.groups.title")),this.getGroupsSubTitle()):s.default.createElement("div",null,s.default.createElement(u.SvgIcon,{iconName:"groups",iconSize:"medium"}),s.default.createElement("div",null,r(a+".settings.groups.title")),this.getGroupsSubTitle()),this.contentHasGroups()&&this.canEditSettings()?s.default.createElement(u.IconButton,{className:"delete-groups",onClick:this.onGroupsDelete,iconProps:{iconName:"trash",iconSize:"small"},disabled:this.assessmentHasResponses()||this.columnHasPostedGrades(),ariaLabel:r(a+".settings.groups.delete.label"),analyticsId:"assessmentSettings.groups.delete"}):null),s.default.createElement(f.default,{hidden:!o,onCancel:this.onGroupsDeleteCancel,onContinue:this.onGroupsDeleteConfirm,titleKey:a+".settings.groups.delete.dialog.title",textKey:a+".settings.groups.delete.dialog.text",cancelKey:"assessments.global.cancel",continueKey:"assessments.global.yes",analyticsId:"assessment.settings.groups.delete.dialog"}))},t.propTypes=a.__assign({assessment:o.default.object,columnSummary:o.default.object,content:o.default.object,contentId:o.default.string.isRequired,courseId:o.default.string.isRequired,deleteGroups:o.default.func.isRequired,gradebookColumn:o.default.object,loadColumnSummary:o.default.func.isRequired,loadGradebookColumn:o.default.func.isRequired,loadContents:o.default.func.isRequired,localize:o.default.object.isRequired,persistContent:o.default.func.isRequired,persistGradebookColumn:o.default.func.isRequired,routes:o.default.object.isRequired,localizationPrefix:o.default.string.isRequired},p.withAnalyticsProps),t}(s.Component);t.AssessmentSettingsPure=m;var g=r.connect((function(e,t){return{assessment:i.select.assessment.getAssessmentByContentId(e,t.contentId),columnSummary:i.select.columnSummary.getColumnSummaryByColumnId(e,t.gradebookColumn&&t.gradebookColumn.id),content:i.select.content.getContentById(e,t.contentId),gradebookColumn:i.select.gradebookColumn.getGradebookColumnByContentId(e,t.contentId)}}),(function(e){return l.bindActionCreators({loadColumnSummary:i.actions.columnSummary.loadColumnSummary,deleteGroups:i.actions.group.deleteByContentId,loadGradebookColumn:i.actions.gradebookColumn.loadGradebookColumn,loadContents:i.actions.content.loadContents,persistGradebookColumn:i.actions.gradebookColumn.persistGradebookColumn,persistContent:i.actions.content.persistContent},e)}))(c.localizedComponentWrapper(m));t.default=d.withAnalytics(g)},W2w9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("Agfx"),l=n("np6O"),u=n("M0dR"),d=n("ks7T"),c=n("5HEc");n("S9Gz"),t.CLASS_PREFIX="calculated-formula-question__step-button";var f="assessments.canvas.question.calculatedFormula";function p(e,t){return"rtl"===e.direction?"left"===t?s.default.createElement(c.ChevronRight,null):s.default.createElement(d.ChevronLeft,null):"left"===t?s.default.createElement(d.ChevronLeft,null):s.default.createElement(c.ChevronRight,null)}t.getChevron=p,t.BaseStepButtons=function(e){var n=e.analyticsId,a=e.localize,i=e.showBack,o=e.onBackClick,d=e.showNext,c=e.isNextDisabled,m=e.onNextClick,g=r.useTheme();return s.default.createElement("div",{className:t.CLASS_PREFIX},i&&s.default.createElement(l.AnalyticsIconButton,{analyticsId:n+".back.iconButton","aria-label":a.translate(f+".backAriaLabel"),className:t.CLASS_PREFIX+"--back",onClick:o},p(g,"left"),s.default.createElement(u.AnalyticsTypography,{component:"span",variant:"inherit"},a.translate(f+".back"))),d&&s.default.createElement(l.AnalyticsIconButton,{analyticsId:n+".next.iconButton","aria-label":a.translate(f+".nextAriaLabel"),className:t.CLASS_PREFIX+"--next",disabled:c,onClick:m},s.default.createElement(u.AnalyticsTypography,{component:"span",variant:"inherit"},a.translate(f+".next")),p(g,"right")))},t.BaseStepButtons.propTypes={analyticsId:i.default.string.isRequired,localize:i.default.object,showBack:i.default.bool.isRequired,onBackClick:i.default.func,showNext:i.default.bool.isRequired,isNextDisabled:i.default.bool,onNextClick:i.default.func},t.default=o.localizedComponentWrapper(t.BaseStepButtons)},WARa:function(e,t,n){},WGaE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("LeqM");t.LinkedQuestionNotification=a.default;var s=n("2xrW");t.copyQuestionsResultNotification=s.default;var i=n("AV37");t.processingStageNotification=i.default},WOfr:function(e,t,n){"use strict";n.r(t),n.d(t,"QuestionBank",(function(){return i}));var a=n("ERkP"),s=n("12Zt"),i=Object(s.a)(a.createElement(a.Fragment,null,a.createElement("path",{fill:"var(--icon-fill-color)",stroke:"transparent",fillRule:"evenodd",d:"M12 6.625c2.4853 0 4.5 2.0147 4.5 4.5V12H12v4.5h14c2.4853 0 4.5 2.0147 4.5 4.5s-2.0147 4.5-4.5 4.5H12c-2.4853 0-4.5-2.0147-4.5-4.5v-9.875c0-2.4853 2.0147-4.5 4.5-4.5z",clipRule:"evenodd"}),a.createElement("path",{fill:"currentColor",stroke:"transparent",d:"M3 26v-1c-.5523 0-1 .4477-1 1h1zm32 0h1c0-.5523-.4477-1-1-1v1zM2 26v9h2v-9H2zm34 9v-9h-2v9h2zm-1-10H3v2h32v-2zM5 38h23v-2H5v2zm25 0h3v-2h-3v2zm4-3c0 .5523-.4477 1-1 1v2c1.6569 0 3-1.3431 3-3h-2zM2 35c0 1.6569 1.3432 3 3 3v-2c-.5523 0-1-.4477-1-1H2z"}),a.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",d:"M8 26V7h22v19"}),a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 12h5v5h-5zM21 13h5M21 17h5M12 21h14"}),a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M9 4h20"}),a.createElement("path",{stroke:"currentColor",strokeWidth:"2",d:"M3 26l5-5M35 26l-5-5M4 25V3c0-1.1046.8954-2 2-2h26c1.1046 0 2 .8954 2 2v22"}),a.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",d:"M11 30h16v3H11z"})),"large")},Waue:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("Begd"),l=a.__importDefault(n("2kfE"));n("76BM");var u=function(e){function t(t){var n=e.call(this,t)||this;return n.isAnyQuestionDirty=function(){return n.state.questionBeingEditedIsDirty},n.onQuestionEdit=function(e){n.setState((function(){return{questionBeingEditedId:e,questionBeingEditedIsDirty:!1}}))},n.onQuestionMadeDirty=function(e){e!==n.state.questionBeingEditedIsDirty&&(n.props.setIsAnyQuestionDirty(e),n.setState((function(){return{questionBeingEditedIsDirty:e}})))},n.state={questionBeingEditedId:null,questionBeingEditedIsDirty:!1},n}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.courseId,a=t.questions,i=t.hasSubmissions,o=t.deleteQuestion,u=t.isLoading,d=t.firstNewQuestionBankId,c=t.persistQuestion,f=t.hasAssessmentModifyPermissions,p=t.questionPoolId,m=t.assessmentId,g=t.localizationPrefix;return s.default.createElement("div",{className:"question-pool-question-list assessment-canvas-react"},a&&a.map((function(t){return s.default.createElement(l.default,{key:t.id,courseId:n,question:t,hasSubmissions:i,hasAssessmentModifyPermissions:f,deleteQuestion:function(){return o(t,{courseId:n,assessmentId:m,questionBlockId:p})},focusTitle:d===t.id,onQuestionEdit:e.onQuestionEdit,onQuestionMadeDirty:e.onQuestionMadeDirty,questionBeingEditedId:e.state.questionBeingEditedId,isAnyQuestionDirty:e.isAnyQuestionDirty(),persistQuestion:c,localizationPrefix:g})})),(!a||u)&&s.default.createElement(r.Spinner,{size:r.SpinnerSize.large}))},t.propTypes={courseId:i.default.string.isRequired,assessmentId:i.default.string.isRequired,questionPoolId:i.default.string.isRequired,questions:i.default.array,hasSubmissions:i.default.bool.isRequired,hasAssessmentModifyPermissions:i.default.bool.isRequired,deleteQuestion:i.default.func.isRequired,isLoading:i.default.bool,firstNewQuestionBankId:i.default.string,setIsAnyQuestionDirty:i.default.func.isRequired,persistQuestion:i.default.func.isRequired,localizationPrefix:i.default.string.isRequired},t}(s.Component);t.QuestionPoolQuestionList=u,t.default=o.localizedComponentWrapper(u)},X3OV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz"));t.DEFAULT_VALUE={panelHeightOffset:0,isMobileAppPreview:!1},t.AssessmentCommonContext=s.createContext(t.DEFAULT_VALUE),t.withAssessmentCommonContext=function(e){return function(n){return s.createElement(t.AssessmentCommonContext.Consumer,null,(function(t){return s.createElement(e,a.__assign({},n,{commonContext:t}))}))}},t.AssessmentsCommonContextWrapper=function(e){var n=e.usePanelHeightOffset,a=e.isMobileAppPreview,i=e.children,o=n();return s.createElement(t.AssessmentCommonContext.Provider,{value:{panelHeightOffset:o,isMobileAppPreview:a}},i)},t.AssessmentsCommonContextWrapper.propTypes={children:i.default.node,usePanelHeightOffset:i.default.func.isRequired,isMobileAppPreview:i.default.bool.isRequired}},XeRt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importStar(n("nsO7")),o=a.__importDefault(n("aWzz")),r=n("MC1S"),l=n("3ZJq"),u=a.__importDefault(n("PCGI")),d=a.__importDefault(n("7//j")),c=a.__importDefault(n("gTAB")),f=n("Vng8"),p=n("WGaE"),m=n("VQXm"),g=a.__importDefault(n("2asv")),h=a.__importStar(n("TIvv")),_=a.__importStar(n("AiU9")),b=a.__importStar(n("OPED"));n("AFzv");var y=function(e){return s.default.createElement("ol",{className:"multiple-answer__list"},e.question.answers.map((function(t,n){return s.default.createElement("li",{key:t.id,className:"multiple-answer__dnd-item"},s.default.createElement(m.MultipleAnswerChoice,a.__assign({},e,{answer:t,index:n})))})))},v=function(e){var t,n=e.editMode,o=e.hasSubmissions,m=e.localize,v=e.onAnswerAddition,E=e.onQuestionChange,C=e.onReorder,w=e.question,S=e.questionTitle,P=e.setActiveEditorId,R=e.showScoringOptions,A=e.showFeatureAnnouncement,T=c.default.isInactive(n),q=!T&&f.hasLinkedQuestion(w),I=m.translate("assessments.canvas.question.multipleAnswer.answerInstructions"),D=m.translate("assessments.canvas.question.multipleAnswer.addChoice"),Q=f.isNewQuestion(e.question),F=function(){return!0===i.get(e,"question.permissions.addOrRemoveAnswer")||Q},k=function(){return!0===i.get(e,"question.permissions.reorderAnswers")||Q},x=function(e){e.preventDefault()};return s.default.createElement("div",{className:"multiple-answer "+(T?"multiple-answer--read":"multiple-answer--edit")},s.default.createElement(u.default,{editMode:n,question:w},s.default.createElement(p.LinkedQuestionNotification,{show:q,usageCount:w.usageCount}),s.default.createElement(h.default,a.__assign({},h.getPluggableQuestionHeaderProps(e,E))),s.default.createElement(_.default,a.__assign({},_.getQuestionControlProps(e))),s.default.createElement(b.default,a.__assign({},b.getQuestionTextProps(e,E)))),s.default.createElement("div",{className:(t="multiple-answer__container",!o&&F||(t+=" -cannot-add-more"),t)},s.default.createElement("div",{className:"multiple-answer__instructions"},I),T?s.default.createElement(y,a.__assign({},e,{hasAddOrRemoveAnswerPermissions:F(),hasReorderAnswersPermissions:k()})):s.default.createElement(s.default.Fragment,null,s.default.createElement(d.default,a.__assign({},e,{items:w.answers,question:w,questionTitle:S,onReorderItem:C,boundingElementId:"gradebook-item-panel-content",scrollContainerId:"multiple-answer-dnd",hasAddOrRemoveAnswerPermissions:F(),hasReorderAnswersPermissions:k()})),!o&&F()&&s.default.createElement(r.Link,{className:"multiple-answer__add-choice",onClick:v,onMouseDown:x,type:"button"},D)),R&&s.default.createElement(g.default,a.__assign({},e,{question:w,editMode:n}))),s.default.createElement(l.AutomatedQuestionFeedback,{editMode:n,onQuestionChange:E,question:w,setActiveEditorId:P,showFeatureAnnouncement:A}))};v.propTypes={question:o.default.object.isRequired,questionTitle:o.default.string.isRequired,editMode:o.default.number.isRequired,hasSubmissions:o.default.bool.isRequired,localize:o.default.object.isRequired,onQuestionChange:o.default.func.isRequired,onAnswerAddition:o.default.func.isRequired,showScoringOptions:o.default.bool,onReorder:o.default.func,pluginsConfig:o.default.object.isRequired,showFeatureAnnouncement:o.default.object},v.defaultProps={showScoringOptions:!1},t.default=v},"YE/5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("8unJ"),l=n("caKH"),u=n("5rx+"),d=function(e){var t=e.localize,n=e.onCancel,a=e.onDismiss,i=e.onOk,r=e.show,u=e.subText,d=e.title,c=e.showCloseButton,f=e.okButtonLocaleKey,p=e.cancelButtonLocaleKey,m=e.analyticsId;return s.default.createElement(l.UltraModalDialog,{hidden:!r,onDismiss:a,dialogContentProps:{type:o.DialogType.normal,showCloseButton:c,title:d,subText:u,isAlert:!0},modalProps:{isBlocking:!0}},s.default.createElement(o.DialogFooter,null,s.default.createElement(o.DefaultButton,{onClick:n,text:t.translate(p),analyticsId:m+".warningDialog.cancel.button"}),s.default.createElement(o.PrimaryButton,{onClick:i,text:t.translate(f),analyticsId:m+".warningDialog.ok.button"})))};d.propTypes=a.__assign({localize:i.default.object.isRequired,onCancel:i.default.func,onDismiss:i.default.func,onOk:i.default.func,show:i.default.bool,subText:i.default.string,title:i.default.string,showCloseButton:i.default.bool,cancelButtonLocaleKey:i.default.string,okButtonLocaleKey:i.default.string},u.addAnalyticsProps),d.defaultProps={showCloseButton:!0,cancelButtonLocaleKey:"assessments.canvas.warningDialogs.cancel",okButtonLocaleKey:"assessments.canvas.warningDialogs.ok"},t.default=r.localizedComponentWrapper(d)},YqWx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("t9Ny"),r=n("JfV0"),l=n("8unJ"),u=n("b0Dq");n("6iVS");var d=function(e){var t,n,i,l,d,c,f;return s.default.createElement("div",{className:"dnd-question-preview"},(t=e.question,n=e.questionTitle,i=e.localize,l=r.Questions.isFileAttachment(t),d=r.Questions.isQuestionBlock(t),c=d?t.pointsPerQuestion:t.points,f="assessments.canvas.question.header."+(d?"pointsEach":"points"),l?s.default.createElement("div",{className:"dnd-question-preview__file"},s.default.createElement(o.FileViewer,a.__assign({},u.getFileViewerPropsArray(t)[0]))):s.default.createElement("div",{className:"dnd-question-preview__question"},s.default.createElement("div",{className:"dnd-question-preview__question-header"},n&&s.default.createElement("div",{className:"dnd-question-preview__question-header-inner"},s.default.createElement("h3",{className:"dnd-question-preview__title"},n),s.default.createElement("div",{className:"dnd-question-preview__pill"},i.translate(f,{points:c}))),t.questionText&&s.default.createElement("div",{className:"dnd-question-preview__question-text",dangerouslySetInnerHTML:{__html:t.questionText.rawText}})))))};d.propTypes={question:i.default.object.isRequired,questionTitle:i.default.string,localize:i.default.object.isRequired},t.default=l.localizedComponentWrapper(d)},ZfLe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("nsO7")),i=a.__importStar(n("ERkP")),o=a.__importDefault(n("aWzz")),r=n("MC1S"),l=n("8unJ"),u=a.__importDefault(n("YE/5")),d=a.__importDefault(n("gTAB")),c=a.__importDefault(n("ZzTI")),f=n("Pfoe"),p=n("Vng8");n("/Lwm");var m=n("JfV0");t.default=function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.originalQuestion=n.props.question,n.containerRef=null,n.isNewQuestion=function(){return p.isNewQuestion(n.props.question)},n.hasQuestionDeletePermissions=function(){var e=s.get(n.props,"question.permissions.delete");return null==e?n.isNewQuestion():e},n.hasQuestionEditPermissions=function(){var e=s.get(n.props,"question.permissions.edit");return null==e?n.isNewQuestion():e},n.getEditMode=function(){return n.editModeIsActive()?d.default.ACTIVE:d.default.INACTIVE},n.editModeIsActive=function(){return n.props.question.id===n.props.questionBeingEditedId},n.refreshBbml=function(){n.setState({refreshBbml:!0},(function(){return n.setState({refreshBbml:!1})}))},n.handleQuestionRevert=function(e){void 0===e&&(e=null),n.isNewQuestion()||n.resetQuestionFromProps(e)},n.resetQuestionFromProps=function(e){void 0===e&&(e=null);var t=n.props.question;n.originalQuestion=t,n.setState((function(){return{question:t}}),(function(){n.refreshBbml(),e&&e()}))},n.setQuestionValid=function(){n.setState({isValid:!0})},n.onQuestionChange=function(e,t,s,i){void 0===s&&(s=null),void 0===i&&(i=!0),n.setState((function(s){var i=t(n.originalQuestion,e,s.question,s.isValid);return{question:a.__assign(a.__assign({},s.question),e),isValid:i}}),(function(){i&&n.props.onQuestionMadeDirty(!0),s&&s()}))},n.openGoals=function(){var e=n.props;(0,e.openGoals)(e.question)},n.onSaveButtonClick=function(){var e=n.state.question,t=n.props,a=t.checkAndDisableAssessmentSettings,s=t.hasSubmissions,i=p.hasLinkedQuestion(e),o=!1;s&&(o=p.shouldShowRegradingWarning(n.originalQuestion,e)),o&&i?n.showCombinedRegradingLinkedQuestionDialog():o?n.showRegradingDialog():i?n.showLinkedQuestionDialog():!m.Questions.isPresentationOnly(e)&&a?a(n.onQuestionSave):n.onQuestionSave()},n.onQuestionDelete=function(){var e=n.props;(0,e.deleteQuestion)(e.question)},n.onQuestionSave=function(){var e=n.stopEditMode;(0,n.props.persistQuestion)(n.props.question,n.state.question,n.props.question.sourceInfo?n.props.question.sourceInfo.id:n.props.question.assessmentId).then((function(e){var t=e.question;n.originalQuestion=t})),e()},n.onQuestionCancel=function(){var e=n.props.onQuestionEditCancel;if(n.isNewQuestion()){var t=n.props,a=t.deleteQuestion,s=t.question;n.stopEditMode(),a(s)}else n.handleQuestionRevert(n.stopEditMode);e&&e()},n.startEditMode=function(e){void 0===e&&(e=null),n.props.isAnyQuestionDirty||n.props.questionBeingEditedId===n.props.question.id||(n.props.onQuestionEdit(n.props.question.id),e&&e())},n.stopEditMode=function(){var e=n.props,t=e.onQuestionEdit,a=e.onQuestionMadeDirty;t(null),a(!1),n.containerRef&&n.containerRef.querySelector("."+f.BB_EDITOR_CONTAINER_CLASSNAME)&&n.containerRef.querySelector("."+f.BB_EDITOR_CONTAINER_CLASSNAME).focus(),n.setActiveEditorId(null),n.setState((function(){return{isValid:!1,showRegradingDialog:!1,showLinkedQuestionDialog:!1,showCombinedRegradingLinkedQuestionDialog:!1}}))},n.setActiveEditorId=function(e){n.setState((function(){return{activeEditorId:e}}))},n.showQuestionControls=function(){return!1!==n.props.showQuestionControls&&null===n.props.questionBeingEditedId},n.showCombinedRegradingLinkedQuestionDialog=function(){n.setState((function(){return{showCombinedRegradingLinkedQuestionDialog:!0}}))},n.dismissCombinedRegradingLinkedQuestionDialog=function(){n.setState((function(){return{showCombinedRegradingLinkedQuestionDialog:!1}}))},n.showLinkedQuestionDialog=function(){n.setState((function(){return{showLinkedQuestionDialog:!0}}))},n.dismissLinkedQuestionDialog=function(){n.setState((function(){return{showLinkedQuestionDialog:!1}}))},n.showRegradingDialog=function(){n.setState((function(){return{showRegradingDialog:!0}}))},n.dismissRegradingDialog=function(){n.setState((function(){return{showRegradingDialog:!1}}))},n.onSaveCancelMouseDown=function(e){e.preventDefault()},n.setContainerRef=function(e){n.containerRef=e},n.state={question:e.question,refreshBbml:!1,activeEditorId:null,isValid:!1,showRegradingDialog:!1,showLinkedQuestionDialog:!1,showCombinedRegradingLinkedQuestionDialog:!1},n}return a.__extends(n,t),n.prototype.componentDidMount=function(){var e=this.props,t=e.onQuestionMadeDirty,n=e.question,a=e.questionBeingEditedId;this.isNewQuestion()&&!a&&(this.startEditMode(),t(!0)),this.isNewQuestion()&&p.isValidOnCreate(n)&&this.setQuestionValid()},n.prototype.componentDidUpdate=function(e){var t=e.question,n=this.props.question,a=!this.editModeIsActive(),s=p.hasUsageCountChanged(t,n),i=p.hasQuestionChanged(t,n);a&&(i||s)&&this.resetQuestionFromProps()},n.prototype.render=function(){var t=this.props,n=(t.onQuestionEdit,t.onQuestionMadeDirty,t.isAnyQuestionDirty),s=(t.persistQuestion,t.localizationPrefix),o=a.__rest(t,["onQuestionEdit","onQuestionMadeDirty","isAnyQuestionDirty","persistQuestion","localizationPrefix"]),l=this.state,c=l.question,f=l.refreshBbml,p=l.activeEditorId,m=l.showRegradingDialog,g=l.showLinkedQuestionDialog,h=l.showCombinedRegradingLinkedQuestionDialog,_=this.getEditMode(),b=d.default.isActive(_),y=this.hasQuestionEditPermissions()&&!n,v=this.props.localize.translate(s+".canvas.question.cancel"),E=s+".canvas.warningDialogs.questionRegrading.cancel",C=s+".canvas.warningDialogs.questionRegrading.ok";return i.default.createElement("div",{className:"question-container",ref:this.setContainerRef},i.default.createElement(e,a.__assign({},o,{showQuestionControls:this.showQuestionControls(),editMode:_,onQuestionChange:this.onQuestionChange,onQuestionRevert:this.handleQuestionRevert,onQuestionSave:this.onQuestionSave,question:c,refreshBbml:f,startEditMode:this.startEditMode,setActiveEditorId:this.setActiveEditorId,activeEditorId:p,deleteQuestion:this.onQuestionDelete,hasQuestionDeletePermissions:this.hasQuestionDeletePermissions(),hasQuestionEditPermissions:this.hasQuestionEditPermissions(),openGoals:this.openGoals,canEnterEditMode:y,localizationPrefix:s})),b&&i.default.createElement("div",{className:"question-container__buttons"},i.default.createElement(r.DefaultButton,{type:"button",text:v,onClick:this.onQuestionCancel,onMouseDown:this.onSaveCancelMouseDown,analyticsId:"assessments.canvas.editMode.question.cancel"}),i.default.createElement(r.PrimaryButton,{disabled:!this.state.isValid,type:"button",text:this.props.localize.translate(s+".canvas.question.save"),onClick:this.onSaveButtonClick,onMouseDown:this.onSaveCancelMouseDown,analyticsId:"assessments.canvas.editMode.question.save"})),h&&i.default.createElement(u.default,{show:!0,onCancel:this.dismissCombinedRegradingLinkedQuestionDialog,onDismiss:this.dismissCombinedRegradingLinkedQuestionDialog,onOk:this.onQuestionSave,cancelButtonLocaleKey:"assessments.canvas.warningDialogs.combinedRegradingLinkedQuestion.cancel",okButtonLocaleKey:"assessments.canvas.warningDialogs.combinedRegradingLinkedQuestion.ok",title:this.props.localize.translate("assessments.canvas.warningDialogs.combinedRegradingLinkedQuestion.title"),subText:this.props.localize.translate("assessments.canvas.warningDialogs.combinedRegradingLinkedQuestion.subText"),showCloseButton:!1,analyticsId:"assessments.canvas.warningDialogs.combinedRegradingLinkedQuestion"}),m&&i.default.createElement(u.default,{show:!0,onCancel:this.dismissRegradingDialog,onDismiss:this.dismissRegradingDialog,onOk:this.onQuestionSave,cancelButtonLocaleKey:E,okButtonLocaleKey:C,title:this.props.localize.translate(s+".canvas.warningDialogs.questionRegrading.title"),subText:this.props.localize.translate(s+".canvas.warningDialogs.questionRegrading.subText"),showCloseButton:!1,analyticsId:"assessments.canvas.warningDialogs.questionRegrading"}),g&&i.default.createElement(u.default,{show:!0,onCancel:this.dismissLinkedQuestionDialog,onDismiss:this.dismissLinkedQuestionDialog,onOk:this.onQuestionSave,cancelButtonLocaleKey:"assessments.canvas.warningDialogs.linkedQuestion.cancel",okButtonLocaleKey:"assessments.canvas.warningDialogs.linkedQuestion.ok",title:this.props.localize.translate("assessments.canvas.warningDialogs.linkedQuestion.title"),subText:this.props.localize.translate("assessments.canvas.warningDialogs.linkedQuestion.subText"),showCloseButton:!1,analyticsId:"assessments.canvas.warningDialogs.linkedQuestion."}))},n.propTypes={checkAndDisableAssessmentSettings:o.default.func,questionBeingEditedId:o.default.string,isAnyQuestionDirty:o.default.bool.isRequired,onQuestionEdit:o.default.func.isRequired,onQuestionMadeDirty:o.default.func.isRequired,deleteQuestion:o.default.func.isRequired,localize:o.default.object.isRequired,persistQuestion:o.default.func.isRequired,question:o.default.object.isRequired,questionTitle:o.default.string,hasSubmissions:o.default.bool.isRequired,openGoals:o.default.func.isRequired,onQuestionEditCancel:o.default.func,showQuestionControls:o.default.bool,localizationPrefix:o.default.string.isRequired},n.displayName="WithSubscription("+c.default(e)+")",n}(i.Component);return l.localizedComponentWrapper(t)}},ZnFM:function(e,t,n){},ZzTI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.displayName||e.name||"Component"}},a6r6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("2cC3");const a=n("DjPm"),s=n("lqf4");var i=n("DjPm");t.MathEditor=i.MathEditor;var o=n("mzw0");t.useWirisEditor=o.useWirisEditor,t.WirisEditorInstanceUtils=s,t.default=a.MathEditor},aNN5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=n("MC1S"),o=n("8unJ"),r=a.__importDefault(n("Pfoe")),l=n("2yjE"),u=a.__importDefault(n("391C")),d=a.__importStar(n("jPx/"));n("B8lv");var c=function(e){function t(t){var n=e.call(this,t)||this;return n.onBlur=function(){n.setState({editorFocused:!1})},n.onFocus=function(){n.setState({editorFocused:!0})},n.state={editorFocused:!1},n}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.isReadOnly,n=e.localize,o=e.onEditorTextChange,c=e.onRemoveReusedAnswer,f=e.pairNumber,p=e.prompt,m=e.question,g=e.reusedElsewherePair,h=e.text,_="answer-header-"+m.id+"-"+f,b=""+l.QUESTION_TITLE_ID_PREFIX+m.id+" "+_;return s.default.createElement("div",{className:"matching-answer "+(t?"matching-answer--read-only":"")},p.reusesAnswer?s.default.createElement(u.default,{isReadOnly:t,pairNumber:f,onRemove:c}):s.default.createElement("div",{className:"matching-answer__text"},s.default.createElement("div",{id:_,className:"sr-only"},n.translate("assessments.canvas.question.matching.headers.answer",{pairNumber:f})),s.default.createElement(r.default,a.__assign({},this.props,{ariaLabelledBy:b,bbml:h,id:d.getAnswerEditorId(this.props.prompt.id),isReadOnly:t,onBlur:this.onBlur,onChange:o,onFocus:this.onFocus,placeholder:n.translate("assessments.canvas.question.matching.placeholders.answer",{pairNumber:f}),toolbarSet:"minimal",ariaRequired:!0}))),g&&this.state.editorFocused&&s.default.createElement("div",{className:"matching-answer-notice",role:"alert"},s.default.createElement(i.SvgIcon,{className:"matching-answer-notice__icon",iconSize:"small",iconName:"attention"}),s.default.createElement("span",{className:"matching-answer-notice__text"},n.translate("assessments.canvas.question.matching.editingReusedAnswerNotice"))))},t}(s.default.Component);t.UnwrappedMatchingAnswer=c,t.default=o.localizedComponentWrapper(c)},aPd7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFilesFromBbML=function(e){var t=[],n=document.createElement("div");return n.innerHTML=e,n.querySelectorAll("a[data-bbfile]").forEach((function(e){var n=e.href,a=JSON.parse(e.getAttribute("data-bbfile"));t.push({node:e,href:n,bbfile:a})})),t},t.createFileLink=function(e){var t=JSON.parse(e.bbfile),n=e.href,a=e.bbtype,s=e.bbfile.replace(/&/g,"&amp;").replace(/"/g,"&quot;");return'<a href="'+n+'" data-bbtype="'+a+'" data-bbfile="'+s+'">'+(t.linkName||s.alternativeText)+"</a> \n"},t.getPlainTextFromBbML=function(e){var t=document.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText).trim()}},afDw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("nsO7")),i=a.__importStar(n("ERkP")),o=n("9OUN"),r=n("uDfI"),l=a.__importDefault(n("aWzz")),u=n("8unJ"),d=n("MC1S"),c=n("JfV0"),f=a.__importDefault(n("d6RO")),p=a.__importDefault(n("3ANQ")),m=a.__importDefault(n("cFZT")),g=a.__importDefault(n("EC4L")),h=a.__importDefault(n("6TGb")),_=a.__importDefault(n("scU2")),b=a.__importDefault(n("hQsI")),y=n("WGaE"),v=a.__importDefault(n("6rK7")),E=a.__importDefault(n("GD/5")),C=a.__importDefault(n("YE/5")),w=n("aPd7"),S=n("gk+Q");n("vu2V");var P=function(e){return"assessmentCopyQuestionsTaskId"+s.replace(e,/_/g,".")},R=function(e){function t(n){var o=e.call(this,n)||this;return o.AddButton=function(e){return i.default.createElement(p.default,{index:e.index,show:!o.state.questionBeingEditedId,onToggleAddMenu:o.onToggleAddMenu,onDismissAddMenu:o.onDismissAddMenu,isMenuOpen:o.state.openAddMenuIndex===e.index,isBlankCanvas:!o.state.questions.length,buttonAriaLabel:e.buttonAriaLabel,removedFromTabOrder:o.state.isCopyingQuestions,analyticsId:"assessmentCanvas.addQuestionButton"})},o.initCopyQuestionsStatusDisplay=function(e){(0,o.props.loadCoursePreference)({key:P(e.id),courseId:e.courseId}).then((function(){var e=o.props.copyQuestionTaskPref;if(e){var t=e.taskId,n=e.questionCount;o.getAndDisplayUpdatedCopyQuestionsTaskStatus(t,"start",n),o.setPeriodicCheckOnCopyQuestionsTaskStatus(t,"start",n)}}))},o.isAnyQuestionDirty=function(){return o.state.questionBeingEditedIsDirty},o.areQuestionsRandomized=function(){var e=o.props.content;return e&&e.deploymentSettings&&e.deploymentSettings.isRandomizationOfQuestionsRequired},o.isCollectExternalSubmissions=function(){var e=o.props.content;return e&&e.deploymentSettings&&e.deploymentSettings.isCollectExternalSubmissions},o.sortByPosition=function(e){return s.sortBy(e,"position")},o.hasSettingsEnabledBlockingAddOfNonPOQuestions=function(){return o.hasAnonymousGrading()||o.hasRubricAssociations()||o.isCollectExternalSubmissions()||o.hasDelegatedGrading()||o.hasPeerGrading()},o.checkAndDisableAssessmentSettings=function(e){o.hasSettingsEnabledBlockingAddOfNonPOQuestions()?o.displayWarningDialog((function(){return o.checkAndDisableAssessmentSettings(e)})):e&&e()},o.displayWarningDialog=function(e){o.hasRubricAssociations()?o.showRubricAssociationsDialog(e):o.hasAnonymousGrading()?o.showAnonymousGradingDialog(e):o.isCollectExternalSubmissions()?o.showExternalSubmissionsDialog(e):o.hasDelegatedGrading()?o.showDelegatedGradingDialog(e):o.hasPeerGrading()&&o.showPeerGradingDialog(e)},o.addQuestion=function(e){o.checkAndDisableAssessmentSettings((function(){return o.createQuestion(e)}))},o.addQuestionPool=function(){o.checkAndDisableAssessmentSettings(o.openQuestionPoolQuestionPicker)},o.reuseQuestions=function(){o.checkAndDisableAssessmentSettings(o.openReuseQuestionPicker)},o.createQuestion=function(e){var t=o.props,n=t.assessment,a=t.createQuestion,s=o.calculateQuestionPositionAfter();a(n.id,s,e)},o.hideWarningDialog=function(){o.setState({isShowingWarningDialog:!1})},o.showAnonymousGradingDialog=function(e){o.showWarningDialog("anonymousGrading",o.removeAnonymousGrading,e)},o.showPeerGradingDialog=function(e){o.showWarningDialog("peerGrading",o.removePeerGrading,e)},o.showRubricAssociationsDialog=function(e){o.showWarningDialog("rubricAssociations",o.removeRubricAssociations,e)},o.showDelegatedGradingDialog=function(e){o.showWarningDialog("delegatedGrading",o.removeDelegatedGrading,e)},o.removeAnonymousGrading=function(){var e=o.props,t=e.gradebookColumn;(0,e.persistGradebookColumn)(t,a.__assign(a.__assign({},t),{anonymousGrading:!1})).then((function(){o.hideWarningDialog(),o.state.disableAssessmentSettingCallback()})).catch(o.hideWarningDialog)},o.removeRubricAssociations=function(){var e=o.props,t=e.gradebookColumn;(0,e.removeRubricAssociations)(t.id).then((function(){o.hideWarningDialog(),o.state.disableAssessmentSettingCallback()})).catch(o.hideWarningDialog)},o.removeDelegatedGrading=function(){var e=o.props,t=e.gradebookColumn;(0,e.persistGradebookColumn)(t,a.__assign(a.__assign({},t),{delegatedGrading:!1})).then((function(){o.hideWarningDialog(),o.state.disableAssessmentSettingCallback()})).catch(o.hideWarningDialog)},o.removePeerGrading=function(){var e=o.props,t=e.gradebookColumn;(0,e.persistGradebookColumn)(t,a.__assign(a.__assign({},t),{delegatedGrading:!1,peerGrading:!1,peerSettings:{peerReviewDueDate:null,peerReviewsPerStudent:null,allowLatePeerReviews:null,evaluationColumnName:null}})).then((function(){o.hideWarningDialog(),o.state.disableAssessmentSettingCallback()})).catch(o.hideWarningDialog)},o.showRandomizeDialog=function(e){void 0===e&&(e=s.noop),o.showWarningDialog("randomize",o.disableRandomization,e)},o.disableRandomization=function(){var e=o.props,t=e.content,n=e.persistContent,s=t,i=a.__assign(a.__assign({},t),{deploymentSettings:a.__assign(a.__assign({},t.deploymentSettings),{isRandomizationOfQuestionsRequired:!1})});o.hideWarningDialog(),n(s,i),o.state.disableAssessmentSettingCallback()},o.showExternalSubmissionsDialog=function(e){void 0===e&&(e=s.noop),o.showWarningDialog("externalSubmissions",o.disableExternalSubmissions,e)},o.disableExternalSubmissions=function(){var e=o.props,t=e.content;(0,e.persistContent)(t,a.__assign(a.__assign({},t),{deploymentSettings:a.__assign(a.__assign({},t.deploymentSettings),{isCollectExternalSubmissions:!1})})).then((function(){o.hideWarningDialog(),o.state.disableAssessmentSettingCallback()}))},o.addPresentationOnlyQuestion=function(e,t){if(void 0===t&&(t=!0),t&&o.areQuestionsRandomized()){o.showRandomizeDialog((function(){return o.addPresentationOnlyQuestion(e,!1)}))}else switch(e){case c.QuestionSubType.CloudFile.toString():o.addFiles({openKloudlessModal:o.props.pluginsConfig.insertKloudlessFile.openKloudlessModal});break;case c.QuestionSubType.File.toString():o.addFiles({multiple:!0});break;default:o.addText()}},o.addText=function(){var e=o.props,t=e.assessment,n=e.createQuestion,a=o.calculateQuestionPositionAfter();n(t.id,a,c.QuestionType.PresentationOnly.toString(),{subType:c.QuestionSubType.Text.toString()})},o.addFiles=function(e){var t=o.props,n=t.assessment,s=t.createQuestion,i=function(e){var t="";return e.forEach((function(e){t+=w.createFileLink(e)})),t};S.uploadFiles(a.__assign({locale:o.props.currentLocale},e)).then((function(e){var t=o.calculateQuestionPositionAfter();s(n.id,t,c.QuestionType.PresentationOnly.toString(),{subType:c.QuestionSubType.File.toString(),questionText:{rawText:i(e)}})}))},o.calculateQuestionPositionAfter=function(){var e=o.state.addMenuTarget?o.state.addMenuTarget.props.index:0;return 0===e?"start":o.state.questions[e-1].id},o.openPoolQuestionPanel=function(e){o.props.applyAccessibilityHandling&&o.props.applyAccessibilityHandling(),o.setState({activeQuestionPoolId:e,isShowingQuestionPoolPanel:!0})},o.closeQuestionPoolPanel=function(e){void 0===e&&(e=!1),o.setState(a.__assign({isShowingQuestionPoolPanel:!1},!e&&{activeQuestionPoolId:null}))},o.openReuseQuestionPicker=function(){o.props.applyAccessibilityHandling&&o.props.applyAccessibilityHandling(),o.setState({isShowingReuseQuestionPicker:!0}),o.dismissCopyQuestionsStatusBanner()},o.openQuestionPoolQuestionPicker=function(){o.props.applyAccessibilityHandling&&o.props.applyAccessibilityHandling(),o.setState({isShowingQuestionPoolQuestionPicker:!0}),o.dismissCopyQuestionsStatusBanner()},o.addQuestionsToEmptyPoolFromAssessmentCanvas=function(e){o.setState({activeQuestionPoolId:e},(function(){return o.openQuestionPoolQuestionPicker()}))},o.closeQuestionPoolQuestionPicker=function(e,t){void 0===e&&(e=null);var n=o.props.revertAccessibilityHandling,a=o.state.activeQuestionPoolId;e?o.setState((function(){return{isShowingQuestionPoolQuestionPicker:!1}}),(function(){n&&n(),a?o.addQuestionsToPool(e):o.createQuestionPool(e,t)})):o.setState((function(){return{isShowingQuestionPoolQuestionPicker:!1}}),(function(){return n&&n()}))},o.closeReuseQuestionPanel=function(e,t){void 0===e&&(e=null);var n=o.props.revertAccessibilityHandling;e?o.setState((function(){return{isShowingReuseQuestionPicker:!1}}),(function(){n&&n(),o.copyQuestions(e,t)})):o.setState((function(){return{isShowingReuseQuestionPicker:!1}}),(function(){return n&&n()}))},o.addQuestionsToPool=function(e){var t=e.assessmentId,n=e.questionIds,a=e.selectAll,s=e.searchCriteria,i=e.excludeIds,r=o.props;(0,r.addQuestionsToPool)(r.courseId,t,o.state.activeQuestionPoolId,{questionIds:n,selectAll:a,searchCriteria:s,excludeIds:i})},o.createQuestionPool=function(e,t){var n=e.assessmentId,a=e.positionAfter,s=e.questionIds,i=e.selectAll,r=e.searchCriteria,l=e.excludeIds;(0,o.props.createQuestion)(n,a,c.QuestionType.QuestionBlock.toString(),{questionIds:s,selectAll:i,searchCriteria:r,excludeIds:l,questionCount:t})},o.copyQuestions=function(e,n){t.shouldCallCopyQuestionsQueued(n)?(o.displayCopyQuestionsInProgress(e.positionAfter,n),o.copyQuestionsQueued(e,n)):(o.displayCopyQuestionsInProgress(e.positionAfter,n),o.copyQuestionsDirect(e))},o.copyQuestionsQueued=function(e,t){c.copyQuestionsQueued(e).then((function(n){o.updateCopyQuestionsTaskPref(n.taskId,t),o.displayAndUpdateCopyQuestionsStatusInfo(n,e.positionAfter,t)}),(function(e){o.props.setError(e.error)}))},o.copyQuestionsDirect=function(e){c.copyQuestions(e).then((function(t){o.displayCopyQuestionsComplete(e.positionAfter,t.status),o.loadQuestions()}),(function(e){o.props.setError(e.error)}))},o.loadQuestions=function(){var e=o.props,t=e.assessment,n=e.loadQuestions;o.setState((function(){return{isLoadingInProgress:!0}})),n({courseId:t.courseId,assessmentId:t.id,refreshState:!0}).then((function(){o.setState((function(){return{isLoadingInProgress:!1}}))}))},o.updateCopyQuestionsTaskPref=function(e,t){var n=o.props,a=n.assessment,s={taskId:e,questionCount:t};(0,n.saveCoursePreference)(P(a.id),JSON.stringify(s),a.courseId)},o.deleteCopyQuestionsTaskPref=function(){var e=o.props,t=e.assessment,n=e.copyQuestionTaskPref,a=e.deleteCoursePreference;n&&a({key:P(t.id),courseId:t.courseId})},o.displayAndUpdateCopyQuestionsStatusInfo=function(e,t,n){o.displayCopyQuestionsStatusInfo(e,t,n),o.setPeriodicCheckOnCopyQuestionsTaskStatus(e.taskId,t,n)},o.displayCopyQuestionsStatusInfo=function(e,n,a){if(t.hasCopyQuestionsTaskFinishedProcessing(e.taskStatus)){var s=e.results;o.displayCopyQuestionsComplete(n,s&&s.status,!1,o.dismissCopyQuestionsStatusBanner.bind(o))}else o.displayCopyQuestionsInProgress(n,a)},o.displayCopyQuestionsComplete=function(e,t,n,a){if(!o.state.notification||o.state.notification.type===d.NotificationType.Processing){var s=y.copyQuestionsResultNotification({positionAfter:e,copyStatus:t,autoDismiss:n,dismissNotification:a});o.setState((function(){return{isCopyingQuestions:!1,notification:s}}))}},o.displayCopyQuestionsInProgress=function(e,t){if(!o.state.notification||o.state.notification.type!==d.NotificationType.Processing){var n=y.processingStageNotification(e,t);o.setState((function(){return{isCopyingQuestions:!0,notification:n}}))}},o.setPeriodicCheckOnCopyQuestionsTaskStatus=function(e,t,n){o.copyQuestionsStatusInterval=setInterval((function(){o.getAndDisplayUpdatedCopyQuestionsTaskStatus(e,t,n)}),o.getCopyQuestionsStatusCheckIntervalDelay())},o.getCopyQuestionsStatusCheckIntervalDelay=function(){var e=o.props.features;return e&&!e.isProduction?t.COPY_QUESTIONS_STATUS_CHECK_INTERVAL:t.PROD_COPY_QUESTIONS_STATUS_CHECK_INTERVAL},o.getAndDisplayUpdatedCopyQuestionsTaskStatus=function(e,n,a){c.getScheduledTask(e).then((function(e){t.hasCopyQuestionsTaskFinishedProcessing(e.taskStatus)&&(o.cancelCheckCopyQuestionsStatusInterval(),o.loadQuestions()),o.displayCopyQuestionsStatusInfo(e,n,a)}))},o.cancelCheckCopyQuestionsStatusInterval=function(){clearInterval(o.copyQuestionsStatusInterval)},o.getAddMenuOptions=function(){var e=o.props,t=e.localize,n=e.features,a=e.localizationPrefix;return[{key:"newQuestionPool",iconProps:{iconName:"add",iconSize:"small"},name:t.translate("assessments.canvas.add.questionPool"),onClick:function(){return o.addQuestionPool()}},{key:"newCalculatedFormulaQuestion",iconProps:{iconName:"add",iconSize:"small"},name:t.translate(a+".canvas.add.calculatedFormula"),onClick:function(){return o.addQuestion(c.QuestionType.CalculatedFormula.toString())}},{key:"newEssayQuestion",iconProps:{iconName:"add",iconSize:"small"},name:t.translate(a+".canvas.add.essay"),onClick:function(){return o.addQuestion(c.QuestionType.Essay.toString())}},{key:"newFIMBQuestion",iconProps:{iconName:"add",iconSize:"small"},name:t.translate(a+".canvas.add.fimb"),onClick:function(){return o.addQuestion(c.QuestionType.FIMB.toString())}},{key:"newMatchingQuestion",iconProps:{iconName:"add",iconSize:"small"},name:t.translate(a+".canvas.add.matching"),onClick:function(){return o.addQuestion(c.QuestionType.Matching.toString())}},{key:"newMultipleAnswerQuestion",iconProps:{iconName:"add",iconSize:"small"},name:t.translate(a+".canvas.add.multipleAnswer"),onClick:function(){return o.addQuestion(c.QuestionType.Multiple.toString())}},{key:"newTrueFalseQuestion",iconProps:{iconName:"add",iconSize:"small"},name:t.translate(a+".canvas.add.trueFalse"),onClick:function(){return o.addQuestion(c.QuestionType.Either.toString())}},{key:"newReuseQuestion",iconProps:{iconName:"add",iconSize:"small"},name:t.translate(a+".canvas.add.reuseQuestions"),onClick:function(){return o.reuseQuestions()}},{key:"newText",iconProps:{iconName:"text",iconSize:"small"},name:t.translate(a+".canvas.add.text"),onClick:function(){return o.addPresentationOnlyQuestion(c.QuestionSubType.Text.toString())}},{key:"newFile",iconProps:{iconName:"upload-file",iconSize:"small"},name:t.translate(a+".canvas.add.localFile"),onClick:function(){return o.addPresentationOnlyQuestion(c.QuestionSubType.File.toString())}},{enabled:n&&n.kloudlessIntegration,key:"newCloudFile",iconProps:{iconName:"upload-cloud",iconSize:"small"},name:t.translate(a+".canvas.add.cloudFile"),onClick:function(){return o.addPresentationOnlyQuestion(c.QuestionSubType.CloudFile.toString())}}].filter((function(e){return!{}.hasOwnProperty.call(e,"enabled")||!0===e.enabled}))},o.hasSubmissions=function(){return!0===s.get(o.props,"assessment.hasResponses")},o.hasAssessmentModifyPermissions=function(){return!0===s.get(o.props,"assessment.permissions.modify")},o.hasRubricAssociations=function(){var e=o.props.gradebookColumn;return!!e&&!!e.rubricAssociations&&!!e.rubricAssociations.length},o.hasAnonymousGrading=function(){var e=o.props.gradebookColumn;return!!e&&!!e.anonymousGrading},o.hasPeerGrading=function(){var e=o.props.gradebookColumn;return!!e&&!!e.peerGrading&&!!e.delegatedGrading},o.hasDelegatedGrading=function(){var e=o.props.gradebookColumn;return!!e&&!!e.delegatedGrading&&!e.peerGrading},o.onToggleAddMenu=function(e,t){o.setState({addMenuTarget:e,openAddMenuIndex:t})},o.onDismissAddMenu=function(){var e=o.state,t=e.addMenuTarget,n=e.isShowingReuseQuestionPicker;-1!==e.openAddMenuIndex&&(o.setState({openAddMenuIndex:-1}),t&&!n&&t.focus())},o.onReorder=function(e,t){var n=s.findIndex(e,(function(e){return e.id===t.id})),i=a.__assign(a.__assign({},t),{positionAfter:0===n?"start":e[n-1].id});o.persistQuestion(t,i,o.props.assessment.id)},o.onQuestionEdit=function(e){o.setState((function(){return{questionBeingEditedId:e}}))},o.onQuestionMadeDirty=function(e){e!==o.state.questionBeingEditedIsDirty&&(o.props.setIsAnyQuestionDirty(e),o.setState((function(){return{questionBeingEditedIsDirty:e}})))},o.deleteQuestion=function(e){(0,o.props.deleteQuestion)(e)},o.persistQuestion=function(e,t,n){var a=o.props.persistQuestion;return Promise.resolve(a(e,t,{assessmentId:n,expand:"alignedGoals,usageCount"}))},o.state={activeQuestionPoolId:null,addMenuTarget:null,disableAssessmentSettingCallback:null,hasCopyQuestionsStatusInitialized:!1,isCopyingQuestions:!1,isLoadingInProgress:!0,isShowingQuestionPoolPanel:!1,isShowingWarningDialog:!1,openAddMenuIndex:-1,questions:[],questionBeingEditedId:null,questionBeingEditedIsDirty:!1,isShowingQuestionPoolQuestionPicker:!1,isShowingReuseQuestionPicker:!1,notification:null,warningDialogSubText:null,warningDialogTitle:null,warningDialogOnOK:null},o}return a.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.assessment,a=e.isLoadingInProgress,s=e.questions,i=this.state,o=i.hasCopyQuestionsStatusInitialized,r=i.isLoadingInProgress;this.setState((function(){return{questions:t.sortByPosition(s)}})),r&&this.setState((function(){return{isLoadingInProgress:a||!n||n.questionCount>0&&0===s.length}})),!o&&!!n&&this.setState((function(){return{hasCopyQuestionsStatusInitialized:!0}}),(function(){return t.initCopyQuestionsStatusDisplay(n)}))},t.prototype.componentWillUnmount=function(){this.cancelCheckCopyQuestionsStatusInterval()},t.prototype.shouldInsertWarningDialog=function(){return this.areQuestionsRandomized()||this.hasAnonymousGrading()||this.hasRubricAssociations()||this.isCollectExternalSubmissions()||this.hasDelegatedGrading()||this.hasPeerGrading()},t.prototype.showWarningDialog=function(e,t,n){var a=this.props.localizationPrefix;this.setState((function(){return{isShowingWarningDialog:!0,warningDialogSubText:a+".canvas.warningDialogs."+e+".subText",warningDialogTitle:a+".canvas.warningDialogs."+e+".title",warningDialogOnOK:t,disableAssessmentSettingCallback:n}}))},t.prototype.dismissCopyQuestionsStatusBanner=function(){this.setState((function(){return{notification:null}})),this.deleteCopyQuestionsTaskPref(),this.cancelCheckCopyQuestionsStatusInterval()},t.prototype.renderReuseQuestionPicker=function(){var e=this.props,t=e.assessment,n=e.courseId,a=e.features,s=e.localizationPrefix;if(!(!!t&&this.state.isShowingReuseQuestionPicker))return null;var o={assessmentId:t.id,assessmentTitle:t.title,questionPositionAfter:this.calculateQuestionPositionAfter(),showRandomizeDialog:this.areQuestionsRandomized()&&this.showRandomizeDialog};return i.default.createElement(v.default,{courseId:n,destination:o,closePanel:this.closeReuseQuestionPanel,features:a,localizationPrefix:s})},t.prototype.renderQuestionPoolQuestionPicker=function(){var e=this.props,t=e.assessment,n=e.courseId,a=e.features,s=e.localizationPrefix;if(!(!!t&&this.state.isShowingQuestionPoolQuestionPicker))return null;var o={assessmentId:t.id,assessmentTitle:t.title,questionPositionAfter:this.calculateQuestionPositionAfter()};return i.default.createElement(E.default,{courseId:n,destination:o,closePanel:this.closeQuestionPoolQuestionPicker,features:a,localizationPrefix:s})},t.prototype.renderPoolQuestionPanel=function(){var e=this.state,t=e.activeQuestionPoolId,n=e.isShowingQuestionPoolPanel;return!!this.props.assessment&&!!t&&n?i.default.createElement(b.default,{questionPoolId:t,assessmentId:this.props.assessment.id,assessmentTitle:this.props.assessment.title,closePanel:this.closeQuestionPoolPanel,courseId:this.props.courseId,hasSubmissions:this.hasSubmissions(),hasAssessmentModifyPermissions:this.hasAssessmentModifyPermissions(),openQuestionPicker:this.openQuestionPoolQuestionPicker,persistQuestion:this.persistQuestion,localizationPrefix:this.props.localizationPrefix}):null},t.prototype.render=function(){var e,t,n=this.props,a=n.assessment,s=n.content,o=n.courseId,r=n.localize,l=n.gradebookColumn,u=n.localizationPrefix,c=this.hasSubmissions(),p=this.hasAssessmentModifyPermissions(),b=this.getAddMenuOptions(),y=!this.state.isLoadingInProgress&&0===this.state.questions.length,v=u+".canvas.freeformResponse."+(a&&a.hasAnswerableQuestions?"additionalContent":"submission");return l&&l.gradebookCategory&&(t=l.gradebookCategory.title,e=l.gradebookCategory.isUserDefined?"custom":t),i.default.createElement("div",{className:"assessment-canvas-react"},y&&!this.isCollectExternalSubmissions()&&i.default.createElement("div",{className:"assessment-canvas-react assessment-canvas-react--blank"},i.default.createElement(m.default,{image:h.default,passedClass:"assessment-canvas-react--blank__image"}),i.default.createElement("h3",{className:"assessment-canvas-react--blank__title"},r.translate(u+".canvas.emptyState.header."+e,{categoryTitle:t})),i.default.createElement("div",null,r.translate(u+".canvas.emptyState.saving")),i.default.createElement("div",null,r.translate(u+".canvas.emptyState.closeToSave."+e,{categoryTitle:t}))),this.state.isLoadingInProgress&&i.default.createElement(d.Spinner,{size:d.SpinnerSize.large}),-1!==this.state.openAddMenuIndex&&i.default.createElement(d.ContextualMenu,{items:b,gapSpace:10,onDismiss:this.onDismissAddMenu,target:this.state.addMenuTarget.inlineAddButton,shouldFocusOnMount:!0,directionalHint:5,id:"assessment-canvas-add-content-menu",menuAriaLabel:r.translate(u+".canvas.add.menu")}),!this.state.isLoadingInProgress&&i.default.createElement("div",{className:"assessment-canvas-react__question-list"},0===this.state.questions.length||null==s?null:i.default.createElement("div",null,i.default.createElement("h2",{className:"assessment-canvas-react__heading"},r.translate(u+".canvas.content."+e,{categoryTitle:t})),i.default.createElement(_.default,{assessment:a,content:s,localize:r,localizationPrefix:this.props.localizationPrefix})),i.default.createElement(g.default,{courseId:o,items:this.state.questions,boundingElementId:"gradebook-item-panel-content",onReorderItem:this.onReorder,scrollContainerId:"basic-container",checkAndDisableAssessmentSettings:this.checkAndDisableAssessmentSettings,persistQuestion:this.persistQuestion,deleteQuestion:this.deleteQuestion,AddButton:this.AddButton,onQuestionEdit:this.onQuestionEdit,onQuestionMadeDirty:this.onQuestionMadeDirty,questionBeingEditedId:this.state.questionBeingEditedId,isAnyQuestionDirty:this.isAnyQuestionDirty(),hasSubmissions:c,localize:r,isLoadingInProgress:this.state.isLoadingInProgress,hasAssessmentModifyPermissions:p,openGoals:this.props.routes.openGoals,pluginsConfig:this.props.pluginsConfig,notification:this.state.notification,babelfishInstance:this.props.babelfishInstance,currentLocale:this.props.currentLocale,disableInteraction:this.state.isCopyingQuestions,openPoolQuestionPanel:this.openPoolQuestionPanel,addQuestionsToEmptyPool:this.addQuestionsToEmptyPoolFromAssessmentCanvas,localizationPrefix:this.props.localizationPrefix}),!this.isCollectExternalSubmissions()&&i.default.createElement("div",{className:"freeform-response"},i.default.createElement(f.default,{text:r.translate(v)}))),this.state.isCopyingQuestions&&i.default.createElement("div",{className:"assessment-canvas-react__questions-overlay"}),this.shouldInsertWarningDialog()&&i.default.createElement(C.default,{show:this.state.isShowingWarningDialog,onCancel:this.hideWarningDialog,onDismiss:this.hideWarningDialog,onOk:this.state.warningDialogOnOK,subText:r.translate(this.state.warningDialogSubText),title:r.translate(this.state.warningDialogTitle),key:this.state.warningDialogTitle,analyticsId:"assessmentCanvas.insertWarning"}),this.renderReuseQuestionPicker(),this.renderQuestionPoolQuestionPicker(),this.renderPoolQuestionPanel())},t.SYNC_QUESTION_COPY_LIMIT=50,t.PROD_COPY_QUESTIONS_STATUS_CHECK_INTERVAL=3e4,t.COPY_QUESTIONS_STATUS_CHECK_INTERVAL=8e3,t.propTypes={addQuestionsToPool:l.default.func.isRequired,applyAccessibilityHandling:l.default.func,assessment:l.default.object,questions:l.default.array.isRequired,content:l.default.object,courseId:l.default.string.isRequired,gradebookColumn:l.default.object,createQuestion:l.default.func.isRequired,deleteQuestion:l.default.func.isRequired,isLoadingInProgress:l.default.bool,persistQuestion:l.default.func.isRequired,persistContent:l.default.func.isRequired,persistGradebookColumn:l.default.func.isRequired,removeRubricAssociations:l.default.func.isRequired,localize:l.default.object.isRequired,currentLocale:l.default.string.isRequired,features:l.default.shape({isProduction:l.default.bool,kloudlessIntegration:l.default.bool}),pluginsConfig:l.default.object.isRequired,revertAccessibilityHandling:l.default.func,routes:l.default.object.isRequired,setIsAnyQuestionDirty:l.default.func.isRequired,babelfishInstance:l.default.object.isRequired,loadQuestions:l.default.func.isRequired,setError:l.default.func.isRequired,copyQuestionTaskPref:l.default.object,deleteCoursePreference:l.default.func.isRequired,loadCoursePreference:l.default.func.isRequired,saveCoursePreference:l.default.func.isRequired,localizationPrefix:l.default.string.isRequired},t.shouldCallCopyQuestionsQueued=function(e){return e>t.SYNC_QUESTION_COPY_LIMIT},t.hasCopyQuestionsTaskFinishedProcessing=function(e){return"COMPLETE"===e||"COMPLETE_ERRORS"===e||"INCOMPLETE"===e},t}(i.Component);t.parseCopyQuestionTaskObjFromPref=function(e){var t=e&&e.value&&JSON.parse(e.value);return s.isEmpty(t)?null:t};var A=r.connect((function(e,n){var a=s.get(n,"assessment.courseId"),i=s.get(n,"assessment.id"),o=P(i),r=c.select.coursePreference.getCoursePreferenceByKeyAndCourseId(e,o,a);return{copyQuestionTaskPref:t.parseCopyQuestionTaskObjFromPref(r)}}),(function(e){return o.bindActionCreators({addQuestionsToPool:c.actions.question.updateQuestionsInQuestionBlock,deleteCoursePreference:c.actions.coursePreference.deleteCoursePreference,loadCoursePreference:c.actions.coursePreference.loadCoursePreference,saveCoursePreference:function(e,t,n){var a={key:e,value:t,visibleToStudents:!1};return c.actions.coursePreference.persistCoursePreference(a,n)},setError:c.actions.app.setError},e)}))(R);t.UnwrappedAssessmentCanvas=R,t.default=u.localizedComponentWrapper(A)},axjr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("kBJj"),r=a.__importDefault(n("Pfoe")),l=n("p1hm"),u=n("3ZJq");n("10dR");var d=function(e){var t,n,a=e.question,i=e.answersInfo,d=e.answersInfoLabel,c=e.localize,f=e.questionTextClassName,p={},m=function(e){var t=p[e];if(t)return t;var n=e.split("-")[1],a=c.translate("assessments.canvas.question.fimb.blank",{count:n});return p[e]=a,a};return s.default.createElement("div",{className:"readonly-fimb-question"},s.default.createElement("div",{className:f},s.default.createElement(r.default,{id:a.id,plugins:[o.customClass()],bbml:(t=a,n=t.questionText.rawText,t.answers.forEach((function(e){var t=e.ident,a=p[t];if(a)n=n.replace(t,a);else{var s=m(t);n=n.replace(t,s),p[t]=s}})),n),isReadOnly:!0,refreshBbml:!0})),s.default.createElement("div",{className:"readonly-fimb-question"},s.default.createElement("div",{className:"readonly-answer__container"},s.default.createElement("span",{className:"readonly-fimb-question__instructions readonly-answer__instructions readonly-answer__main"}),i&&s.default.createElement("span",{className:"readonly-answer__info-label readonly-answer__info"},d)),a.answers.map((function(e,t){var n=e.answerValues[0],a=l.EvaluationTypeEnum[n.evaluationType].locKey,o=c.translate(a+"."+(n.caseSensitive?"readOnlyCaseSensitive":"readOnly"));return s.default.createElement("div",{key:e.ident,className:"readonly-fimb-question-answer"},s.default.createElement("div",{className:"readonly-answer__container"},s.default.createElement("div",{className:"readonly-answer__main readonly-fimb-question-answer-input"},s.default.createElement("div",{className:"readonly-fimb-question-answer-input__label"},m(e.ident)),s.default.createElement("div",{className:"readonly-fimb-question-answer-input__input-wrapper"},s.default.createElement("div",{className:"readonly-fimb-question-answer-input__answer"},e.answerValues.map((function(e){return e.value})).join(";")))),i&&s.default.createElement("div",{className:"readonly-answer__info"},i[t])),s.default.createElement("div",{className:"readonly-fimb-question-answer__description"},o))})),s.default.createElement(u.AutomatedQuestionFeedbackRead,{question:a})))};d.propTypes={question:i.default.object.isRequired,answersInfo:i.default.array,answersInfoLabel:i.default.string,localize:i.default.object.isRequired,questionTextClassName:i.default.string.isRequired},t.default=d},b0Dq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("kBJj"),s=n("aPd7");t.getFileViewerPropsArray=function(e){return s.parseFilesFromBbML(e.questionText.rawText).map((function(e){var t=e.bbfile;return{file:{resourceUrl:e.href,fileName:a.getFileNameWithTypeExtension(t.linkName,t.mimeType),render:t.render,alternativeText:t.alternativeText||t.linkName,displayInline:"inline"===t.render,displayName:t.linkName,mimeType:t.mimeType,isDecorative:t.isDecorative||!1},readOnly:!0,showContextMenu:!1}}))}},bNEL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("7Eh6")),o=a.__importDefault(n("M+qG")),r=n("leLK"),l=n("H9Ny"),u=n("GIU+");t.default=function(e){var t=e.accessCode,n=e.onAccessCodeChanged,a=s.useState(t),d=a[0],c=a[1],f=s.useState(!1),p=f[0],m=f[1],g=l.useStyles().containerClass,h=s.useCallback((function(){var e=r.generateAccessCode();c(e),n(e),m(!0),setTimeout((function(){return m(!1)}),1500)}),[n]),_=s.useCallback((function(){u.writeText(t)}),[t]);return d||h(),s.createElement("div",{className:g},s.createElement(i.default,{code:d,isNew:p}),s.createElement(o.default,{onCodeCopy:_,onCodeRefresh:h}))}},cFZT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz"));n("5NQ0");var o=function(e){var t=e.image,n=e.passedClass,a=e.presentationOnly,i=["svg-image"];return n&&i.push(n),s.default.createElement("div",{className:i.join(" "),dangerouslySetInnerHTML:{__html:t},"aria-hidden":a})};o.propTypes={image:i.default.string.isRequired,passedClass:i.default.string,presentationOnly:i.default.bool},t.default=o},cTTT:function(e,t,n){},d6RO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz"));n("0JkB");var o=function(e){var t=e.text;return s.default.createElement("div",{className:"divider-text-container"},s.default.createElement("span",null,t))};o.propTypes={text:i.default.string.isRequired},t.default=o},dn4g:function(e,t,n){},eecw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=n("JfV0"),o=n("HYHd"),r=n("uDfI"),l=a.__importDefault(n("aWzz")),u=a.__importDefault(n("3Md0")),d=function(e){return s.default.createElement(u.default,a.__assign({},e,{noResultsKeys:{title:"questionPools.emptyState.dueToFilter.header",message:"questionPools.emptyState.dueToFilter.message"},noSourcesKeys:{title:"questionPools.emptyState.dueToSource.header",message:"questionPools.emptyState.dueToSource.message"},headerKeys:{title:"questionPools.questionPickerHeader"},footerKeys:{primaryButton:"questionPools.footer.primaryButtonText",selectedCount:"questionPools.footer.selectedCount"},pageHelpKey:"questionPools.pageHelpUrl",cancelModalKeys:{title:"questionPools.cancelDialog.title",message:"questionPools.cancelDialog.subText"},searchQuestions:function(t){var n=a.__assign(a.__assign(a.__assign({},t),!t.questionTypes&&{questionTypes:o.QUESTION_POOL_SUPPORTED_QUESTION_TYPES_AS_STRINGS}),!t.assessmentIds&&{excludeAssessmentIds:[e.destination.assessmentId]});return i.searchQuestions(n)}}))};t.mapStateToProps=function(e,t){var n=i.select.assessment.getAssessmentsByCourseId(e,t.courseId),a=i.select.questionType.getQuestionTypesByCourseId(e,t.courseId);return{sources:_.filter(n,(function(e){return e.id!==t.destination.assessmentId})),questionTypes:o.getSupportedQuestionPoolQuestionTypes(a)}};var c=r.connect(t.mapStateToProps)(d);d.propTypes={closePanel:l.default.func.isRequired,courseId:l.default.string.isRequired,destination:l.default.object.isRequired,localizationPrefix:l.default.string.isRequired,questionTypes:l.default.array,sources:l.default.array},t.default=c},eoCN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("JfV0"),r=n("Vng8"),l=a.__importDefault(n("XeRt")),u=a.__importDefault(n("ZfLe")),d=function(e){function t(t){var n=e.call(this,t)||this;return n.validate=function(e,t){var n=t.answers.some((function(e){return""===e.answerText.rawText})),a=t.answers.some((function(e){return e.correctAnswer}));return!n&&a&&r.hasMultipleAnswerQuestionChanged(e,t)},n.onQuestionChange=function(e){var t=e.allowPartialCredit?a.__assign(a.__assign({},e),{answers:n.calculateAnswersPartialCreditPercentage(e.answers,e.allowNegativeScoreForIncorrectAnswers)}):a.__assign({},e);n.props.onQuestionChange(t,n.validate)},n.onAnswerChange=function(e){var t=n.props,s=t.question,i=t.hasSubmissions,o=s.answers.map((function(t){return t.id===e.id?e:t})),r=1===n.countCorrectAnswers(o),l=a.__assign(a.__assign({},s),{answers:o,singleCorrectAnswer:r});i&&r&&Object.assign(l,{allowNegativeOverallScore:!1,allowNegativeScoreForIncorrectAnswers:!1,allowPartialCredit:!1}),n.onQuestionChange(l,n.validate)},n.onAnswerAddition=function(){var e=n.props,t=e.question,s=e.setActiveEditorId,i=o.Questions.createMultipleAnswerAnswer(!1),l=a.__assign(a.__assign({},t),{answers:a.__spreadArrays(t.answers,[i])});n.onQuestionChange(l,r.hasMultipleAnswerQuestionChanged,(function(){return s(i.id)}))},n.onAnswerDeletion=function(e){var t=n.props.question,s=a.__assign(a.__assign({},t),{answers:t.answers.filter((function(t){return t.id!==e}))});n.onQuestionChange(s,r.hasMultipleAnswerQuestionChanged)},n.onScoringOptionsChange=function(e){var t=n.props.question,s=a.__assign(a.__assign({},t),e);n.onQuestionChange(s,r.hasMultipleAnswerQuestionChanged)},n.calculateAnswersPartialCreditPercentage=function(e,t){var n=e.filter((function(e){return e.correctAnswer})).length,s=parseFloat((-100/e.length).toFixed(8)),i=parseFloat((100/n).toFixed(8)),o=parseFloat((100-i*n).toFixed(8)),r=0;return e.map((function(e){var l;if(e.correctAnswer)return l=(r+=1)===n?i+o:i,a.__assign(a.__assign({},e),{partialCredit:l.toFixed(8)});if(t)return l=s,a.__assign(a.__assign({},e),{partialCredit:l.toFixed(8)});if(!t){var u=a.__assign({},e);return u.partialCredit&&delete u.partialCredit,a.__assign({},u)}return e}))},n.canDeleteAnswer=function(e){var t=n.state.correctAnswerCount;return!(n.props.question.answers.length===o.MULTIPLE_ANSWER_MINIMUM_REQUIRED_AMOUNT_OF_ANSWERS||1===t&&e.correctAnswer)},n.onReorder=function(e){var t=n.props,s=t.onQuestionChange,i=t.question;s(a.__assign(a.__assign({},i),{answers:e}),r.hasMultipleAnswerQuestionChanged)},n.state={correctAnswerCount:n.countCorrectAnswers(t.question.answers)},n}return a.__extends(t,e),t.prototype.countCorrectAnswers=function(e){return e.filter((function(e){return e.correctAnswer})).length},t.prototype.componentWillReceiveProps=function(e){var t=this;this.setState((function(){return{correctAnswerCount:t.countCorrectAnswers(e.question.answers)}}))},t.prototype.render=function(){return s.default.createElement(l.default,a.__assign({},this.props,{onReorder:this.onReorder,onQuestionChange:this.onQuestionChange,onAnswerChange:this.onAnswerChange,onAnswerAddition:this.onAnswerAddition,onAnswerDeletion:this.onAnswerDeletion,onScoringOptionsChange:this.onScoringOptionsChange,showScoringOptions:this.state.correctAnswerCount>1,canDeleteAnswer:this.canDeleteAnswer}))},t.propTypes={question:i.default.object.isRequired,onQuestionChange:i.default.func.isRequired,setActiveEditorId:i.default.func.isRequired,pluginsConfig:i.default.object.isRequired,hasSubmissions:i.default.bool.isRequired},t}(s.Component);t.MultipleAnswerContainer=d,t.default=u.default(d)},f6u1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=function(e){return s.default.createElement("p",null,"readonly essay presentation-only content: ",e.question.id)};o.propTypes={question:i.default.object.isRequired},t.default=o},fCe2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K").__importStar(n("nsO7")),s=a.memoize((function(e){var t=a.transform(e.blocks,(function(e,t){return void 0===e&&(e=[]),a.each(t.groups,(function(t){var n=a.filter(t.items,(function(e){return e.selected}));e.push(n)})),e}));return a.flatten(t)}),(function(e){return JSON.stringify(e)}));t.default=s},fSUK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("M0dR"),l=n("j92x"),u=n("JfV0"),d=n("a6r6"),c=n("/R3Y"),f=a.__importDefault(n("Pfoe")),p=n("2yjE"),m=a.__importDefault(n("W2w9"));n("umMl");var g=n("t6ux");function h(e){return null==e.answerFormulaErrorKey}function b(e){return null==e.questionTextErrorKey}function y(e){return b(e)&&h(e)}t.EMPTY_QUESTION_TEXT="questionTextEmpty",t.INVALID_VARIABLE_ERROR_KEY="questionTextInvalidVariableNameError",t.RESERVED_VARIABLE_ERROR_KEY="questionTextReservedVariableNameError",t.UNCLOSED_BRACKET_ERROR_KEY="questionTextUnclosedBracketError",t.VARIABLES_UNEDITABLE_ERROR_KEY="questionTextVariablesUneditableError",t.CLASS_PREFIX="calculated-formula-question__step-1";var v=function(e){function n(n){var s=e.call(this,n)||this;return s.wirisEditorInstance=null,s.originalAnswerFormula="",s.getFullLocalizationKey=function(e){return"assessments.canvas.question.calculatedFormula.stepOne."+e},s.getQuestionTextErrorKey=function(){var e=s.props.question.questionText.rawText;if(!e)return s.getFullLocalizationKey(t.EMPTY_QUESTION_TEXT);if(g.questionTextHasUnclosedBrackets(e))return s.getFullLocalizationKey(t.UNCLOSED_BRACKET_ERROR_KEY);var n=g.extractVariableCandidatesFromQuestionText(e);if(n.some((function(e){return g.isVariableAWirisEditorReservedWord(e)})))return s.getFullLocalizationKey(t.RESERVED_VARIABLE_ERROR_KEY);if(n.some((function(e){return g.variableNameContainsNonLetterCharacters(e)})))return s.getFullLocalizationKey(t.INVALID_VARIABLE_ERROR_KEY);var a=g.extractVariableCandidatesFromQuestionText(s.originalQuestionText);return s.props.hasSubmissions&&!_.isEqual(a,n)?s.getFullLocalizationKey(t.VARIABLES_UNEDITABLE_ERROR_KEY):null},s.handleNextStepClick=function(){var e=s.getQuestionTextErrorKey();b({questionTextErrorKey:e})?s.doesAnswerFormulaHaveVariablesWithoutDefinitions()?s.setUnrecognizedVariablesInAnswerFormulaState():s.isAnswerFormulaValidPromise().then((function(e){e?(s.setAnswerFormulaValidState(),s.setVariableSetCountIfNoVariables(),s.handleGoToNextStep()):s.setAnswerFormulaInvalidState()})):s.setState({questionTextErrorKey:e})},s.doesAnswerFormulaHaveVariablesWithoutDefinitions=function(){var e=s.props.question;return g.getUnrecognizedVariablesInAnswerFormula(e.answerFormula,e.variableDefinitions).length>0},s.setUnrecognizedVariablesInAnswerFormulaState=function(){var e=s.props.question,t=g.getUnrecognizedVariablesInAnswerFormula(e.answerFormula,e.variableDefinitions);s.setState({answerFormulaErrorKey:s.getFullLocalizationKey("unrecognizedVariablesInFormula"),answerFormulaErrorKeyParams:{variablesCount:t.length,variables:t}})},s.setVariableSetCountIfNoVariables=function(){g.doesQuestionHaveVariables(s.props.question)||s.props.onQuestionChange({variableSetCount:u.CALCULATED_FORMULA_ANSWER_SET_COUNT_WITH_NO_VARIABLES})},s.setAnswerFormulaValidState=function(){s.setState({answerFormulaErrorKey:null,answerFormulaErrorKeyParams:null})},s.setAnswerFormulaInvalidState=function(){s.setState({answerFormulaErrorKey:s.getFullLocalizationKey("invalidFormula"),answerFormulaErrorKeyParams:{}})},s.isAnswerFormulaValidPromise=function(){var e=s.props,t=e.courseId,n=e.question,a=g.doesQuestionHaveVariables(n)?g.generateVariableValues(n.variableDefinitions):{};return u.evaluateMathML(t,n.answerFormula,a).then((function(){return!0}),(function(){return!1}))},s.handleGoToNextStep=function(){s.generateNewMathMLImage(),s.props.onGoToNextStep()},s.generateNewMathMLImage=function(){var e=s.props,t=e.courseId,n=e.onQuestionChange,a=e.question;null!=a.mathMLImageURL&&a.answerFormula===s.originalAnswerFormula||(s.originalAnswerFormula=a.answerFormula,u.getMathMLToImageURL(a.answerFormula,{courseId:t,expand:"mathMLImageAltText"}).then((function(e){n({mathMLImageURL:e.mathMLImageURL,mathMLImageAltText:e.mathMLImageAltText})})))},s.handleQuestionTextChange=function(e){s.props.onQuestionChange({questionText:{rawText:e.toBbML()}})},s.handleQuestionTextBlur=function(){var e=s.getQuestionTextErrorKey();s.setState({questionTextErrorKey:e}),b({questionTextErrorKey:e})&&s.updateVariableDefinitionsFromQuestionText()},s.updateVariableDefinitionsFromQuestionText=function(){var e=s.props,t=e.onQuestionChange,n=e.question;t({variableDefinitions:g.extractVariableCandidatesFromQuestionText(n.questionText.rawText).map((function(e){var t=n.variableDefinitions.findIndex((function(t){return t.name===e}));return t>-1?a.__assign({},n.variableDefinitions[t]):g.getVariableDefinitionFromCandidate(e)}))})},s.handleMathEditorLoad=function(e){s.wirisEditorInstance=e,d.WirisEditorInstanceUtils.attachContentChangeListener(e,s.handleMathEditorChange),d.WirisEditorInstanceUtils.enableReservedWords(e),s.updateReservedWordsInMathEditor()},s.handleMathEditorChange=function(e){!s.hasMathEditorSetInitialValue&&s.originalAnswerFormula||s.props.onQuestionChange({answerFormula:e}),e===s.originalAnswerFormula&&(s.hasMathEditorSetInitialValue=!0)},s.updateReservedWordsInMathEditor=function(){var e=s.props.question;d.WirisEditorInstanceUtils.setReservedWords(s.wirisEditorInstance,g.getVariablesFromVariableDefinitions(e.variableDefinitions))},s.handleMathEditorError=function(e){console.error(e)},s.toggleDisplayFormulaToStudent=function(e){s.props.onQuestionChange({displayFormulaToStudent:e.target.checked})},s.originalAnswerFormula=n.question.answerFormula,s.originalQuestionText=n.question.questionText.rawText,s.hasMathEditorSetInitialValue=!1,s.state={answerFormulaDirty:!1,answerFormulaErrorKey:null,answerFormulaErrorKeyParams:null,questionTextDirty:!1,questionTextErrorKey:null},s}return a.__extends(n,e),n.prototype.componentDidMount=function(){this.props.onValidate(y(this.state))},n.prototype.componentDidUpdate=function(e,t){var n=e.question,a=this.props.question;(this.wirisEditorInstance&&g.haveVariablesChanged(n.variableDefinitions,a.variableDefinitions)&&(this.updateReservedWordsInMathEditor(),this.setState({questionTextDirty:!0})),n.questionText.rawText!==a.questionText.rawText)&&(b({questionTextErrorKey:this.getQuestionTextErrorKey()})||this.setState({questionTextDirty:!0}));n.answerFormula!==a.answerFormula&&this.setState({answerFormulaDirty:a.answerFormula!==this.originalAnswerFormula}),t.answerFormulaDirty===this.state.answerFormulaDirty&&t.questionTextDirty===this.state.questionTextDirty||this.props.onAnswerSetsRelatedFieldDirty(this.state.answerFormulaDirty||this.state.questionTextDirty),y(t)!==y(this.state)&&this.props.onValidate(y(this.state))},n.prototype.render=function(){var e=this.props,n=e.activeEditorId,a=e.currentLocale,i=e.disableFocus,o=e.editorPlugins,_=e.localize,y=e.pluginsConfig,v=e.question,E=e.questionTitle,C=e.refreshBbml,w=e.setActiveEditorId,S=this.state,P=S.answerFormulaErrorKey,R=S.answerFormulaErrorKeyParams,A=S.questionTextErrorKey,T=_.translate("assessments.canvas.question.placeholder.question",{questionTitle:E||""}),q=""+p.QUESTION_TITLE_ID_PREFIX+v.id,I="math-editor"+v.id;return s.default.createElement("div",{className:""+t.CLASS_PREFIX},s.default.createElement("div",{className:t.CLASS_PREFIX+"__question-text-heading"},s.default.createElement(r.AnalyticsTypography,{component:"label",variant:"h4",htmlFor:"bb-editor"+v.id,required:!0},_.translate("assessments.canvas.question.calculatedFormula.stepOne.questionTextTitle")),s.default.createElement(r.AnalyticsTypography,{component:"div",variant:"body1",className:t.CLASS_PREFIX+"__question-field-instructions"},_.translate("assessments.canvas.question.calculatedFormula.stepOne.questionTextInstructions"))),s.default.createElement("div",{className:t.CLASS_PREFIX+"__question-text-container"},s.default.createElement(f.default,{activeEditorId:n,ariaLabelledBy:q,ariaRequired:!0,bbml:v.questionText.rawText,disableFocus:i,id:v.id,isReadOnly:!1,keepToolbarVisible:!1,onChange:this.handleQuestionTextChange,placeholder:T,plugins:o,pluginsConfig:y,refreshBbml:C,setActiveEditorId:w,onBlur:this.handleQuestionTextBlur,errorMessage:_.translate(A)})),s.default.createElement("div",{className:t.CLASS_PREFIX+"__question-formula-heading"},s.default.createElement(r.AnalyticsTypography,{component:"label",variant:"h4",htmlFor:I,required:!0},_.translate("assessments.canvas.question.calculatedFormula.stepOne.questionFormulaTitle")),s.default.createElement(r.AnalyticsTypography,{component:"div",variant:"body1",className:t.CLASS_PREFIX+"__question-field-instructions"},_.translate("assessments.canvas.question.calculatedFormula.stepOne.questionFormulaInstructions"))),s.default.createElement("div",{className:t.CLASS_PREFIX+"__formula-editor-container",id:I},s.default.createElement(d.MathEditor,{apiBasePath:u.getAbsoluteApiBaseURL(),className:c.removeExtraWhitespace("\n                            "+t.CLASS_PREFIX+"__formula-editor\n                            "+(h(this.state)?"":t.CLASS_PREFIX+"__formula-editor--error")+"\n                        "),initialMathML:v.answerFormula,locale:a,onLoad:this.handleMathEditorLoad,onError:this.handleMathEditorError}),!h(this.state)&&s.default.createElement("span",{className:t.CLASS_PREFIX+"__formula-error"},_.translate(P,R,{noWrap:!0}))),s.default.createElement(l.Checkbox,{analyticsId:g.ANALYTICS_ID_PREFIX+".displayFormulaToStudents",checked:v.displayFormulaToStudent,onChange:this.toggleDisplayFormulaToStudent,label:_.translate("assessments.canvas.question.calculatedFormula.stepOne.displayFormulaLabel")}),s.default.createElement(m.default,{analyticsId:g.ANALYTICS_ID_PREFIX+".stepOne",showBack:!1,showNext:!0,isNextDisabled:!b(this.state),onNextClick:this.handleNextStepClick}))},n}(s.default.Component);t.BaseCalculatedFormulaQuestionEditStepOne=v,v.propTypes={activeEditorId:i.default.string,courseId:i.default.string.isRequired,currentLocale:i.default.string,disableFocus:i.default.bool,editorPlugins:i.default.array,hasSubmissions:i.default.bool.isRequired,localize:i.default.object,onAnswerSetsRelatedFieldDirty:i.default.func.isRequired,onGoToNextStep:i.default.func.isRequired,onQuestionChange:i.default.func.isRequired,onValidate:i.default.func.isRequired,pluginsConfig:i.default.object.isRequired,question:i.default.object.isRequired,questionTitle:i.default.string,refreshBbml:i.default.bool.isRequired,setActiveEditorId:i.default.func.isRequired},t.default=o.localizedComponentWrapper(v)},fTte:function(e,t,n){},gKi8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("D57K");n("2cC3");const s=n("ggb3"),i=n("h9IM");class o{constructor(e){if(o.isWirisLoaded&&o.apiBasePathUsedForLoading!==e)throw Error(`WIRIS editor source already loaded from ${o.apiBasePathUsedForLoading}. Cannot load from ${e}`);this.apiBasePath=e}newInstance(e){return a.__awaiter(this,void 0,void 0,(function*(){if(o.isWirisLoaded)return Promise.resolve(o.getNewInstance(e));const t=yield this.getConfiguration(),n=(yield o.getConfigurationjs(t.data.contextPath)).data.editorUrl;return this.loadWirisJS(n,e)}))}convertToAbsoluteUrl(e){return`${this.apiBasePath}${e}`}getConfiguration(){const e=this.convertToAbsoluteUrl("/v1/editor/v4/configurations");return s.default.get(e)}static getConfigurationjs(e){return s.default.get(`${e}app/configurationjs`)}static getNewInstance(e){const t=e?Object.assign({},e):{language:"en"};return null!=t.mml&&t.mml.trim()||delete t.mml,t.language||(t.language="en"),com.wiris.jsEditor.JsEditor.newInstance(t)}loadWirisJS(e,t){return new Promise((n,a)=>i(e,()=>{try{o.apiBasePathUsedForLoading=this.apiBasePath,o.isWirisLoaded=!0,n(o.getNewInstance(t))}catch(e){o.isWirisLoaded=!1,a(e)}}))}}t.WirisService=o,o.apiBasePathUsedForLoading="",o.isWirisLoaded=!1},gTAB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={INACTIVE:0,isInactive:function(e){return this.INACTIVE===e},ACTIVE:1,isActive:function(e){return this.ACTIVE===e}}},gYi3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("Agfx");t.useStyles=a.makeStyles(e=>a.createStyles({mathEditor:{"& .wrs_editor":{[e.breakpoints.down("sm")]:{whiteSpace:"normal","& .wrs_multipleRowPanel":{minHeight:"66px",height:"auto"},"& .wrs_toolbar .wrs_header":{width:"calc(100% - 18px)","& button":{marginLeft:0,marginRight:"4px"}}}}}}))},gZ3u:function(e,t,n){},"ghX/":function(e,t,n){},"gk+Q":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=n("kBJj"),i=n("JfV0");function o(e,t){return{bbtype:"attachment",href:e,bbfile:JSON.stringify(t)}}t.convertSettingsToBbfile=function(e){return{alternativeText:e.alternativeText,isDecorative:e.isDecorative,linkName:e.displayName,mimeType:e.mimeType,displayInline:e.displayInline,render:e.render}},t.prepareFileMetadata=o,t.uploadFiles=function(e){var t=[a.__assign({apiBasePath:i.config.apiBasePath,xsrfToken:i.config.xsrf},e)];return e.openKloudlessModal&&t.push(e.openKloudlessModal,"kloudless"),s.uploadWorkflow.apply(void 0,t).then((function(e){return e.map((function(e){return o(e.href,e.bbfile)}))}))}},gvex:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("+oLC"),l=n("M0dR"),u=n("t6Ia"),d=n("WBPx"),c=n("Begd"),f=n("XBaz"),p=n("JfV0"),m=n("E1pj"),g=n("t6ux"),h=n("9tRF"),b=a.__importDefault(n("W2w9")),y=a.__importDefault(n("Pfoe")),v=a.__importDefault(n("7fK4"));n("jiD7"),t.CLASS_PREFIX="calculated-formula-question__step-3";var E="assessments.canvas.question.calculatedFormula.stepThree";function C(e){var t=e.question;return h.isVariableSetsValid(t)}var w=function(e){function n(n){var i=e.call(this,n)||this;return i.closeTablePanel=function(){i.setState({isTablePanelOpen:!1})},i.renderRecalculateButton=function(){var e=i.props,n=e.hasSubmissions,a=e.localize,o={};return e.isRecalculatingVariableSets?s.default.createElement(d.AnalyticsOutlineButton,{className:t.CLASS_PREFIX+"__calculate-button",disabled:!0,style:o,analyticsId:g.ANALYTICS_ID_PREFIX+".stepThree.calculateButton.outlineButton"},s.default.createElement(c.Spinner,{size:c.SpinnerSize.small}),s.default.createElement("span",{className:t.CLASS_PREFIX+"__calculate-button-label "+t.CLASS_PREFIX+"__calculate-button-label--loading"},a.translate(E+".calculateButtonLoadingState"))):s.default.createElement(d.AnalyticsOutlineButton,{className:t.CLASS_PREFIX+"__calculate-button",disabled:n,onClick:i.calculateMultipleRows,style:o,analyticsId:g.ANALYTICS_ID_PREFIX+".stepThree.calculateButton.outlineButton"},s.default.createElement(f.Refresh,null),s.default.createElement("span",{className:t.CLASS_PREFIX+"__calculate-button-label"},a.translate(E+".calculateButton")))},i.calculateMultipleRows=function(){var e=i.props;(0,e.calculateMultipleRows)(e.question.variableSets),i.props.resetDirtyRowMap()},i.renderTable=function(){var e=i.props,n=e.hasSubmissions,a=e.localize,o=e.question,r=e.isRecalculatingVariableSets,l=e.repopulateTable;return s.default.createElement("div",{className:t.CLASS_PREFIX+"__table-wrapper"},s.default.createElement("div",{className:t.CLASS_PREFIX+"__table-buttons"},s.default.createElement(u.DefaultButton,{analyticsId:g.ANALYTICS_ID_PREFIX+".stepThree.repopulateAnswers.defaultButton",className:t.CLASS_PREFIX+"__repopulate-button",disabled:r||n,onClick:l},a.translate(E+".repopulateButton")),i.renderRecalculateButton()),s.default.createElement(v.default,{correctAnswerTolerance:o.correctAnswerTolerance,calculateRow:i.calculateRow,dirtyRowMap:i.props.dirtyRowMap,disabled:n,isExponential:o.correctAnswerFormat===p.CalculatedFormulaAnswerFormatType.Exponential,isRecalculatingVariableSets:r,roundToSignificantFigures:o.correctAnswerPrecision===p.CalculatedFormulaAnswerPrecisionType.SignificantFigures,scale:o.answerScale,unitsText:o.units&&o.units.unitsRequired?o.units.unitValue:null,updateVariableValue:i.updateVariableValue,variableSets:o.variableSets}))},i.renderOpenTablePanelButton=function(){var e=i.props.localize;return s.default.createElement("div",{className:t.CLASS_PREFIX+"__preview-answer-sets-button-container"},s.default.createElement(u.DefaultButton,{analyticsId:g.ANALYTICS_ID_PREFIX+".stepThree.mobile.previewAnswerSets.defaultButton",onClick:function(){i.setState({isTablePanelOpen:!0})}},e.translate(E+".previewAnswerSets")))},i.renderNoVariableAnswer=function(){var e=i.props,n=e.localize,a=e.question,o=a.correctAnswerTolerance,r=a.units,u=a.variableSets,d=g.getCorrectAnswerToleranceType(o),c=g.getCorrectAnswerToleranceValue(o),f=E+".answer",p=g.getAnswerTranslationKey(f,d,c,r.unitValue);p=null==p?f+".plain":p;var m=n.translate(p,{answer:u[0].answer,unitValue:r.unitValue,answerToleranceValue:c});return s.default.createElement(s.default.Fragment,null,s.default.createElement(l.AnalyticsTypography,{component:"h4",variant:"h4"},n.translate(E+".variableValueTable.answer")),s.default.createElement("div",{className:t.CLASS_PREFIX+"__answer"},m))},i.renderAnswerData=function(){var e=i.props.UltraWindowSize.isSmallBreakpoint();return g.doesQuestionHaveVariables(i.props.question)?e?i.renderOpenTablePanelButton():i.renderTable():i.renderNoVariableAnswer()},i.renderTablePanel=function(){var e=i.props,n=e.localize,a=e.UltraWindowSize,o=i.state.isTablePanelOpen;if(!g.doesQuestionHaveVariables(i.props.question))return null;var l=a.isSmallBreakpoint();return s.default.createElement(r.BbPanel,{analyticsId:g.ANALYTICS_ID_PREFIX+".mobile.previewAnswerSetsPanel.bbPanel",className:t.CLASS_PREFIX+"__answerSetsPanel",excludeContentPadding:!0,isOpen:o&&l,onDismiss:i.closeTablePanel,type:r.BbPanelType.peek},s.default.createElement(r.BbPanelHeader,{analyticsId:g.ANALYTICS_ID_PREFIX+".mobile.previewAnswerSetPanel.header",title:n.translate(E+".previewAnswerSetsPanel.title")}),i.renderTable(),s.default.createElement(r.BbPanelFooter,{analyticsId:g.ANALYTICS_ID_PREFIX+".mobile.previewAnswerSetPanel.bbPanelFooter",primaryButtonProps:{text:n.translate(E+".previewAnswerSetsPanel.saveAndClose"),onClick:i.closeTablePanel}}))},i.calculateRow=function(e){var t=i.props,n=t.courseId,a=t.question,s=_.find(a.variableSets,(function(t){return t.ident===e}));p.evaluateMathML(n,a.answerFormula,s.variableValues).then((function(t){i.updateCalculatedRow(e,t.result)}),(function(){i.updateCalculatedRow(e,null)}))},i.updateCalculatedRow=function(e,t){var n=i.props,s=n.onQuestionChange,o=n.question,r=o.variableSets.map((function(n){return n.ident===e?a.__assign(a.__assign({},n),{answer:g.roundWithPrecision(t,o.answerScale,o.correctAnswerFormat,o.correctAnswerPrecision)}):n}));i.props.updateDirtyRowMapValue(e,!1),s({variableSets:r})},i.updateVariableValue=function(e,t,n){var s=i.props,o=s.question,r=s.onQuestionChange,l=o.variableSets.map((function(s){var i;return s.ident===e?a.__assign(a.__assign({},s),{variableValues:a.__assign(a.__assign({},s.variableValues),(i={},i[t]=n,i))}):s}));i.props.updateDirtyRowMapValue(e,!0),r({variableSets:l})},i.state={isTablePanelOpen:!1},i}return a.__extends(n,e),n.prototype.componentDidUpdate=function(e){C(e)!==C(this.props)&&this.props.onValidate(C(this.props))},n.prototype.render=function(){var e=this.props,n=e.localize,a=e.question;return s.default.createElement("div",{className:t.CLASS_PREFIX},this.renderTablePanel(),s.default.createElement("div",{className:t.CLASS_PREFIX+"__preview-question"},s.default.createElement(l.AnalyticsTypography,{component:"h4",variant:"h4"},n.translate(E+".previewQuestion.questionTextTitle")),s.default.createElement(y.default,{bbml:a.questionText.rawText,id:a.id+"-preview",isReadOnly:!0}),s.default.createElement(l.AnalyticsTypography,{component:"h4",variant:"h4"},n.translate(E+".previewQuestion.answerFormulaTitle")),s.default.createElement("img",{className:t.CLASS_PREFIX+"__formula-image",src:a.mathMLImageURL,alt:a.mathMLImageAltText})),this.renderAnswerData(),s.default.createElement(b.default,{analyticsId:g.ANALYTICS_ID_PREFIX+".stepThree",showBack:!0,onBackClick:this.props.onGoBackStep,showNext:!1}))},n.propTypes={calculateMultipleRows:i.default.func.isRequired,courseId:i.default.string.isRequired,dirtyRowMap:i.default.object.isRequired,hasSubmissions:i.default.bool.isRequired,isRecalculatingVariableSets:i.default.bool.isRequired,localize:i.default.object,onGoBackStep:i.default.func.isRequired,onQuestionChange:i.default.func.isRequired,onValidate:i.default.func.isRequired,question:i.default.object.isRequired,repopulateTable:i.default.func.isRequired,resetDirtyRowMap:i.default.func.isRequired,UltraWindowSize:i.default.object,updateDirtyRowMapValue:i.default.func.isRequired},n}(s.Component);t.BaseCalculatedFormulaQuestionEditStepThree=w;var S=m.windowResizingResponsiveComponentWrapper(w);t.default=o.localizedComponentWrapper(S)},h2mW:function(e,t,n){},hQsI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Lk6F");t.default=a.default,t.QuestionPoolPanel=a.QuestionPoolPanel},hp7Q:function(e,t,n){},in1o:function(e,t,n){},j9WP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("JfV0"),r=a.__importDefault(n("5Hnx")),l=a.__importDefault(n("5aOz")),u=a.__importDefault(n("FwPp")),d=a.__importDefault(n("E8Oa")),c=a.__importDefault(n("eoCN")),f=a.__importDefault(n("wNNv")),p=n("1Qsi"),m=a.__importDefault(n("7UBu")),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderQuestion=function(){switch(t.props.question.questionType){case o.QuestionType.Either.toString():return s.default.createElement(m.default,a.__assign({},t.props));case o.QuestionType.Essay.toString():return s.default.createElement(l.default,a.__assign({},t.props));case o.QuestionType.FIMB.toString():return s.default.createElement(u.default,a.__assign({},t.props));case o.QuestionType.PresentationOnly.toString():return s.default.createElement(f.default,a.__assign({},t.props));case o.QuestionType.Matching.toString():return s.default.createElement(d.default,a.__assign({},t.props));case o.QuestionType.Multiple.toString():return s.default.createElement(c.default,a.__assign({},t.props));case o.QuestionType.QuestionBlock.toString():return s.default.createElement(p.QuestionBlockQuestion,a.__assign({},t.props));case o.QuestionType.CalculatedFormula.toString():return s.default.createElement(r.default,a.__assign({},t.props));default:return null}},t}return a.__extends(t,e),t.prototype.render=function(){return this.renderQuestion()},t.propTypes={courseId:i.default.string.isRequired,questionBeingEditedId:i.default.string,isAnyQuestionDirty:i.default.bool.isRequired,onQuestionEdit:i.default.func.isRequired,onQuestionMadeDirty:i.default.func.isRequired,deleteQuestion:i.default.func.isRequired,persistQuestion:i.default.func.isRequired,alignedGoals:i.default.array,question:i.default.object.isRequired,questionTitle:i.default.string,hasSubmissions:i.default.bool.isRequired,openGoals:i.default.func.isRequired,pluginsConfig:i.default.object.isRequired,onQuestionEditCancel:i.default.func,focusTitle:i.default.bool,addQuestionsToEmptyPool:i.default.func,localizationPrefix:i.default.string.isRequired,showFeatureAnnouncement:i.default.object},t}(s.Component);t.default=g},jJem:function(e,t,n){},jLgm:function(e,t,n){},"jPx/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=n("JfV0");t.reusableAnswers=function(e){return e.prompts.filter((function(e){return!e.reusesAnswer})).filter((function(t){return e.answers[t.matchingAnswerIndex]&&""!==e.answers[t.matchingAnswerIndex].answerText.rawText})).map((function(t){return e.answers[t.matchingAnswerIndex]}))},t.answerIdToPromptIndexMap=function(e){var t={};return e.prompts.forEach((function(n,a){if(!n.reusesAnswer&&null!=n.matchingAnswerIndex){var s=e.answers[n.matchingAnswerIndex];s&&(t[s.ui.id]=a)}})),t},t.removeAnswerFromQuestion=function(e,t){var n=e.prompts.map((function(e){return e.matchingAnswerIndex>t?a.__assign(a.__assign({},e),{matchingAnswerIndex:e.matchingAnswerIndex-1}):e}));return a.__assign(a.__assign({},e),{prompts:n,answers:a.__spreadArrays(e.answers.slice(0,t),e.answers.slice(t+1))})},t.removePairFromQuestion=function(e,t){var n=e.prompts,i=e.answers,o=n.findIndex((function(e){return e.id===t})),r=n[o],l=r.matchingAnswerIndex,u=a.__spreadArrays(i),d=n.filter((function(e){return e.id!==t}));return r.reusesAnswer||(u=a.__spreadArrays(u.slice(0,l),u.slice(l+1)),d=d.map((function(e){return e.reusesAnswer&&e.matchingAnswerIndex===l?(u.push(s.Questions.createMatchingAnswer(!1)),a.__assign(a.__assign({},e),{reusesAnswer:!1,matchingAnswerIndex:u.length-1})):e.matchingAnswerIndex>l?a.__assign(a.__assign({},e),{matchingAnswerIndex:e.matchingAnswerIndex-1}):e}))),a.__assign(a.__assign({},e),{prompts:d,answers:u})},t.isPairReused=function(e,t){var n=e.prompts.find((function(e){return e.id===t}));return!n.reusesAnswer&&e.prompts.findIndex((function(e){return!0===e.reusesAnswer&&e.matchingAnswerIndex===n.matchingAnswerIndex}))>-1},t.getAnswerEditorId=function(e){return"answer-"+e}},jZ9E:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("JfV0"),l=a.__importDefault(n("1XAg")),u=a.__importDefault(n("SIAs")),d=a.__importDefault(n("axjr")),c=a.__importDefault(n("UunF")),f=a.__importDefault(n("NPG5")),p=a.__importDefault(n("z01z")),m=a.__importDefault(n("f6u1")),g=a.__importDefault(n("mWAU"));n("RW+D");var h=function(e){return s.default.createElement("div",{className:"readonly-question-component-react"},s.default.createElement(g.default,a.__assign({},e.questionHeaderProps)),function(){var t=a.__assign(a.__assign({},e),{questionTextClassName:"readonly-question-component-react__question-text"});switch(e.question.questionType){case r.QuestionType.CalculatedFormula.toString():return s.default.createElement(l.default,a.__assign({},t));case r.QuestionType.Either.toString():return s.default.createElement(p.default,a.__assign({},t));case r.QuestionType.Essay.toString():return s.default.createElement(u.default,a.__assign({},t));case r.QuestionType.FIMB.toString():return s.default.createElement(d.default,a.__assign({},t));case r.QuestionType.PresentationOnly.toString():return s.default.createElement(m.default,a.__assign({},t));case r.QuestionType.Matching.toString():return s.default.createElement(c.default,a.__assign({},t));case r.QuestionType.Multiple.toString():return s.default.createElement(f.default,a.__assign({},t));default:return null}}())};h.propTypes={answersInfo:i.default.array,answersInfoLabel:i.default.string,hideDistractors:i.default.bool,question:i.default.object.isRequired,questionHeaderProps:i.default.object.isRequired},t.default=o.localizedComponentWrapper(h)},jiD7:function(e,t,n){},juaI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("+49V"),l=n("HAQq"),u=a.__importDefault(n("gTAB"));n("Udwz"),t.QuestionPoolQuestionHeader=function(e){return u.default.isActive(e.editMode)?s.default.createElement(r.QuestionPoolQuestionHeaderEditMode,a.__assign({},e)):s.default.createElement(l.QuestionPoolQuestionHeaderReadMode,a.__assign({},e))},t.QuestionPoolQuestionHeader.propTypes={editMode:i.default.number.isRequired,hasSubmissions:i.default.bool.isRequired,hasAssessmentModifyPermissions:i.default.bool.isRequired,deleteQuestion:i.default.func.isRequired,overflowMenuButtonLabelData:i.default.object.isRequired},t.default=o.localizedComponentWrapper(t.QuestionPoolQuestionHeader)},kEUO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("ERkP"),s=n("MC1S"),i=n("In+A"),o=n("/c8U");t.default=e=>{const{componentKey:t}=e,[n,r]=o.default(i.guidanceManager,i.guidanceConnector,t);return n?a.createElement(s.TeachingBubble,Object.assign({onDismiss:r},e)):null}},kPPX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("8unJ"),l=n("caKH"),u=n("5rx+"),d=function(e){var t=e.hidden,n=e.localize,a=e.onCancel,i=e.onContinue,r=e.titleKey,u=e.textKey,d=e.cancelKey,c=e.continueKey,f=e.analyticsId;return s.default.createElement(l.UltraModalDialog,{hidden:t,onDismiss:a,dialogContentProps:{type:o.DialogType.normal,title:n.translate(r),subText:n.translate(u),showCloseButton:!0},modalProps:{isBlocking:!1}},s.default.createElement(o.DialogFooter,null,s.default.createElement(o.DefaultButton,{onClick:a,text:n.translate(d),analyticsId:f+".simpleDialog.defaultButton.cancel.button"}),s.default.createElement(o.PrimaryButton,{onClick:i,text:n.translate(c),analyticsId:f+".simpleDialog.defaultButton.continue.button"})))};d.propTypes=a.__assign({hidden:i.default.bool.isRequired,localize:i.default.object,onCancel:i.default.func.isRequired,onContinue:i.default.func.isRequired,titleKey:i.default.string.isRequired,textKey:i.default.string.isRequired,cancelKey:i.default.string.isRequired,continueKey:i.default.string.isRequired},u.addAnalyticsProps),t.UnwrappedSimpleDialog=d,t.default=r.localizedComponentWrapper(d)},la2Y:function(e,t,n){},lcFE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=n("Begd"),i=n("Zwiy"),o=n("myse"),r=n("pNgc"),l=a.__importDefault(n("ERkP")),u=a.__importStar(n("nsO7")),d=a.__importDefault(n("aWzz")),c=n("JfV0"),f=n("9OUN"),p=n("uDfI"),m=n("8unJ"),g=a.__importDefault(n("nUPs")),h=a.__importDefault(n("/oLw")),_=a.__importDefault(n("Oyt1")),b=a.__importDefault(n("IUzX")),y=a.__importDefault(n("VE9O")),v=n("5rx+");n("7Pdu");var E=n("X3OV"),C=function(e){function t(){var n=e.call(this)||this;return n.buildCriteriaConfig=function(){var e={blocks:[],onSetKeywords:n.onSetKeywords,selectedKeywords:n.state.selectedFilterCriteria.keywords,isKeywordExpanded:!0};e.blocks.push(n.buildSourcesBlock()),e.blocks.push(n.buildQuestionTypesBlock());var t=n.buildTagsBlock();return t&&e.blocks.push(t),e},n.buildSourcesBlock=function(){var e,t,a={name:n.props.localize.translate("questionPicker.filterPanel.sources.header"),id:"sources",expanded:!0,groups:[]},s=n.getSourcesWithQuestions(),i=(e=u.orderBy(s,"type","asc"),t=u.groupBy(e,"type"),u.transform(t,(function(e,t,n){e[n.toLowerCase()]=u.orderBy(t,"id")})));return u.keys(i).forEach((function(e){var t={id:e,name:n.props.localize.translate("questionPicker.filterPanel.sources.type."+e),items:[],onSelect:n.onSelectSource};i[e].forEach((function(a){if(a.type.toLowerCase()===e){var s={id:a.id,name:a.title,selected:u.includes(n.state.selectedFilterCriteria.sourceIds,a.id)};t.items.push(s)}})),a.groups.push(t),a.groups.sort((function(e){return"test"===e.id?-1:1}))})),a},n.buildTagsBlock=function(){var e=n.props.tags;if(!u.isEmpty(e)){var t={name:n.props.localize.translate("questionPicker.filterPanel.tags.header"),id:"tags",expanded:!1,groups:[]};return e.forEach((function(e){var a,s,i={id:e.id,name:e.title,selected:u.includes(n.state.selectedFilterCriteria.tagIds,e.id)};(a=e.type,s=u.find(t.groups,{id:a}),s||(s={id:a,name:n.props.localize.translate("questionPicker.filterPanel.tags.type."+a),items:[],onSelect:n.onSelectTag},t.groups.push(s)),s).items.push(i)})),t.groups.forEach((function(e){e.items=u.sortBy(e.items,["name"])})),t.groups=u.sortBy(t.groups,["name"]),t}return null},n.buildQuestionTypesBlock=function(){var e={id:"types",name:"",items:[],onSelect:n.onSelectQuestionType};return n.props.questionTypes.forEach((function(t){var a=t.key,s="presentation"===a?"other":a,i={id:a,name:n.props.localize.translate("questionPicker.typeLabels."+s),selected:u.includes(n.state.selectedFilterCriteria.questionTypes,a)};e.items.push(i)})),e.items=u.sortBy(e.items,["name"]),{name:n.props.localize.translate("questionPicker.filterPanel.questionTypes.header"),id:"types",expanded:!1,groups:[e]}},n.hasPresentationQuestionsSelected=function(){return u.keys(n.state.selectedQuestions).some((function(e){var t=n.state.questions.find((function(t){return t.id===e}));return t&&t.questionType===c.QuestionType.PresentationOnly.value}))},n.hasNonPresentationQuestionsSelected=function(){return u.keys(n.state.selectedQuestions).some((function(e){var t=n.state.questions.find((function(t){return t.id===e}));return t&&t.questionType!==c.QuestionType.PresentationOnly.value}))},n.reuseQuestions=function(){var e=n.props.destination,t=e.assessmentId,s=e.questionPositionAfter,i=e.showRandomizeDialog,o=n.state,r=o.selectedQuestions,l=o.deselectedQuestions,d=o.isSelectAllQuestions,c={courseId:n.props.courseId,assessmentId:t,positionAfter:s,selectAll:d};if(d){var f=u.keys(l),p=f.length;c=a.__assign(a.__assign(a.__assign({},c),{searchCriteria:n.generateSearchCriteriaParam()}),p&&{excludeIds:f})}else c=a.__assign(a.__assign({},c),{questionIds:u.keys(r)});var m=function(){return n.props.closePanel(c,n.getSelectedQuestionCount())};i&&n.hasPresentationQuestionsSelected()?i(m):m()},n.cancel=function(){return n.areQuestionsSelected()?(n.showCancelConfirmationDialog(),!1):(n.props.closePanel(),!0)},n.areQuestionsSelected=function(){return u.size(n.state.selectedQuestions)>0},n.showCancelConfirmationDialog=function(){n.setState((function(){return{isShowingCancelConfirmationDialog:!0}}))},n.hideCancelConfirmationDialog=function(){n.setState((function(){return{isShowingCancelConfirmationDialog:!1}}))},n.onSelectSource=function(e,t){n.onSelectFilterOption("sourceIds",e,t)},n.onSelectTag=function(e,t){n.onSelectFilterOption("tagIds",e,t)},n.onSelectQuestionType=function(e,t){n.onSelectFilterOption("questionTypes",e,t)},n.onSelectFilterOption=function(e,t,s){n.state.isSelectAllQuestions&&n.onClearAllQuestionSelection(),n.setState((function(n){var i,o,r=n.selectedFilterCriteria;return s?{selectedFilterCriteria:a.__assign(a.__assign({},r),(o={},o[e]=a.__spreadArrays(r[e],[t]),o))}:{selectedFilterCriteria:a.__assign(a.__assign({},r),(i={},i[e]=a.__spreadArrays(r[e].filter((function(e){return e!==t}))),i))}}),n.initSearchRequest)},n.onSelectQuestion=function(e,t){n.setState((function(n){var a=n.deselectedQuestions,s=n.selectedQuestions;return n.isSelectAllQuestions?(t?a[e]=!0:delete a[e],{deselectedQuestions:a}):(t?delete s[e]:s[e]=!0,{selectedQuestions:s})}))},n.onSelectAllQuestions=function(){n.setState((function(){return{isSelectAllQuestions:!0}})),n.clearSelectedDeselectedQuestions()},n.onClearAllQuestionSelection=function(){n.setState((function(){return{isSelectAllQuestions:!1}})),n.clearSelectedDeselectedQuestions()},n.clearSelectedDeselectedQuestions=function(){n.setState((function(){return{selectedQuestions:Object.create(null),deselectedQuestions:Object.create(null)}}))},n.onSetKeywords=function(e){n.setState((function(t){return{selectedFilterCriteria:a.__assign(a.__assign({},t.selectedFilterCriteria),{keywords:e})}}),n.initSearchRequest)},n.onClearCriteria=function(){var e=u.mapValues(n.state.selectedFilterCriteria,(function(){return[]}));n.setState((function(){return{selectedFilterCriteria:e}}),n.initSearchRequest)},n.loadFilterOptions=function(){n.loadAssessments(),n.loadQuestionTags(),n.loadQuestionTypes()},n.loadAssessments=function(){var e=c.AssessmentType.Pool+","+c.AssessmentType.Test;n.continuouslyLoadFilterOptions(n.props.loadAssessments,{types:e},"assessments","isLoadingAssessments")},n.loadQuestionTags=function(){n.continuouslyLoadFilterOptions(n.props.loadQuestionTags,void 0,"tags","isLoadingTags")},n.loadQuestionTypes=function(){var e=n.props,t=e.courseId;(0,e.loadQuestionTypes)({courseId:t}).then((function(){n.setState((function(e){return{isLoadingFilterOptions:a.__assign(a.__assign({},e.isLoadingFilterOptions),{isLoadingQuestionTypes:!1})}}))}))},n.continuouslyLoadFilterOptions=function(e,s,i,o,r){var l=n.props.courseId;return e(a.__assign(a.__assign({},s),{courseId:l,offset:r,limit:t.FILTER_OPTION_LOAD_LIMIT})).then((function(r){var l=r.paging;n.setState((function(e){var t,n=e.filterLoadNum[i];return{filterLoadNum:a.__assign(a.__assign({},e.filterLoadNum),(t={},t[i]=n+1,t))}}),(function(){var r=n.state.filterLoadNum[i];if(l.nextPage&&r<t.FILTER_OPTIONS_LOAD_MAX){var u=l.offset+l.limit;n.continuouslyLoadFilterOptions(e,s,i,o,u)}else n.setState((function(e){var t;return{isLoadingFilterOptions:a.__assign(a.__assign({},e.isLoadingFilterOptions),(t={},t[o]=!1,t))}}))}))}))},n.generateKeywordLuceneQuery=function(e){return'"'+e.join('" OR "')+'"'},n.generateLoadQuestionsParams=function(e){var t=(void 0===e?{}:e).setOffset,s=void 0!==t&&t,i=n.state.paging,o=n.props.courseId,r=a.__assign(a.__assign({},n.generateSearchCriteriaParam()),{courseId:o});return s&&(r.offset=i.offset+i.limit),r},n.generateSearchCriteriaParam=function(){var e=n.state.selectedFilterCriteria,t=e.keywords,s=e.sourceIds,i=e.tagIds,o=e.questionTypes,r=s.length,l=i.length,u=o.length,d=t.length;return a.__assign(a.__assign(a.__assign(a.__assign({},r&&{assessmentIds:s}),l&&{categoryIds:i}),u&&{questionTypes:o}),d&&{q:n.generateKeywordLuceneQuery(t)})},n.initSearchRequest=function(){n.setState((function(){return{isLoadingQuestions:!0}}),n.loadQuestionsDebounced)},n.loadQuestionsDebounced=u.debounce((function(){var e=n.generateLoadQuestionsParams();n.setState((function(){return{searchParams:e}}),(function(){n.props.searchQuestions(e).then((function(t){e===n.state.searchParams&&n.setState((function(){return{questions:t.questions,paging:t.paging,isLoadingQuestions:!1}}))}))}))}),t.WAIT_TIME_IN_MS,{leading:!0,trailing:!0}),n.loadMoreQuestions=function(e){if(void 0===e&&(e=!1),!n.state.isLoadingMoreQuestions&&n.hasMoreQuestions()){n.setState((function(){return{isLoadingMoreQuestions:!0,questionToFocus:null}}));var t=n.generateLoadQuestionsParams({setOffset:!0});n.props.searchQuestions(t).then((function(t){n.setState((function(n){return{questions:a.__spreadArrays(n.questions,t.questions),questionToFocus:e?t.questions[0].id:null,paging:t.paging,isLoadingMoreQuestions:!1}}))}))}},n.hasMoreQuestions=function(){return n.state.paging&&!u.isEmpty(n.state.paging.nextPage)},n.onViewMoreClick=function(){n.loadMoreQuestions(!0)},n.onScroll=function(e){if(!n.state.isLoadingQuestions&&!n.state.isLoadingMoreQuestions&&n.hasMoreQuestions()){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&n.loadMoreQuestions()}},n.onKeyUp=function(e){var t=e.target;if(9===e.keyCode&&t&&"button"===t.type&&t.classList.contains("selectable-question__question-toggle")){var a=t.parentElement.id,s=a.substr(a.indexOf("_"),a.length);n.state.questions.length-1===u.findIndex(n.state.questions,(function(e){return e.id===s}))&&n.loadMoreQuestions()}},n.renderViewMoreButton=function(){var e=n.state,t=e.paging,a=e.questions,s=n.props,i=s.localize,r=(0,s.analyticsEventAugmentor)(o.AnalyticsEventTypes.CLICK_EVENT,(function(){}),"questionPicker.moreQuestions.ariaLabel");if(!n.hasMoreQuestions())return l.default.createElement("button",{className:"offscreen-button",disabled:!0,"aria-disabled":!0,"aria-label":i.translate("questionPicker.moreQuestions.disabled")});var u=t.count-a.length,d=u>t.limit?t.limit:u;return l.default.createElement("button",{className:"offscreen-button",onClick:r,"data-analytics-id":"questionPicker.moreQuestions.ariaLabel","aria-label":i.translate("questionPicker.moreQuestions.ariaLabel",{count:d}),disabled:n.state.isLoadingMoreQuestions,"aria-disabled":n.state.isLoadingMoreQuestions})},n.getSourcesWithQuestions=function(){return u.filter(n.props.sources,(function(e){return e.questionCount>0}))},n.areAllFilterOptionsLoaded=function(){var e=n.state.isLoadingFilterOptions;return u.every(u.values(e),(function(e){return!e}))},n.getSelectedQuestionCount=function(){var e=n.state,t=e.deselectedQuestions,a=e.isSelectAllQuestions,s=e.paging,i=e.selectedQuestions;return a?s.count-u.size(t):u.size(i)},n.state={questions:[],paging:null,filterLoadNum:{assessments:0,tags:0},isLoadingQuestions:!0,isLoadingMoreQuestions:!1,isLoadingFilterOptions:{isLoadingAssessments:!0,isLoadingTags:!0,isLoadingQuestionTypes:!0},isShowingCancelConfirmationDialog:!1,selectedFilterCriteria:{keywords:[],sourceIds:[],tagIds:[],questionTypes:[]},isSelectAllQuestions:!1,deselectedQuestions:Object.create(null),selectedQuestions:Object.create(null),questionToFocus:null,searchParams:null},n}return a.__extends(t,e),t.prototype.componentWillMount=function(){this.props.courseId&&(this.loadFilterOptions(),this.initSearchRequest())},t.prototype.render=function(){var e=this.state,t=e.isLoadingQuestions,n=e.isLoadingMoreQuestions,a=e.isSelectAllQuestions,o=e.questions,u=e.questionToFocus,d=e.paging,c=e.deselectedQuestions,f=e.selectedQuestions,p=this.props,m=p.courseId,v=p.localize,E=p.closePanel,C=p.noResultsKeys,w=p.noSourcesKeys,S=p.headerKeys,P=p.footerKeys,R=p.pageHelpKey,A=p.localizationPrefix,T=p.cancelModalKeys,q=p.commonContext,I=this.getSourcesWithQuestions(),D=I.length>0,Q=this.buildCriteriaConfig(),F=v.translate("questionPicker.footer.cancel"),k=this.areAllFilterOptionsLoaded(),x=k&&!(t||n),N=this.getSelectedQuestionCount(),L={image:y.default,title:v.translate(C.title),message:v.translate(C.message)},M=v.translate(S.title),O=v.translate(P.primaryButton),B=v.translate(P.selectedCount,{count:N}),z=w.title,V=w.message,j={url:v.translate(R)};return l.default.createElement(i.BbPanel,{isOpen:"true",type:i.BbPanelType.full,onDismiss:this.cancel,excludeContentPadding:!0,closeButtonAriaLabel:F,className:"question-picker-panel",pageHelpProps:j,fixedLargeHeader:!0,stackIndex:3,heightOffset:q.panelHeightOffset},l.default.createElement(i.BbPanelHeader,{title:M,smallHeaderTitle:this.props.destination.assessmentTitle}),l.default.createElement("div",{className:"question-picker-panel__content",ready:x.toString()},l.default.createElement("div",{className:"question-picker-panel__body",onKeyUp:this.onKeyUp,onScroll:this.onScroll},D&&l.default.createElement(h.default,{id:"questionPickerPanel",isLoading:t,criteriaConfig:Q,onClearCriteria:this.onClearCriteria,resultsCount:d&&d.count?d.count:0,zeroResultsEmptyStateProps:L,analyticsId:"questionPickerPanel.filterList"},l.default.createElement(_.default,{courseId:m,sources:I,deselectedQuestions:c,selectedQuestions:f,items:o,isLoadingMore:n,onItemSelect:this.onSelectQuestion,isSelectAllQuestions:a,onSelectAllQuestions:this.onSelectAllQuestions,onClearAllQuestionSelection:this.onClearAllQuestionSelection,questionToFocus:u,localizationPrefix:A})),!D&&!k&&l.default.createElement(s.Spinner,{className:"question-picker-panel__spinner",size:s.SpinnerSize.large}),!D&&k&&l.default.createElement(b.default,{headerKey:z,messageKey:V}),!t&&this.renderViewMoreButton()),l.default.createElement(g.default,{message:v.translate(T.message),onStay:this.hideCancelConfirmationDialog,onProceed:function(){return E()},show:this.state.isShowingCancelConfirmationDialog,title:v.translate(T.title)})),l.default.createElement(i.BbPanelFooter,{analyticsId:"questionPickerPanel.footer",primaryButtonProps:{className:"js-primary-button",onClick:this.reuseQuestions,disabled:0===N,text:O},secondaryButtonProps:{className:"js-cancel-button",onClick:this.cancel,text:F}},l.default.createElement("div",{className:"question-picker-panel__footer-content"},l.default.createElement(r.ContentCollection,{className:"question-picker-panel__footer-icon",color:"primary"}),l.default.createElement("span",{className:"question-picker-panel__footer-text"},B))))},t.FILTER_OPTION_LOAD_LIMIT=100,t.FILTER_OPTIONS_LOAD_MAX=10,t.propTypes=a.__assign({courseId:d.default.string.isRequired,destination:d.default.object.isRequired,closePanel:d.default.func.isRequired,sources:d.default.array,tags:d.default.array,questionTypes:d.default.array,loadAssessments:d.default.func.isRequired,loadQuestionTags:d.default.func.isRequired,loadQuestionTypes:d.default.func.isRequired,localize:d.default.object.isRequired,localizationPrefix:d.default.string.isRequired,searchQuestions:d.default.func,noResultsKeys:d.default.shape({title:d.default.string.isRequired,message:d.default.string.isRequired}).isRequired,noSourcesKeys:d.default.shape({title:d.default.string.isRequired,message:d.default.string.isRequired}).isRequired,headerKeys:d.default.shape({title:d.default.string.isRequired}).isRequired,footerKeys:d.default.shape({primaryButton:d.default.string.isRequired,selectedCount:d.default.string.isRequired}).isRequired,cancelModalKeys:d.default.shape({title:d.default.string.isRequired,message:d.default.string.isRequired}),pageHelpKey:d.default.string.isRequired},v.withAnalyticsProps),t.defaultProps={searchQuestions:c.searchQuestions},t.WAIT_TIME_IN_MS=1e3,t}(l.default.Component);t.QuestionPickerPanel=C;var w=p.connect((function(e,t){return{questionTypes:c.select.questionType.getQuestionTypesByCourseId(e,t.courseId),sources:c.select.assessment.getAssessmentsByCourseId(e,t.courseId),tags:c.select.questionTag.getQuestionTagsByCourseId(e,t.courseId)}}),(function(e){return f.bindActionCreators({loadAssessments:c.actions.assessment.loadAssessments,loadQuestionTags:c.actions.questionTag.loadQuestionTags,loadQuestionTypes:c.actions.questionType.loadQuestionTypes},e)}),(function(e,t,n){return a.__assign(a.__assign(a.__assign(a.__assign({},n),e),t),{questionTypes:n.questionTypes?n.questionTypes:e.questionTypes,sources:n.sources?n.sources:e.sources})}))(C);t.default=o.withAnalytics(m.localizedComponentWrapper(E.withAssessmentCommonContext(w)))},leLK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomNumbers=function(e){return window.crypto.getRandomValues(new Uint8Array(e))},t.generateAccessCode=function(){return t.generateRandomNumbers(6).map((function(e){return e%10})).join("")}},lqf4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachContentChangeListener=function(e,t){const n={caretPositionChanged:e=>{},clipboardChanged:e=>{},contentChanged:e=>{t(e.getMathML())},styleChanged:e=>{},transformationReceived:e=>{}};return e.getEditorModel().addEditorListener(n),n},t.DEFAULT_RESERVED_WORDS=["sin","cos","tan","asin","acos","atan","csc","sec","cot","log","exp","ln","round","e","&#960;"];const a={reservedWordsColor:"#006fcb",forceReservedWords:"true",grammarResource:"grammar_eval_content.txt",reservedWords:t.DEFAULT_RESERVED_WORDS.join(",")};t.enableReservedWords=function(e){e.setParams(a)},t.setReservedWords=function(e,n){e.setParams({reservedWords:[...t.DEFAULT_RESERVED_WORDS,...n].join(",")})}},m20R:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("JfV0"),l=n("ALQB"),u=n("oFES"),d=n("t6ux"),c=n("Vng8"),f=n("3ZJq"),p=a.__importDefault(n("fSUK")),m=a.__importDefault(n("J495")),g=a.__importDefault(n("gvex"));function h(e){return _.keys(e).some((function(t){return!0===e[t]}))}n("8gHA"),t.CLASS_PREFIX="calculated-formula-question-edit",t.isAnyRowDirty=h;var b=function(e){function n(t){var n=e.call(this,t)||this;return n.onQuestionChange=function(e){var t=n.props,s=t.onQuestionChange,i=t.question,o=a.__assign(a.__assign({},i),e);c.hasCalculatedFormulaQuestionChanged(i,o)&&s(o,n.shouldEnableSaveButton)},n.goToStep1=function(){n.setState({activeStep:d.STEP_ENUM.ONE})},n.goToStep2=function(){n.setState({activeStep:d.STEP_ENUM.TWO})},n.goToStep3=function(){var e,t=n.state,a=t.needAllNewVariableSets,s=t.needToRecalculateExistingVariableSets,i=n.props.question,o=i.variableSetCount-i.variableSets.length;a?e=n.generateVariableSets(i.variableSetCount):o>0?e=i.variableSets.concat(n.generateVariableSets(o,i.variableSets.length)):o<0&&(e=i.variableSets.slice(0,i.variableSetCount)),a||o>0?n.calculateMultipleRows(e):s&&n.calculateMultipleRows(i.variableSets),e&&n.onQuestionChange({variableSets:e}),n.setState({activeStep:d.STEP_ENUM.THREE,isStepOneAnswerSetsRelatedFieldDirty:!1,isStepTwoAnswerSetsRelatedFieldDirty:!1,needAllNewVariableSets:!1,needToRecalculateExistingVariableSets:!1})},n.isEveryStepValidAndClean=function(e,t){var a=n.state,s=a.isStepOneAnswerSetsRelatedFieldDirty,i=a.isStepTwoAnswerSetsRelatedFieldDirty,o=a.isStepThreeAnswerSetsRelatedFieldDirty,r=a.isStepOneValid,l=a.isStepTwoValid,u=a.isStepThreeValid,d=t.units&&t.units.unitsRequired&&t.units.unitValue.length<1;return r&&l&&u&&!s&&!i&&!o&&!d},n.shouldEnableSaveButton=function(e,t){return c.hasCalculatedFormulaQuestionChanged(n.originalQuestion,t)&&n.isEveryStepValidAndClean(e,t)},n.handleValidateStepOne=function(e){n.setState({isStepOneValid:e})},n.handleValidateStepTwo=function(e){n.setState({isStepTwoValid:e})},n.handleValidateStepThree=function(e){n.setState({isStepThreeValid:e})},n.handleStepOneAnswerSetsRelatedFieldDirty=function(e){n.setState({isStepOneAnswerSetsRelatedFieldDirty:e})},n.handleStepTwoAnswerSetsRelatedFieldDirty=function(e){n.setState({isStepTwoAnswerSetsRelatedFieldDirty:e})},n.getFullLocalizationKey=function(e){return"assessments.canvas.question.calculatedFormula."+e},n.translateKey=function(e,t){return n.props.localize.translate(n.getFullLocalizationKey(e),t)},n.buildMathMLEvaluation=function(e,t,n){return{mathML:e,variables:t,ident:n}},n.generateVariableSets=function(e,t){void 0===t&&(t=0);for(var a=n.props.question,s=[],i=0;i<e;i+=1)s.push({ident:"ident-"+(i+t),variableValues:d.generateVariableValues(a.variableDefinitions),answer:null});return s},n.calculateMultipleRows=function(e){var t=n.props,s=t.courseId,i=t.question,o=n.generateMathMLEvaluationsFromVariableSets(e);return n.setState({isRecalculatingVariableSets:!0}),r.batchEvaluateMathML(s,o).then((function(e){var t=a.__spreadArrays(i.variableSets);e.forEach((function(e,n){var s=o[n],r=_.findIndex(t,(function(e){return e.ident===s.ident})),l={answer:d.roundWithPrecision(e.result,i.answerScale,i.correctAnswerFormat,i.correctAnswerPrecision),variableValues:a.__assign({},s.variables),ident:s.ident};r>-1?t[r]=l:t.push(l)})),n.setState({isRecalculatingVariableSets:!1}),n.resetAnswerSetDirtyRowMap(),n.onQuestionChange({variableSets:t})}))},n.repopulateTable=function(){n.calculateMultipleRows(n.generateVariableSets(n.props.question.variableSetCount)),n.setState({needToRecalculateExistingVariableSets:!1,needAllNewVariableSets:!1,isStepThreeAnswerSetsRelatedFieldDirty:!1})},n.generateMathMLEvaluationsFromVariableSets=function(e){var t=n.props.question,a=[];return e.forEach((function(e){a.push(n.buildMathMLEvaluation(t.answerFormula,e.variableValues,e.ident))})),a},n.updateAnswerSetDirtyRowMapValue=function(e,t){n.setState((function(n){var s=a.__assign({},n.answerSetTableDirtyRowMap);return s[e]=t,{answerSetTableDirtyRowMap:s}}))},n.resetAnswerSetDirtyRowMap=function(){n.setState((function(e){var t=a.__assign({},e.answerSetTableDirtyRowMap);return _.keys(t).forEach((function(e){t[e]=!1})),{answerSetTableDirtyRowMap:t}}))},n.originalQuestion=t.question,n.state={activeStep:d.STEP_ENUM.ONE,answerSetTableDirtyRowMap:{},isRecalculatingVariableSets:!1,isStepOneAnswerSetsRelatedFieldDirty:!1,isStepTwoAnswerSetsRelatedFieldDirty:!1,isStepThreeAnswerSetsRelatedFieldDirty:!1,isStepOneValid:!0,isStepTwoValid:!0,isStepThreeValid:!0,needAllNewVariableSets:!t.question.variableSets||0===t.question.variableSets.length,needToRecalculateExistingVariableSets:!1},n}return a.__extends(n,e),n.prototype.componentDidUpdate=function(e,t){var n=e.question,a=this.props.question,s=this.state,i=s.isStepOneAnswerSetsRelatedFieldDirty,o=s.isStepTwoAnswerSetsRelatedFieldDirty,r=s.isStepThreeAnswerSetsRelatedFieldDirty,l=s.isStepOneValid,u=s.isStepTwoValid,c=s.isStepThreeValid,f=d.haveVariablesChanged(n.variableDefinitions,a.variableDefinitions),p=n.answerFormula!==a.answerFormula,m=h(this.state.answerSetTableDirtyRowMap),g=h(t.answerSetTableDirtyRowMap)!==m;(f||p||g)&&this.setState({needAllNewVariableSets:f||t.needAllNewVariableSets,needToRecalculateExistingVariableSets:p||t.needToRecalculateExistingVariableSets,isStepThreeAnswerSetsRelatedFieldDirty:g?m:t.isStepThreeAnswerSetsRelatedFieldDirty}),i===t.isStepOneAnswerSetsRelatedFieldDirty&&o===t.isStepTwoAnswerSetsRelatedFieldDirty&&r===t.isStepThreeAnswerSetsRelatedFieldDirty&&l===t.isStepOneValid&&u===t.isStepTwoValid&&c===t.isStepThreeValid&&(a.units&&a.units.unitValue)===(n.units&&n.units.unitValue)&&(a.units&&a.units.unitsRequired)===(n.units&&n.units.unitsRequired)||this.props.onQuestionChange(a,this.shouldEnableSaveButton)},n.prototype.render=function(){var e,n=this.props,i=n.courseId,o=n.hasSubmissions,r=n.question,c=n.setActiveEditorId,h=n.showFeatureAnnouncement,_=this.state,b=_.activeStep,y=_.answerSetTableDirtyRowMap,v=_.isRecalculatingVariableSets,E=_.isStepOneValid,C=_.isStepTwoValid,w=_.isStepThreeValid,S=this.translateKey("iconLabel.active"),P=this.translateKey("iconLabel.completed"),R=this.translateKey("iconLabel.error"),A=this.translateKey("iconLabel.incomplete");return s.default.createElement("div",{className:t.CLASS_PREFIX},s.default.createElement(l.AnalyticsLinearProgress,{className:t.CLASS_PREFIX+"__linear-progress",variant:"determinate",value:(e=b,(e+1)/Object.keys(d.STEP_ENUM).length*100)}),s.default.createElement(u.AnalyticsStepper,{activeStep:b,orientation:"vertical"},s.default.createElement(u.AnalyticsStep,{key:"step1"},s.default.createElement(u.AnalyticsStepLabel,{analyticsId:d.ANALYTICS_ID_PREFIX+".stepOne.stepLabel",disabled:b<=d.STEP_ENUM.ONE,error:!E,onClick:this.goToStep1,iconId:"step1Icon",activeLabel:S,completedLabel:P,errorLabel:R,inCompleteLabel:A,stepNumber:this.translateKey("stepOne.stepNumber"),stepDescription:this.translateKey("stepOne.stepDescription")}),s.default.createElement(u.AnalyticsStepContent,null,s.default.createElement(p.default,a.__assign({},this.props,{courseId:i,onAnswerSetsRelatedFieldDirty:this.handleStepOneAnswerSetsRelatedFieldDirty,onGoToNextStep:this.goToStep2,onQuestionChange:this.onQuestionChange,onValidate:this.handleValidateStepOne,question:r})))),s.default.createElement(u.AnalyticsStep,{key:"step2"},s.default.createElement(u.AnalyticsStepLabel,{analyticsId:d.ANALYTICS_ID_PREFIX+".stepTwo.stepLabel",disabled:b<=d.STEP_ENUM.TWO,error:!C,onClick:this.goToStep2,iconId:"step2Icon",activeLabel:S,completedLabel:P,errorLabel:R,inCompleteLabel:A,stepNumber:this.translateKey("stepTwo.stepNumber"),stepDescription:this.translateKey("stepTwo.stepDescription")}),s.default.createElement(u.AnalyticsStepContent,null,s.default.createElement(m.default,{hasSubmissions:o,onAnswerSetsRelatedFieldDirty:this.handleStepTwoAnswerSetsRelatedFieldDirty,onGoBackStep:this.goToStep1,onGoToNextStep:this.goToStep3,onQuestionChange:this.onQuestionChange,onValidate:this.handleValidateStepTwo,question:r,translateKey:this.translateKey}))),s.default.createElement(u.AnalyticsStep,{key:"step3"},s.default.createElement(u.AnalyticsStepLabel,{disabled:b<=d.STEP_ENUM.THREE,error:!w,onClick:this.goToStep3,iconId:"step3Icon",activeLabel:S,completedLabel:P,errorLabel:R,inCompleteLabel:A,stepNumber:this.translateKey("stepThree.stepNumber"),stepDescription:this.translateKey("stepThree.stepDescription"),analyticsId:d.ANALYTICS_ID_PREFIX+".stepThree.stepLabel"}),s.default.createElement(u.AnalyticsStepContent,null,s.default.createElement(g.default,{calculateMultipleRows:this.calculateMultipleRows,courseId:i,dirtyRowMap:y,hasSubmissions:o,isRecalculatingVariableSets:v,onGoBackStep:this.goToStep2,onQuestionChange:this.onQuestionChange,onValidate:this.handleValidateStepThree,question:r,repopulateTable:this.repopulateTable,resetDirtyRowMap:this.resetAnswerSetDirtyRowMap,updateDirtyRowMapValue:this.updateAnswerSetDirtyRowMapValue})))),s.default.createElement(f.AutomatedQuestionFeedbackEdit,{onQuestionChange:this.onQuestionChange,question:r,setActiveEditorId:c,showFeatureAnnouncement:h}))},n.propTypes={courseId:i.default.string,hasSubmissions:i.default.bool.isRequired,localize:i.default.object.isRequired,onQuestionChange:i.default.func.isRequired,question:i.default.object.isRequired,showFeatureAnnouncement:i.default.object},n}(s.Component);t.BaseCalculatedFormulaQuestionEdit=b,t.default=o.localizedComponentWrapper(b)},mWAU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ");n("xWTz");var r=function(e){var t=e.title,n=e.titleAlert,a=e.points,i=e.localize,o=null==a?i.translate("assessments.canvas.question.header.noPoints"):i.translate("assessments.canvas.question.header.points",{points:i.formatNumber(a,{maximumFractionDigits:2})});return s.default.createElement("div",{className:"readonly-question-header"},s.default.createElement("span",{className:"readonly-question-header__content"},s.default.createElement("span",{className:"readonly-question-header__title-container"},s.default.createElement("h3",{className:"readonly-question-header__title"},t),n&&s.default.createElement("span",{className:"readonly-question-header__title-alert"},n)),s.default.createElement("span",{className:"readonly-question-header__pill"},o)))};r.propTypes={title:i.default.string,titleAlert:i.default.string,points:i.default.number,localize:i.default.object},t.default=o.localizedComponentWrapper(r)},mzw0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("ERkP"),s=n("gKi8"),i={initError:null,isReady:!1,wirisEditorInstance:null},o=(e,t)=>{switch(t.type){case"get-new-instance":return Object.assign({},i);case"ready":return Object.assign(Object.assign({},e),{isReady:!0,wirisEditorInstance:t.wirisEditorInstance});case"error":return Object.assign(Object.assign({},e),{isReady:!1,initError:t.error});default:throw Error(`Unrecognized action: ${t}`)}};t.useWirisEditor=(e,t,n,r)=>{const[{isReady:l,initError:u,wirisEditorInstance:d},c]=a.useReducer(o,i);return a.useEffect(()=>{let a;const i=new s.WirisService(t);return c({type:"get-new-instance"}),i.newInstance({mml:n,language:r}).then(t=>{(a=t).insertInto(e.current),c({type:"ready",wirisEditorInstance:a})},e=>{c({type:"error",error:e})}),()=>{a&&a.close()}},[e]),a.useEffect(()=>{d&&d.getEditorModel().getParam("language")!==r&&d.setParam("language",r)},[r,d]),{initError:u,isReady:l,wirisEditorInstance:d}}},nUPs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("MC1S"),l=n("caKH"),u=function(e){var t=e.localize,n=e.message,a=e.onStay,i=e.onProceed,o=e.show,u=e.title;return s.default.createElement(l.UltraModalDialog,{hidden:!o,onDismiss:a,dialogContentProps:{type:r.DialogType.normal,title:u,subText:n,showCloseButton:!0,isAlert:!0},analyticsId:"questionReuse.cancelDialog.dialog"},s.default.createElement(r.DialogFooter,null,s.default.createElement(r.DefaultButton,{onClick:a,text:t.translate("questionReuse.cancelDialog.cancel"),analyticsId:"questionReuse.cancelDialog.cancel"}),s.default.createElement(r.PrimaryButton,{onClick:i,text:t.translate("questionReuse.cancelDialog.ok"),analyticsId:"questionReuse.cancelDialog.ok"})))};u.propTypes={localize:i.default.object.isRequired,message:i.default.string.isRequired,onStay:i.default.func.isRequired,onProceed:i.default.func.isRequired,show:i.default.bool.isRequired,title:i.default.string.isRequired},t.default=o.localizedComponentWrapper(u)},nwoY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("8unJ"),l=a.__importDefault(n("cFZT"));n("4+yV");var u=function(e){var t=e.localize,n=e.image,a=e.title,i=e.message,r=e.showFilterPanelButton,u=e.onFilterPanelToggle;return s.default.createElement("div",{className:"items-empty-state"},s.default.createElement(l.default,{image:n,passedClass:"items-empty-state__image",presentationOnly:!0}),s.default.createElement("h3",{className:"items-empty-state__title"},a),s.default.createElement("div",{className:"items-empty-state__message"},i),r&&s.default.createElement(o.PrimaryButton,{className:"items-empty-state__button js-items-empty-state-filter-button",onClick:u,text:t.translate("questionReuse.emptyState.dueToFilter.filterButton"),analyticsId:"questionReuse.emptyState.dueToFilter.filter"}))};u.propTypes={localize:i.default.object.isRequired,image:i.default.string.isRequired,title:i.default.string.isRequired,message:i.default.string.isRequired,showFilterPanelButton:i.default.bool.isRequired,onFilterPanelToggle:i.default.func.isRequired},t.default=r.localizedComponentWrapper(u)},o7ef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLASS_BASE="question-block",t.LOCALE_KEY_BASE="assessments.canvas.question.questionBlock"},o8si:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S");n("VPjn");var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return s.default.createElement("div",{className:"drag-button "+(null!=this.props.className?this.props.className:""),ref:this.props.dragPointRef,draggable:!0,title:this.props.title,"aria-label":this.props.ariaLabel,"aria-describedby":this.props.ariaDescribedBy,role:"button","aria-hidden":this.props.removedFromTabOrder?"true":void 0,tabIndex:this.props.removedFromTabOrder?"-1":"0"},s.default.createElement(o.SvgIcon,{iconName:"move-item-up-down",iconSize:"small"}))},t}(s.PureComponent);r.propTypes={ariaLabel:i.default.string,ariaDescribedBy:i.default.string,className:i.default.string,dragPointRef:i.default.func.isRequired,title:i.default.string.isRequired,removedFromTabOrder:i.default.bool},t.default=r},p0wN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=a.__importDefault(n("j9WP")),l=a.__importDefault(n("/rnO")),u=a.__importDefault(n("RtIR"));n("UyCi"),t.QuestionPoolQuestion=function(e){var t=e.courseId,n=e.question,i=e.localize,o=e.deleteQuestion,d=e.hasSubmissions,c=e.focusTitle,f=e.isAnyQuestionDirty,p=e.questionBeingEditedId,m=e.onQuestionEdit,g=e.onQuestionMadeDirty,h=e.persistQuestion,_=e.hasAssessmentModifyPermissions,b=e.localizationPrefix;return s.default.createElement("div",{className:"question-pool-question"},s.default.createElement(r.default,{courseId:t,focusTitle:c,question:n,deleteQuestion:o,hasSubmissions:d,questionBeingEditedId:p,questionTitle:i.translate("questionPools.typeLabels."+n.questionType),onQuestionEdit:m,onQuestionMadeDirty:g,isAnyQuestionDirty:f,persistQuestion:h,openGoals:function(){},pluginsConfig:{},showQuestionControls:!1,localizationPrefix:b,customQuestionHeader:function(e){return s.default.createElement(l.default,a.__assign({},e,{questionSourceName:n.sourceInfo.name,hasAssessmentModifyPermissions:_,hasSubmissions:d,deleteQuestion:o,overflowMenuButtonLabelData:(t=e.questionTitle,u.default("overflow",n,t))}));var t}}))},t.QuestionPoolQuestion.propTypes={courseId:i.default.string.isRequired,question:i.default.object.isRequired,localize:i.default.object.isRequired,hasSubmissions:i.default.bool.isRequired,deleteQuestion:i.default.func.isRequired,focusTitle:i.default.bool,isAnyQuestionDirty:i.default.bool.isRequired,questionBeingEditedId:i.default.string,onQuestionEdit:i.default.func.isRequired,onQuestionMadeDirty:i.default.func.isRequired,persistQuestion:i.default.func.isRequired,hasAssessmentModifyPermissions:i.default.bool.isRequired,localizationPrefix:i.default.string.isRequired},t.default=o.localizedComponentWrapper(t.QuestionPoolQuestion)},p1hm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("MC1S"),l=a.__importDefault(n("D0DQ")),u=a.__importDefault(n("xzbH"));n("1S7Y"),t.ANSWER_DELIMITER=";",t.EvaluationTypeEnum={EXACT:{locKey:"assessments.canvas.question.fimb.responseType.exact"},CONTAINS:{locKey:"assessments.canvas.question.fimb.responseType.contains"},MATCHES:{locKey:"assessments.canvas.question.fimb.responseType.matches"}};var d=function(e){var n=e.answer.answerValues[0],a=n.evaluationType,s=n.caseSensitive;return{text:e.answer.answerValues.map((function(e){return e.value})).join(t.ANSWER_DELIMITER),evaluationType:a,caseSensitive:s,testPatternDialogOpen:!1}},c=function(e){function n(n){var s=e.call(this,n)||this;return s.openTestPatternDialog=function(){s.setState({testPatternDialogOpen:!0})},s.hideTestPatternDialog=function(){s.setState({testPatternDialogOpen:!1})},s.updateInputValue=function(e){var t=a.__assign(a.__assign({},s.props.answer),{answerValues:s.parseAnswerText(e)});s.props.onAnswerChange(t)},s.parseAnswerText=function(e){return e.split(t.ANSWER_DELIMITER).map((function(e){return{value:e,evaluationType:s.state.evaluationType,caseSensitive:s.state.caseSensitive}}))},s.onAnswerChange=function(){s.updateInputValue(s.state.text)},s.setText=function(e){s.setState((function(){return{text:e}}),s.onAnswerChange)},s.setEvaluationType=function(e){s.setState((function(){return{evaluationType:e.key}}),s.onAnswerChange)},s.setCaseSensitive=function(){s.setState((function(e){return{caseSensitive:!e.caseSensitive}}),s.onAnswerChange)},s.state=d(n),s}return a.__extends(n,e),n.prototype.componentWillReceiveProps=function(e){this.setState(d(e))},n.prototype.render=function(){var e=this.props.localize.translate,n=Object.keys(t.EvaluationTypeEnum).map((function(n){return{key:n,text:e(t.EvaluationTypeEnum[n].locKey+".edit")}})),a=this.props.answer.answerValues[0],i=e(t.EvaluationTypeEnum[a.evaluationType].locKey+"."+(a.caseSensitive?"readOnlyCaseSensitive":"readOnly"));return s.default.createElement("div",{className:"fimb-question-answer fimb-question-answer--"+(this.props.readOnly?"read":"edit")},s.default.createElement(l.default,{disabled:this.props.disabled,editable:!this.props.readOnly,inputDescriptionText:i,inputLabelText:this.props.inputLabel,inputText:this.state.text,onInputChange:this.setText}),!this.props.readOnly&&s.default.createElement("div",{className:"fimb-question-answer__options"},s.default.createElement("div",{className:"fimb-question-answer__match-selector"},s.default.createElement(r.Dropdown,{label:e("assessments.canvas.question.fimb.responseType.label"),options:n,selectedKey:this.state.evaluationType,onChanged:this.setEvaluationType,disabled:this.props.disabled,inlineLabel:!0})),"MATCHES"!==this.state.evaluationType&&s.default.createElement(r.Checkbox,{className:"fimb-question-answer__checkbox",label:e("assessments.canvas.question.fimb.caseSensitive"),checked:this.state.caseSensitive,onChange:this.setCaseSensitive,disabled:this.props.disabled,analyticsId:"assessments.canvas.question.fimb.caseSensitive"}),"MATCHES"===this.state.evaluationType&&s.default.createElement(r.DefaultButton,{className:"fimb-question-answer__test-pattern-button",onClick:this.openTestPatternDialog,disabled:this.props.disabled,analyticsId:"assessments.canvas.question.fimb.testPattern"},e("assessments.canvas.question.fimb.testPatternButton")),this.state.testPatternDialogOpen&&s.default.createElement(u.default,{hidden:!this.state.testPatternDialogOpen,initialPatternValue:this.state.text,onClose:this.hideTestPatternDialog,onSave:this.updateInputValue,assessmentId:this.props.assessmentId,courseId:this.props.courseId})))},n.propTypes={answer:i.default.object.isRequired,assessmentId:i.default.string,courseId:i.default.string,disabled:i.default.bool.isRequired,inputLabel:i.default.string.isRequired,localize:i.default.object.isRequired,onAnswerChange:i.default.func.isRequired,readOnly:i.default.bool.isRequired},n}(s.Component),f=o.localizedComponentWrapper(c);t.default=f},p3LL:function(e,t,n){},pNgc:function(e,t,n){"use strict";n.r(t),n.d(t,"ContentCollection",(function(){return i}));var a=n("ERkP"),s=n("12Zt"),i=Object(s.a)(a.createElement(a.Fragment,null,a.createElement("path",{fill:"var(--icon-fill-color)",stroke:"transparent",fillRule:"evenodd",d:"M11 8.25c1.8646 0 3.4643 1.134 4.147 2.75H10v5h5.5v11.75h12.25c2.4853 0 4.5 2.0147 4.5 4.5s-2.0147 4.5-4.5 4.5H7.875c-2.4853 0-4.5-2.0147-4.5-4.5v-1.2c0-2.0057 1.3122-3.705 3.125-4.2861V12.75c0-2.4853 2.0147-4.5 4.5-4.5z",clipRule:"evenodd"}),a.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",d:"M3 37V27h10v3h12v-3h10v10H3zM6 27V7h26v8m0 12V17"}),a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M7 4h24M8 1h22"}),a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 11h5v5h-5zM19 12h9M19 16h9M10 20h18M10 24h18"})),"large")},pfaR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("MC1S"),r=n("8unJ"),l=n("caKH"),u=n("X3OV"),d="assessments.canvas.question.questionBlock.removeQuestionFromPoolConfirmation",c=function(e){function t(t){var n=e.call(this,t)||this;return n.actionMenuButtonRef=s.default.createRef(),n.onDeleteClick=function(){n.setState({isConfirmationDialogOpen:!0})},n.onConfirmationDismiss=function(){n.setState({isConfirmationDialogOpen:!1})},n.onCancelDelete=function(){n.onConfirmationDismiss(),n.actionMenuButtonRef.current.firstChild.focus()},n.onMenuOpen=function(){n.state.isConfirmationDialogOpen&&n.onConfirmationDismiss()},n.state={isConfirmationDialogOpen:!1},n}return a.__extends(t,e),t.prototype.getActionMenuProps=function(){var e=this.props,t=e.localize,n=e.hasSubmissions,a=e.hasAssessmentModifyPermissions,s=e.startEditMode,i=e.commonContext,o={directionalHint:6,enableBodyScrollingDisabledCheck:!1,onMenuOpened:this.onMenuOpen,items:[]};return a&&!i.isMobileAppPreview&&o.items.push({key:"edit",name:t.translate("questionPools.questionHeader.edit"),iconProps:{iconName:"edit-tool",iconSize:"small"},onClick:function(){return s()}}),n||!a||i.isMobileAppPreview||o.items.push({key:"delete",name:t.translate("questionPools.questionHeader.delete"),iconProps:{iconName:"trash",iconSize:"small"},onClick:this.onDeleteClick}),o},t.prototype.getDeleteConfirmationProps=function(){var e=this.props.localize;return{onDismiss:this.onConfirmationDismiss,showAsCallout:!0,target:this.actionMenuButtonRef.current,calloutProps:{setInitialFocus:!0},dialogContentProps:{type:o.DialogType.actionConfirmation,showCloseButton:!1,title:e.translate(d+".title"),subText:e.translate(d+".subText")}}},t.prototype.render=function(){var e=this.props,t=e.deleteQuestion,n=e.localize,i=e.overflowMenuButtonLabelData,r=this.getActionMenuProps();return s.default.createElement("div",{ref:this.actionMenuButtonRef},!!r.items.length&&s.default.createElement(o.ActionMenu,{maintainExpandedProperties:this.state.isConfirmationDialogOpen,menuProps:r,"aria-hidden":"false",ariaLabel:n.translate(i.string,{relatedContent:i.relation}),analyticsId:"questionPools.questionHeader.actionMenu"}),this.state.isConfirmationDialogOpen?s.default.createElement(l.UltraModalDialog,a.__assign({},this.getDeleteConfirmationProps(),{analyticsId:"questionPools.questionHeader.confirmationDialog.dialog"}),s.default.createElement(o.DialogFooter,null,s.default.createElement(o.DefaultButton,{onClick:this.onCancelDelete,text:n.translate(d+".cancel"),analyticsId:"questionPools.questionHeader.confirmationDialog.cancel.button"}),s.default.createElement(o.PrimaryButton,{onClick:t,text:n.translate(d+".remove"),analyticsId:"questionPools.questionHeader.confirmationDialog.remove.button"}))):null)},t}(s.default.Component);c.propTypes={localize:i.default.object.isRequired,startEditMode:i.default.func.isRequired,hasSubmissions:i.default.bool.isRequired,hasAssessmentModifyPermissions:i.default.bool.isRequired,deleteQuestion:i.default.func.isRequired,overflowMenuButtonLabelData:i.default.object.isRequired},t.UnwrappedQuestionPoolQuestionHeaderMenu=r.localizedComponentWrapper(c),t.default=u.withAssessmentCommonContext(t.UnwrappedQuestionPoolQuestionHeaderMenu)},pzAO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("7nmT")),o=n("uDfI"),r=n("8unJ"),l=n("nsO7"),u=n("tN4z"),d=a.__importDefault(n("Mx6v")),c=a.__importDefault(n("VsDy")),f=a.__importDefault(n("jZ9E"));t.ReadonlyQuestion=f.default;var p=a.__importDefault(n("j9WP")),m=n("QJmz"),g=n("X3OV"),h=a.__importDefault(n("bNEL"));function _(e,t,n,a,o){var l=n;null==n&&"undefined"!=typeof window&&window.location.search.match("setLang=")&&(l=window.location.search.match(/setLang=([^$&]+)/)[1]),i.default.render(s.default.createElement(r.Locale,{locale:l,babelfishInstance:a,babelfishFormatInstance:o,bundlesToLoad:["assessments/locales/[locale]/assessment-canvas.json"]},s.default.createElement("div",{className:"assessments-app"},e)),t)}t.AccessCode=h.default,t.renderAssessmentPanel=function(e,t,n){var a=t.store,i=t.locale,r=t.babelfishInstance,l=t.babelfishFormatInstance,c=n.courseId,f=n.contentId,p=n.features,h=n.isInMobileApp,b=n.routes,y=n.setIsAnyQuestionDirty,v=void 0===y?null:y,E=n.isOrganization,C=n.allyService,w=n.editorPluginsConfig,S=void 0===w?{}:w,P=n.applyAccessibilityHandling,R=n.revertAccessibilityHandling,A=n.usePanelHeightOffset;Object.keys(p).forEach((function(e){m.setToggle(e,p[e])}));var T=E?"assessments.organization":"assessments";_(s.default.createElement(o.Provider,{store:a},s.default.createElement(u.AnalyticsJssThemeProvider,{theme:"light"},s.default.createElement(g.AssessmentsCommonContextWrapper,{usePanelHeightOffset:A,isMobileAppPreview:h},s.default.createElement(d.default,{babelfishInstance:r,contentId:f,courseId:c,features:p,routes:b,pluginsConfig:S,setIsAnyQuestionDirty:v,applyAccessibilityHandling:P,revertAccessibilityHandling:R,localizationPrefix:T,allyService:C})))),e,i,r,l)},t.renderAssessmentSettings=function(e,t,n){var a=t.store,i=t.locale,r=t.babelfishInstance,l=t.babelfishFormatInstance,u=n.courseId,d=n.contentId,f=n.routes,p=n.isOrganization?"assessments.organization":"assessments";_(s.default.createElement(o.Provider,{store:a},s.default.createElement(c.default,{courseId:u,contentId:d,routes:f,localizationPrefix:p})),e,i,r,l)};var b=l.once(m.setToggle);t.renderQuestion=function(e,t,n,l,d,c,f,m){b("questionRegrading",!0);var g=f?"assessments.organization":"assessments";i.default.render(s.default.createElement(o.Provider,{store:t},s.default.createElement(r.Locale,{locale:n,babelfishInstance:l,babelfishFormatInstance:d},s.default.createElement(u.AnalyticsJssThemeProvider,{theme:"light"},s.default.createElement(p.default,a.__assign({},c,{localizationPrefix:g}))))),e,m||null)};var y={renderAssessmentPanel:t.renderAssessmentPanel,renderAssessmentSettings:t.renderAssessmentSettings,renderQuestion:t.renderQuestion,destroyReactControl:function(e){i.default.unmountComponentAtNode(e)}};t.default=y},qA6I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=n("8unJ"),o=n("MC1S"),r=a.__importDefault(n("Pfoe"));n("NHtK"),t.getReuseAnswerMenuItems=function(e){var t=e.answerIdToPromptIndexMap,n=e.localize,i=e.onReuse;return e.reusableAnswers.map((function(o){var l=t[o.ui.id],u="reuse-answer-"+l;return{key:l,iconProps:null,name:s.default.createElement("div",{className:"assessments-reuse-answer-menu-item"},s.default.createElement("div",{className:"assessments-reuse-answer-menu-item__pair-number","aria-hidden":"true"},l+1),s.default.createElement(r.default,a.__assign({},e,{id:u,isReadOnly:!0,bbml:o.answerText.rawText}))),onClick:i,ariaLabel:n.translate("assessments.canvas.question.matching.reuseAnswerItemAriaLabel",{pairNumber:l+1})}}))},t.getReuseAnswerMenuItemNormal=function(e){var n=e.localize,a=e.pairNumber,s=t.getReuseAnswerMenuItems(e);return{key:"reuseAnswer",iconProps:{iconName:"reuse",iconSize:"small"},name:n.translate("assessments.canvas.question.matching.reuseAnswer"),ariaLabel:n.translate("assessments.canvas.question.matching.reuseAnswerAriaLabel",{pairNumber:a}),subMenuProps:{shouldFocusOnMount:!0,items:s,calloutProps:{preventDismissOnScroll:!0}},disabled:0===s.length,className:"js-reuse-answer"}},t.getReuseAnswerMenuItemAlreadyReused=function(e){var t=e.localize,n=e.pairNumber;return{key:"reuseAnswer",iconProps:{iconName:"reuse",iconSize:"small"},name:t.translate("assessments.canvas.question.matching.reuseAnswerAlreadyReused"),ariaLabel:t.translate("assessments.canvas.question.matching.reuseAnswerAlreadyReusedAriaLabel",{pairNumber:n}),disabled:!0}},t.getDeletePairMenuItem=function(e){var t=e.canDeletePair,n=e.localize,a=e.onDelete,s=e.pairNumber,i=e.questionTitle;return{key:"deletePair",iconProps:{iconName:"trash",iconSize:"small"},name:n.translate("assessments.canvas.question.matching.deletePair"),ariaLabel:n.translate("assessments.canvas.question.matching.deletePairAriaLabel",{questionTitle:i,pairNumber:s}),onClick:a,disabled:!t,className:"js-delete-pair"}},t.getDropDownMenuOptions=function(e){var n=e.answerIsReused,a=e.showDeletePair,s=[];return e.showReuseAnswer&&(n?s.push(t.getReuseAnswerMenuItemAlreadyReused(e)):s.push(t.getReuseAnswerMenuItemNormal(e))),a&&s.push(t.getDeletePairMenuItem(e)),s};var l=function(e){var n=e.componentRef,a=e.localize,i=e.pairNumber,r=e.questionTitle,l=t.getDropDownMenuOptions(e);return 0===l.length?null:s.default.createElement("div",{className:"matching-prompt-answer-pair__menu"},s.default.createElement(o.ActionMenu,{analyticsId:"assessments.canvas.question.matching.actionMenu",ariaLabel:a.translate("assessments.canvas.question.matching.moreOptionsAriaLabel",{questionTitle:r,pairNumber:i}),componentRef:n,menuProps:{items:l,calloutProps:{preventDismissOnScroll:!0}}}))};t.UnwrappedMenu=l,t.default=i.localizedComponentWrapper(l)},qTgb:function(e,t,n){},"qs/y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("3Md0")),r=function(e){return s.default.createElement(o.default,a.__assign({},e,{noResultsKeys:{title:"questionReuse.emptyState.dueToFilter.header",message:"questionReuse.emptyState.dueToFilter.message"},noSourcesKeys:{title:"questionReuse.emptyState.dueToSource.header",message:"questionReuse.emptyState.dueToSource.message"},headerKeys:{title:"questionReuse.questionPickerHeader"},footerKeys:{primaryButton:"questionReuse.footer.primaryButtonText",selectedCount:"questionReuse.footer.selectedCount"},cancelModalKeys:{title:"questionReuse.cancelDialog.title",message:"questionReuse.cancelDialog.subtext"},pageHelpKey:"questionReuse.pageHelpUrl"}))};r.propTypes={closePanel:i.default.func.isRequired,courseId:i.default.string.isRequired,destination:i.default.object.isRequired,localizationPrefix:i.default.string.isRequired},t.default=r},rLAU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=n("E1pj"),o=n("8unJ"),r=a.__importDefault(n("aNN5")),l=a.__importDefault(n("kPPX")),u=a.__importDefault(n("gTAB")),d=a.__importDefault(n("Pfoe")),c=n("2yjE"),f=a.__importDefault(n("qA6I"));n("ZnFM");var p=function(e){function t(t){var n=e.call(this,t)||this;return n.overflowMenuRef=null,n.getReusableAnswers=function(){return n.props.reusableAnswers.filter((function(e){return n.props.answer!==e}))},n.focusOverflowMenu=function(){null!=n.overflowMenuRef&&n.overflowMenuRef.focus()},n.onPromptChange=function(e){var t=n.props.prompt,s=a.__assign(a.__assign({},t),{promptText:{rawText:e.toBbML()}});n.props.onPromptChange(s)},n.onAnswerChange=function(e){var t=n.props.answer,s=a.__assign(a.__assign({},t),{answerText:{rawText:e.toBbML()}});n.props.onAnswerChange(s)},n.onDeleteReused=function(){n.setState({deleteReusedDialogHidden:!1})},n.onDeleteCanceled=function(){n.setState({deleteReusedDialogHidden:!0})},n.onDelete=function(){n.focusOverflowMenu(),n.props.onPromptAnswerPairDeletion(n.props.prompt.id)},n.getOnDeleteCallback=function(){return n.props.reusedElsewherePair?n.onDeleteReused:n.onDelete},n.onReuseAnswer=function(e,t){var a=n.props,s=a.onPromptAnswerReuse,i=a.prompt,o=t.key;s(i.id,o),n.focusOverflowMenu()},n.onRemoveReusedAnswer=function(){var e=n.props;(0,e.onPromptRemoveReusedAnswer)(e.prompt.id)},n.storeOverflowMenuRef=function(e){n.overflowMenuRef=e},n.state={deleteReusedDialogHidden:!0},n}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.answer,n=e.answerIdToPromptIndexMap,i=e.answerIsReused,o=e.editMode,p=e.index,m=e.localize,g=e.prompt,h=e.question,_=e.questionTitle,b=e.reusedElsewherePair,y=e.UltraWindowSize,v=u.default.isInactive(o),E=p+1,C="prompt-header-"+h.id+"-"+p,w=""+c.QUESTION_TITLE_ID_PREFIX+h.id+" "+C,S=y.isSmallBreakpoint()?m.translate("assessments.canvas.question.matching.indexMobile",{pairNumber:E}):m.translate("assessments.canvas.question.matching.index",{pairNumber:E}),P=s.default.createElement(f.default,{answerIsReused:i,answerIdToPromptIndexMap:n,canDeletePair:this.props.canDeletePromptAnswerPair(g.reusesAnswer),componentRef:this.storeOverflowMenuRef,onDelete:this.getOnDeleteCallback(),onReuse:this.onReuseAnswer,pairNumber:E,questionTitle:_,reusableAnswers:this.getReusableAnswers(),showDeletePair:this.props.hasRemovePromptAnswerPairPermissions,showReuseAnswer:this.props.hasReuseAnswerPermissions});return s.default.createElement("div",{className:"matching-prompt-answer-pair\n                "+(v?"matching-prompt-answer-pair--read":"matching-prompt-answer-pair--edit")},!v&&y.isSmallBreakpoint()&&P,s.default.createElement("div",{className:"matching-prompt-answer-pair__element matching-prompt-answer-pair__element-index "+(!v&&y.isSmallBreakpoint()?"field-required":"")},S),s.default.createElement("div",{className:"matching-prompt-answer-pair__element matching-prompt-answer-pair__element-prompt"},s.default.createElement("div",{className:"matching-prompt-answer-pair__text"},s.default.createElement("div",{id:C,className:"sr-only"},m.translate("assessments.canvas.question.matching.headers.prompt",{pairNumber:E})),s.default.createElement(d.default,a.__assign({},this.props,{ariaLabelledBy:w,bbml:g.promptText.rawText,id:"prompt-"+g.id,isReadOnly:v,onChange:this.onPromptChange,placeholder:m.translate("assessments.canvas.question.matching.placeholders.prompt",{pairNumber:E}),toolbarSet:"minimal",ariaRequired:!0})))),y.isSmallBreakpoint()&&s.default.createElement("div",{className:"matching-prompt-answer-pair__element matching-prompt-answer-pair__element-answer-label "+(v?"":"field-required")},m.translate("assessments.canvas.question.matching.answerLabel")),s.default.createElement(r.default,a.__assign({},this.props,{isReadOnly:v,onEditorTextChange:this.onAnswerChange,onRemoveReusedAnswer:this.onRemoveReusedAnswer,pairNumber:n[t.ui.id]+1,prompt:g,reusedElsewherePair:b,text:t.answerText.rawText})),!v&&!y.isSmallBreakpoint()&&P,b&&s.default.createElement(l.default,{hidden:this.state.deleteReusedDialogHidden,onCancel:this.onDeleteCanceled,onContinue:this.onDelete,titleKey:"assessments.canvas.question.matching.dialogs.deleteReusedAnswer.title",textKey:"assessments.canvas.question.matching.dialogs.deleteReusedAnswer.text",cancelKey:"assessments.canvas.question.matching.dialogs.deleteReusedAnswer.button.cancel",continueKey:"assessments.canvas.question.matching.dialogs.deleteReusedAnswer.button.delete",analyticsId:"assessments.canvas.question.matching.dialogs.deleteReusedAnswer"}))},t}(s.Component);t.UnwrappedMatchingPromptAnswerPair=p,t.default=i.windowResizingResponsiveComponentWrapper(o.localizedComponentWrapper(t.UnwrappedMatchingPromptAnswerPair))},rZf7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Agfx");t.useStyles=a.makeStyles((function(e){return a.createStyles({base:{marginTop:"12px","& .bb-editor":{padding:"8px 0 0 !important"},"& .bb-editor-container":{margin:"0 !important"}},contentSection:{backgroundColor:e.palette.background.b3,borderRadius:"2px",padding:"12px"},contentToggle:{padding:"12px 0",display:"flex",alignItems:"center"},contentToggleIcon:{height:"8px",width:"8px",marginLeft:"8px"},sectionHeader:{display:"flex",alignItems:"center"},contentTitle:{},feedbackIcon:{marginRight:"8px"}})}))},scU2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("d6RO"));n("O761");var r=function(e){var t=e.content.deploymentSettings;return s.default.createElement(l,{settings:t,localize:e.localize,localizationPrefix:e.localizationPrefix})};r.propTypes={content:i.default.object.isRequired,localize:i.default.object.isRequired,localizationPrefix:i.default.string.isRequired};var l=function(e){var t=e.settings,n=t.isRandomizationOfQuestionsRequired,a=t.isRandomizationOfAnswersRequired,i=e.localizationPrefix+".canvas.subheader.isAnswersRandomized",o=e.localizationPrefix+".canvas.subheader.isQuestionsRandomized",r=e.localizationPrefix+".canvas.subheader.isBothRandomized";return n&&"ALWAYS"===a?s.default.createElement(u,{messageKey:r,localize:e.localize}):n?s.default.createElement(u,{messageKey:o,localize:e.localize}):"ALWAYS"===a?s.default.createElement(u,{messageKey:i,localize:e.localize}):null};l.propTypes={isRandomizationOfQuestionsRequired:i.default.bool,isRandomizationOfAnswersRequired:i.default.string,settings:i.default.object.isRequired,localize:i.default.object.isRequired,localizationPrefix:i.default.string.isRequired};var u=function(e){var t=e.messageKey;return s.default.createElement("div",null,s.default.createElement("div",{className:"assessment-subheader"},s.default.createElement(o.default,{text:e.localize.translate(t)})))};u.propTypes={messageKey:i.default.string,localize:i.default.object.isRequired},t.default=r},t6ux:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=n("nsO7"),i=n("a6r6"),o=n("JfV0");function r(e){var t=e.match(/[a-zA-Z]/gi);return!t||t.length<e.length}function l(e){return{name:e,maxValue:t.VARIABLE_DEFINITION_DEFAULT_MAX,minValue:t.VARIABLE_DEFINITION_DEFAULT_MIN,scale:t.VARIABLE_DEFINITION_DEFAULT_SCALE}}function u(e){return e?s.without.apply(void 0,a.__spreadArrays([e.match(/[a-zA-Z0-9]+(?=<\/mi>)/g)],i.WirisEditorInstanceUtils.DEFAULT_RESERVED_WORDS)):[]}function d(e){return e?e.map((function(e){return e.name})):[]}t.ANALYTICS_ID_PREFIX="assessments.canvas.question.calculatedFormula",t.STEP_ENUM={ONE:0,isStepOne:function(e){return e===t.STEP_ENUM.ONE},TWO:1,isStepTwo:function(e){return e===t.STEP_ENUM.TWO},THREE:2,isStepThree:function(e){return e===t.STEP_ENUM.THREE}},t.VARIABLE_DEFINITION_DEFAULT_MIN=0,t.VARIABLE_DEFINITION_DEFAULT_MAX=100,t.VARIABLE_DEFINITION_DEFAULT_SCALE=0,t.extractVariableCandidatesFromQuestionText=function(e){for(var t=/\[([^\s[\]]+)\]/gi,n=[],a=t.exec(e);null!=a;)1!==a.index&&"\\"===e.charAt(a.index-1)||n.push(a[1]),a=t.exec(e);return Array.from(new Set(n))},t.variableNameContainsNonLetterCharacters=r,t.isVariableAWirisEditorReservedWord=function(e){return i.WirisEditorInstanceUtils.DEFAULT_RESERVED_WORDS.includes(e)},t.getVariableDefinitionFromCandidate=l,t.getVariableDefinitionsFromCandidates=function(e){var t=new Set(e),n=[];return t.forEach((function(e){r(e)||n.push(l(e))})),n},t.questionTextHasUnclosedBrackets=function(e){var t=e.split(""),n=!1;return t.some((function(e,a){if(n&&"]"===e)n=!1;else{if(n){var s=e.match(/\s/i);return!!(s&&s.length>0)}"["===e&&(n=0===a||"\\"!==t[a-1])}return!1}))||n},t.generateVariableValues=function(e){var t={};return e.forEach((function(e){var n=e.minValue,a=e.maxValue,i=e.name,o=e.scale;t[i]=s.round(Math.random()*(a-n)+n,o)})),t},t.getVariablesFromMathML=u,t.getVariablesFromVariableDefinitions=d,t.haveVariablesChanged=function(e,t){return s.xor(d(e),d(t)).length>0},t.getUnrecognizedVariablesInAnswerFormula=function(e,t){return s.without.apply(void 0,a.__spreadArrays([u(e)],d(t)))},t.roundWithPrecision=function(e,t,n,a){var i=o.CalculatedFormulaAnswerPrecisionType.SignificantFigures,r=o.CalculatedFormulaAnswerPrecisionType.Decimal,l=o.CalculatedFormulaAnswerFormatType.Normal,u=o.CalculatedFormulaAnswerFormatType.Exponential;return n===l&&a===r?s.round(e,t):n===u&&a===r?parseFloat(e.toExponential(t)):a===i?parseFloat(e.toPrecision(t)):null},t.doesQuestionHaveVariables=function(e){var t=e.variableDefinitions;return null!=t&&t.length>0},t.getCorrectAnswerToleranceValue=function(e){return e&&e.value>0?e.value:null},t.getCorrectAnswerToleranceType=function(e){return e&&e.value>0?e.type:null},t.getAnswerTranslationKey=function(e,t,n,a){var s="";if(a&&n)s=t===o.CalculatedFormulaToleranceType.Numeric?"unitsAndAnswerTolerance":"unitsAndAnswerTolerancePercent";else if(a&&!n)s="units";else{if(a||!n)return null;s=t===o.CalculatedFormulaToleranceType.Numeric?"answerTolerance":"answerTolerancePercent"}return e+"."+s}},t70R:function(e,t,n){},tMbR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n("ERkP"),s=n("ubfy"),i=n("np6O"),o=n("dIht"),r=n("O94r"),l=n("In+A"),u=n("Hj9i"),d=n("85Zk");t.GuidanceFeatureAnnouncement=e=>{const{title:t,content:n,componentKey:c,linkHref:f,linkText:p,buttonAriaLabel:m,doneButtonText:g}=e,h=d.useStyles(),[_,b]=a.useState(!1),[y,v]=u.useShowGuidance(`guidance.featureAnnouncement.${c}`);if(!y&&!_)return null;const E={id:`guidance-react_feature-announcement_${c}`,selector:".feature-announcement__icon-button",title:t,content:n};return f&&p&&(E.link=a.createElement(s.AnalyticsTourContentLink,{analyticsId:"guidance.featureAnnouncement.link",href:f,target:"_blank"},p)),a.createElement("div",null,a.createElement(i.AnalyticsIconButton,{analyticsId:"guidance.featureAnnouncement.icon-button","aria-label":m,className:r.default("feature-announcement__icon-button",!_&&h.animatedIconButton),onClick:()=>((e,t)=>{l.guidanceManager.stopQueue(),e(!0),t()})(b,v),onFocus:e=>e.stopPropagation()},a.createElement(o.Lightbulb,{className:h.icon})),a.createElement(s.AnalyticsTour,{analyticsId:"guidance.featureAnnouncement.tour",open:_,steps:[E],onClose:()=>(e=>{e(!1),l.guidanceManager.startQueue()})(b),showHighlight:!1,showBackdrop:!1,strings:{doneSingleText:g}}))}},"uh+7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("M0dR"),l=n("j92x"),u=n("hHCp"),d=n("JfV0"),c=n("t6ux"),f=n("3ZJq"),p=a.__importDefault(n("Pfoe")),m=n("/R3Y");n("S0GT"),t.CLASS_PREFIX="calculated-formula-question-read";var g="assessments.canvas.question.calculatedFormula.readOnly",h=function(e){function n(n){var a=e.call(this,n)||this;return a.getAnswerToleranceDisplayInfo=function(){var e=a.props.localize,n=a.props.question.correctAnswerTolerance,i=n.type===d.CalculatedFormulaToleranceType.Numeric?"answerToleranceDisplayInfoNumeric":"answerToleranceDisplayInfoPercent";return s.default.createElement("div",{className:m.removeExtraWhitespace("\n                    "+t.CLASS_PREFIX+"__precision-scoring-display-info\n                    "+t.CLASS_PREFIX+"__precision-scoring-display-info--full-credit\n                ")},e.translate(g+"."+i,{answerToleranceValue:n.value}))},a.getPartialCreditDisplayInfo=function(){var e=a.props.localize,n=a.props.question,i=n.partialCreditTolerance,o=n.partialCreditPointsPercent,r=i.type===d.CalculatedFormulaToleranceType.Numeric?"partialCreditDisplayInfoNumeric":"partialCreditDisplayInfoPercent";return s.default.createElement("div",{className:m.removeExtraWhitespace("\n                    "+t.CLASS_PREFIX+"__precision-scoring-display-info\n                    "+t.CLASS_PREFIX+"__precision-scoring-display-info--partial-credit\n                ")},s.default.createElement("span",null,e.translate(g+"."+r,{answerToleranceValue:i.value})),s.default.createElement("span",{className:t.CLASS_PREFIX+"__precision-scoring-display-info--partial-credit-points-percent"},e.translate(g+".partialCreditDisplayInfoPointsPercent",{partialCreditPointsPercent:o})))},a.getVariablesRange=function(){var e=a.props,n=e.question,i=e.localize;return s.default.createElement("div",{className:t.CLASS_PREFIX+"__variables-range"},n.variableDefinitions.map((function(e){var n=i.translate(g+".variableRangeRow",{name:e.name,min:e.minValue,max:e.maxValue});return s.default.createElement("div",{key:e.name,className:t.CLASS_PREFIX+"__variables-range--row",dangerouslySetInnerHTML:{__html:n}})})))},a.getAnswerSettingsSection=function(e,n){var i=a.props.localize;return s.default.createElement("div",{className:t.CLASS_PREFIX+"__answer-settings-section"},s.default.createElement(r.AnalyticsTypography,{component:"h5",variant:"h4"},i.translate(e)),n)},a.getAnswerSettingsContent=function(e){var n=a.props,i=n.localize,o=n.question;return s.default.createElement("div",{className:t.CLASS_PREFIX+"__answer-settings-content",id:e},a.getAnswerSettingsSection(g+".answerFormatLabel",s.default.createElement("div",{className:t.CLASS_PREFIX+"__answer-format"},o.correctAnswerFormat===d.CalculatedFormulaAnswerFormatType.Normal?i.translate("assessments.canvas.question.calculatedFormula.stepTwo.answerFormat.normalOption"):i.translate("assessments.canvas.question.calculatedFormula.stepTwo.answerFormat.exponentialOption"))),a.getAnswerSettingsSection(g+".roundingLabel",s.default.createElement("div",{className:t.CLASS_PREFIX+"__rounding"},o.correctAnswerPrecision===d.CalculatedFormulaAnswerPrecisionType.Decimal?i.translate(g+".roundingDecimalPlaces",{roundingCount:o.answerScale}):i.translate(g+".roundingSignificantFigures",{roundingCount:o.answerScale}))),a.getAnswerSettingsSection(g+".precisionScoringOptionsLabel",s.default.createElement(s.default.Fragment,null,s.default.createElement(l.Checkbox,{analyticsId:c.ANALYTICS_ID_PREFIX+".read.correctAnswerTolerance.checkbox",checked:o.correctAnswerTolerance&&o.correctAnswerTolerance.value>0,className:t.CLASS_PREFIX+"__precision-scoring__full-credit-checkbox",disabled:!0,label:i.translate("assessments.canvas.question.calculatedFormula.stepTwo.precisionScoring.fullCreditLabel")}),o.correctAnswerTolerance&&o.correctAnswerTolerance.value>0&&a.getAnswerToleranceDisplayInfo(),s.default.createElement(l.Checkbox,{analyticsId:c.ANALYTICS_ID_PREFIX+".read.partialAnswerTolerance.checkbox",checked:o.allowPartialCredit,className:t.CLASS_PREFIX+"__precision-scoring__partial-credit-checkbox",disabled:!0,label:i.translate("assessments.canvas.question.calculatedFormula.stepTwo.precisionScoring.partialCreditLabel")}),o.allowPartialCredit&&a.getPartialCreditDisplayInfo())),o.variableDefinitions&&a.getAnswerSettingsSection("assessments.canvas.question.calculatedFormula.stepTwo.variableRanges.title",a.getVariablesRange()),a.getAnswerSettingsSection("assessments.canvas.question.calculatedFormula.stepTwo.variableSetCount.title",s.default.createElement("div",{className:t.CLASS_PREFIX+"__answer-set-count"},o.variableSetCount)))},a.state={isAnswerSettingsExpanded:!1},a}return a.__extends(n,e),n.prototype.render=function(){var e=this,n=this.props,a=n.question,i=n.localize,o=this.state.isAnswerSettingsExpanded,l="calculated-question-readonly-answer-settings-toggle_"+a.id,d=o?"hideSettingsText":"showSettingsText";return s.default.createElement("div",{className:t.CLASS_PREFIX},s.default.createElement(p.default,{bbml:a.questionText.rawText,id:a.id+"-read-preview",isReadOnly:!0}),s.default.createElement("img",{className:t.CLASS_PREFIX+"__formula-image",src:a.mathMLImageURL,alt:a.mathMLImageAltText}),s.default.createElement(r.AnalyticsTypography,{component:"h4",variant:"h4"},s.default.createElement("button",{className:t.CLASS_PREFIX+"__answer-settings-toggle-button",onClick:function(){e.setState((function(e){return{isAnswerSettingsExpanded:!e.isAnswerSettingsExpanded}}))},type:"button","aria-label":i.translate(g+".answerSettingsToggleButton.ariaLabel"),"aria-expanded":o,"aria-controls":o?l:null},s.default.createElement("span",null,i.translate(g+".answerSettingsToggleButton."+d)),s.default.createElement(u.SvgIcon,{iconName:"arrow-"+(o?"up":"down"),iconSize:"small"}))),this.state.isAnswerSettingsExpanded&&this.getAnswerSettingsContent(l),s.default.createElement(f.AutomatedQuestionFeedbackRead,{className:t.CLASS_PREFIX+"__automated-feedback",question:a}))},n.propTypes={question:i.default.object.isRequired,localize:i.default.object.isRequired},n}(s.Component);t.BaseCalculatedFormulaQuestionRead=h,t.default=o.localizedComponentWrapper(h)},umMl:function(e,t,n){},"vN+o":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("2yjE")),o=a.__importDefault(n("RtIR"));t.getPluggableQuestionHeaderProps=function(e,t){var n=e.alignedGoals,a=e.localize,s=e.question,i=e.questionTitle,r=o.default("goal",s,i);return{alignedGoals:n,analyticsId:"assessments.canvas.question.header",canEnterEditMode:e.canEnterEditMode,deleteQuestion:e.deleteQuestion,disableFocus:e.disableFocus,disableInteraction:e.disableInteraction,editMode:e.editMode,focusTitle:e.focusTitle,goalAriaLabel:a.translate(r.string,{relatedContent:r.relation}),hasAlignedGoals:n&&n.length>0,hasQuestionEditPermissions:e.hasQuestionEditPermissions,hasSubmissions:e.hasSubmissions,hideEditPoints:s.externallyReferencedQuestion,header:e.customQuestionHeader,hideFullCreditCheckbox:!1,id:s.id,onPointsClick:e.startEditMode,onQuestionChange:t,openGoals:e.openGoals,points:s.points,question:s,questionTitle:i,startEditMode:e.startEditMode}},t.default=function(e){return s.default.createElement(s.default.Fragment,null,e.header?e.header(e):s.default.createElement(i.default,a.__assign({},e)))}},vQw2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ReactGuidanceComponent=class{constructor(e,t){this.shownStateChanged=e,this.shown=!1,this.viewed=!1,this.onShown=()=>{this.setShown(!0)},this.onHidden=e=>{this.setShown(!1),e||this.markViewed()},this.markViewed=()=>{this.viewed=!0},this.componentKey=t}shouldShow(){return Promise.resolve(!this.viewed)}setShown(e){this.shown=e,this.shownStateChanged(e)}}},vUO3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=n("9OUN"),o=n("JfV0"),r=n("uDfI"),l=n("8unJ"),u=a.__importDefault(n("aWzz")),d=n("TUnR"),c=function(e){function t(){var t=e.call(this)||this;return t.onFtueDismiss=function(){var e=t.props,n=e.ftueKey,a=e.ftuePreference;(0,e.persistUserPreference)({key:n,value:(a||{key:n,value:0}).value+1})},t.state={isShowingFtue:!1},t}return a.__extends(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.ftueKey;(0,e.loadUserPreference)({key:t})},t.prototype.componentWillReceiveProps=function(e){var t=!(e.isLoading||e.ftuePreference&&0!==e.ftuePreference.value);this.setState((function(){return{isShowingFtue:t}}))},t.prototype.render=function(){var e=this.props,t=e.ftueElement,n=e.ftueMessageKey,a=e.localize;if(this.state.isShowingFtue){var i=a.translate("assessments.common.button.close");return s.default.createElement(d.GuidanceTeachingBubble,{componentKey:n,targetElement:t,onDismiss:this.onFtueDismiss,closeButtonAriaLabel:i,analyticsId:"assessments.common.button.close"},a.translate(n))}return null},t.propTypes={ftueKey:u.default.string.isRequired,ftueElement:u.default.object,ftueMessageKey:u.default.string.isRequired,ftuePreference:u.default.object,isLoading:u.default.bool.isRequired,loadUserPreference:u.default.func.isRequired,persistUserPreference:u.default.func.isRequired,localize:u.default.object.isRequired},t}(s.default.Component);t.Ftue=c;var f=r.connect((function(e,t){return{ftuePreference:o.select.userPreference.getUserPreferenceByKey(e,t.ftueKey),isLoading:o.select.userPreference.isUserPreferenceLoading(e)}}),(function(e){return i.bindActionCreators({loadUserPreference:o.actions.userPreference.loadUserPreference,persistUserPreference:o.actions.userPreference.persistUserPreference},e)}))(c);t.default=l.localizedComponentWrapper(f)},vu2V:function(e,t,n){},wNNv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("76kz"),r=n("t3aq"),l=n("t9Ny"),u=n("AY8y"),d=n("JfV0"),c=a.__importDefault(n("PCGI")),f=a.__importDefault(n("gTAB")),p=a.__importDefault(n("ZfLe")),m=a.__importStar(n("AiU9")),g=a.__importStar(n("OPED")),h=n("b0Dq"),_=n("gk+Q"),b=n("aPd7"),y=n("5B29"),v=n("Vng8");n("in1o");var E=function(e){function t(t){var n=e.call(this,t)||this;n.setupFileAttachmentMenuOptions=function(){var e=n.props,t=e.context,a=e.localize,s=e.question;if(n.isFileAttachment&&n.fileViewer){var i=n.props.dropDownMenuOptionsOverrides||[],o=n.fileViewer._setupContextMenu().items.filter((function(e){return-1!==["viewFile","downloadFile"].indexOf(e.key)}));t.isAllyAvailable&&(o.push({key:"instructorfeedback",iconProps:{iconName:"ally-score",iconSize:"small"},name:a.translate("assessments.canvas.question.overflowOptions.viewAxFeedback"),additionalAttributes:{"data-ally-show":"instructorfeedback","data-ally-content-ref":s.id,"data-ally-invoke":"instructorfeedback"},style:{display:"none"}}),o.push({key:"alternativeformats",iconProps:{iconName:"ally-download",iconSize:"small"},name:a.translate("assessments.canvas.question.overflowOptions.alternativeFormats"),additionalAttributes:{"data-ally-show":"alternativeformats","data-ally-content-ref":s.id,"data-ally-invoke":"alternativeformats"},style:{display:"none"}})),n.setState({overflowMenuOptionOverrides:i.concat(o)})}},n.onQuestionChange=function(e,t,a){n.props.onQuestionChange(e,v.hasPresentationQuestionChanged,t,a)},n.saveFileSettings=function(e){n.setState((function(){return{isShowingFileSettingsDialog:!1}}));var t=e.resourceUrl,s=_.convertSettingsToBbfile(e),i=_.prepareFileMetadata(t,s),o=a.__assign(a.__assign({},n.props.question),{questionText:{rawText:b.createFileLink(i)}});n.props.onQuestionChange(o,n.props.onQuestionSave,!1)},n.hideFileSettingsDialog=function(){n.setState((function(){return{isShowingFileSettingsDialog:!1}}))},n.startEditMode=function(){var e=n.props.startEditMode;n.isFileAttachment?n.setState((function(){return{isShowingFileSettingsDialog:!0}})):e()},n.getFileViewerWidgets=function(){var e=n.props,t=e.localize,a=e.question;return s.default.createElement("div",{className:"presentation-only__file-content__widget-wrapper"},s.default.createElement("span",{className:"presentation-only__file-content__widget-wrapper__score-indicator","data-ally-content-ref":a.id,"data-ally-show":"instructorfeedback"},s.default.createElement(r.AllyWidget,{contentRef:a.id,widgetType:r.WidgetType.ScoreIndicator})),s.default.createElement("span",{className:"presentation-only__file-content__widget-wrapper__alt-formats","data-ally-content-ref":a.id,"data-ally-show":"alternativeformats"},s.default.createElement(r.AllyWidget,{contentRef:a.id,widgetType:r.WidgetType.AlternativeFormats,ariaLabel:t.translate("assessments.canvas.question.overflowOptions.alternativeFormats")})))},n.renderFile=function(){var e=n.props,t=e.question,i=e.context,d=h.getFileViewerPropsArray(t),c=d[0].file,f={"data-ally-content-id":t.id,"data-ally-file-eid":n.xythosId,"data-ally-file-preview-url":n.resourceUrl},p=o.isImageFile(o.getMediaType(c))&&o.canFileBeRenderedInline(c)&&(o.isFileDisplayedInline(c)||n.state.isMediaPreviewVisible);return s.default.createElement("div",{className:"presentation-only__file-content"},!p&&s.default.createElement(r.AllyContentId,{contentId:t.id,fileId:n.xythosId,filePreviewUrl:n.resourceUrl}),s.default.createElement(l.FileViewer,a.__assign({},d[0],{ref:function(e){n.fileViewer=null!=e?e.wrappedComponent:null},widgets:i.isAllyAvailable&&n.getFileViewerWidgets(),inlineMediaAdditionalAttributes:p?f:{},onToggleMediaPreview:function(e){return n.setState({isMediaPreviewVisible:e})}})),s.default.createElement(u.FilePropertyDialog,{file:c,hidden:!n.state.isShowingFileSettingsDialog,onCancel:n.hideFileSettingsDialog,onSave:n.saveFileSettings}))},n.renderText=function(){return s.default.createElement(g.default,a.__assign({},g.getQuestionTextProps(n.props,n.onQuestionChange)))},n.state={isShowingFileSettingsDialog:!1,overflowMenuOptionOverrides:[],isMediaPreviewVisible:!1};var i=n.props,c=i.question,f=i.context;n.isFileAttachment=d.Questions.isFileAttachment(c);var p=[];return n.isFileAttachment&&(p=h.getFileViewerPropsArray(c)),n.isFileAttachment&&1===p.length&&(n.resourceUrl=p[0].file.resourceUrl,n.xythosId=f.allyService.getXythosIdFromContentFileUrl(n.resourceUrl),f.isAllyAvailable&&f.allyService.update(f.contentId,n.xythosId)),n}return a.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editMode,a=t.question,s=t.setActiveEditorId,i=e.editMode;f.default.isInactive(i)&&f.default.isActive(n)&&s(a.id)},t.prototype.componentWillMount=function(){this.setupFileAttachmentMenuOptions()},t.prototype.render=function(){var e=this.props,t=e.editMode,n=e.question;return s.default.createElement("div",{className:"presentation-only"},s.default.createElement(c.default,{editMode:t,question:n},s.default.createElement(m.default,a.__assign({},m.getQuestionControlProps(this.props),{dropDownMenuOptionsOverrides:this.state.overflowMenuOptionOverrides,updateDropdownMenuOptions:this.setupFileAttachmentMenuOptions,startEditMode:this.startEditMode})),this.isFileAttachment?this.renderFile():this.renderText()))},t.propTypes={activeEditorId:i.default.string,canEnterEditMode:i.default.bool.isRequired,deleteQuestion:i.default.func.isRequired,disableFocus:i.default.bool,dropDownMenuOptionsOverrides:i.default.array,editMode:i.default.number.isRequired,editorPlugins:i.default.array,onQuestionChange:i.default.func.isRequired,question:i.default.object.isRequired,refreshBbml:i.default.bool.isRequired,setActiveEditorId:i.default.func.isRequired,showQuestionControls:i.default.bool.isRequired,startEditMode:i.default.func.isRequired,pluginsConfig:i.default.object.isRequired,localize:i.default.object.isRequired,context:i.default.object.isRequired,onQuestionSave:i.default.func.isRequired,localizationPrefix:i.default.string.isRequired},t}(s.Component);t.PresentationOnly=E;var C=p.default(y.withAssessmentPanelContext(E));t.default=C},wXu7:function(e,t,n){},xWTz:function(e,t,n){},xyjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("nsO7")),i=n("MC1S"),o=n("JfV0"),r=n("8unJ"),l=a.__importDefault(n("aWzz")),u=a.__importDefault(n("ERkP")),d=a.__importDefault(n("RtIR")),c=a.__importDefault(n("j9WP")),f=a.__importDefault(n("On2X")),p=n("2yjE");n("jLgm");var m={iconName:"arrow-down",iconSize:"small"},g=function(e){function t(){var t=e.call(this)||this;return t.checkbox=null,t.onSelectQuestion=function(){var e=t.props,n=e.onSelectQuestion,a=e.question,s=e.selected;n(a.id,s)},t.toggleExpanded=function(){return t.setState((function(e){return{expanded:!e.expanded}}))},t.getToggleButtonAriaLabel=function(){var e=d.default("toggleView",t.props.question,null,"questionPicker");return t.props.localize.translate(e.string,{relatedContent:e.relation})},t.getQuestionTitle=function(e,t){var n="questionPicker.typeLabels."+e.questionType;return e.subType&&(n+="."+e.subType),t.translate(n)},t.state={expanded:!1},t}return a.__extends(t,e),t.prototype.componentDidUpdate=function(){this.checkbox&&this.props.focused&&this.checkbox.focus()},t.prototype.render=function(){var e=this,t=this.props,n=t.courseId,a=t.question,r=t.localize,l=t.selected,d=t.sourceHeaderId,g=t.localizationPrefix,h=this.state.expanded,_=o.Questions.isPresentationOnly(a),b=this.getQuestionTitle(a,r),y=h?"--expanded":"--collapsed",v="selectable-question"+a.id,E="selectable-question-wrapper"+a.id,C="bb-editor"+a.id+" "+d+" ",w=""+p.QUESTION_TITLE_ID_PREFIX+a.id;return u.default.createElement("div",{id:v,className:"selectable-question selectable-question"+y},u.default.createElement(i.Checkbox,{className:"selectable-question__checkbox",checked:l,onChange:this.onSelectQuestion,ariaLabelledBy:C,ariaDescribedBy:w,componentRef:function(t){e.checkbox=t},analyticsId:"selectableQuestion.checkbox"}),u.default.createElement("div",{id:E,className:"selectable-question__question-wrapper"},_&&u.default.createElement("div",{className:"question-header"},u.default.createElement("h3",{id:""+p.QUESTION_TITLE_ID_PREFIX+a.id,className:"question-header__title"},b)),h?u.default.createElement(c.default,{courseId:n,question:a,questionTitle:b,alignedGoals:a.alignedGoals,questionBeingEditedId:null,isAnyQuestionDirty:!1,onQuestionEdit:s.noop,onQuestionMadeDirty:s.noop,persistQuestion:s.noop,deleteQuestion:s.noop,openGoals:s.noop,pluginsConfig:{},hasSubmissions:!0,hasAssessmentModifyPermissions:!1,dragButtonAriaLabel:"",dragPointRef:s.noop,disableFocus:!0,localizationPrefix:g}):u.default.createElement(f.default,{id:a.id,question:this.props.question,questionTitle:_?null:b})),u.default.createElement(i.IconButton,{onClick:this.toggleExpanded,className:"selectable-question__question-toggle selectable-question__question-toggle"+y,iconProps:m,"aria-labelledby":C,"aria-expanded":h,"aria-controls":E,analyticsId:"selectableQuestion.toggle.button"}))},t.propTypes={courseId:l.default.string.isRequired,localize:l.default.object.isRequired,onSelectQuestion:l.default.func.isRequired,question:l.default.object.isRequired,sourceHeaderId:l.default.string,focused:l.default.bool,selected:l.default.bool.isRequired,localizationPrefix:l.default.string.isRequired},t}(u.default.Component);t.UnwrappedSelectableQuestion=g,t.default=r.localizedComponentWrapper(g)},xzbH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importStar(n("ERkP")),i=a.__importDefault(n("aWzz")),o=n("8unJ"),r=n("JfV0"),l=n("MC1S"),u=n("caKH");n("BXTk");var d=function(e){function t(t){var n=e.call(this,t)||this;return n.onPatternChange=function(e){n.state.patternHasBeenTested&&n.setState({answerValue:"",answerHasBeenTested:!1,patternHasBeenTested:!1,answerMatchesPattern:!1,patternIsValid:!1}),n.setState({patternValue:e})},n.onAnswerChange=function(e){n.setState({answerMatchesPattern:!1,answerHasBeenTested:!1,answerValue:e})},n.getPatternErrorMessage=function(){return n.state.patternHasBeenTested&&!n.state.patternIsValid?n.props.localize.translate("assessments.canvas.question.fimb.patternMatchHelper.patternError"):""},n.getAnswerErrorMessage=function(){return n.state.answerHasBeenTested&&!n.state.answerMatchesPattern?n.props.localize.translate("assessments.canvas.question.fimb.patternMatchHelper.answerError"):""},n.cancel=function(){n.props.onClose()},n.save=function(){n.props.onSave(n.state.patternValue),n.props.onClose()},n.testPattern=function(){r.checkPattern(n.props.courseId,n.props.assessmentId,n.state.patternValue).then((function(e){n.setState({patternIsValid:e.result,patternHasBeenTested:!0})}))},n.testAnswer=function(){r.checkPatternAnswer(n.props.courseId,n.props.assessmentId,n.state.patternValue,n.state.answerValue).then((function(e){n.setState({answerMatchesPattern:e.result,answerHasBeenTested:!0})}))},n.getHelpLinkElement=function(){var e="https://help.blackboard.com/001_569"+(n.props.currentLocale&&"en"!==n.props.currentLocale?n.props.currentLocale.replace("-","_"):"en_US");return s.default.createElement(l.Link,{href:e,ariaLabel:n.props.localize.translate("assessments.canvas.question.fimb.patternMatchHelper.helpLinkAriaLabel"),target:"_blank"},n.props.localize.translate("assessments.canvas.question.fimb.patternMatchHelper.helpLink"))},n.state={patternValue:n.props.initialPatternValue||"",answerValue:"",patternIsValid:!1,answerMatchesPattern:!1,patternHasBeenTested:!1,answerHasBeenTested:!1},n}return a.__extends(t,e),t.prototype.render=function(){var e=this.props.localize.translate;return s.default.createElement(u.UltraModalDialog,{hidden:!1,className:"test-pattern",dialogContentProps:{type:l.DialogType.fullHeaderFooter,title:e("assessments.canvas.question.fimb.patternMatchHelper.title"),showCloseButton:!1}},s.default.createElement("div",{className:"test-pattern__section-wrapper test-pattern__section-wrapper--first"},s.default.createElement("div",{className:"test-pattern__text-field"},s.default.createElement(l.TextField,{label:e("assessments.canvas.question.fimb.patternMatchHelper.patternLabel"),value:this.state.patternValue||"",required:!0,valid:this.state.patternHasBeenTested&&this.state.patternIsValid,onChanged:this.onPatternChange,errorMessage:this.getPatternErrorMessage(),analyticsId:"assessments.canvas.question.fimb.patternMatchHelper.patternLabel"})),s.default.createElement("div",{className:"test-pattern__button"},s.default.createElement(l.Button,{disabled:0===this.state.patternValue.length||this.state.patternHasBeenTested,onClick:this.testPattern,analyticsId:"assessments.canvas.question.fimb.patternMatchHelper.testButton"},e("assessments.canvas.question.fimb.patternMatchHelper.testButton")))),this.state.patternHasBeenTested&&this.state.patternIsValid&&s.default.createElement("div",{className:"test-pattern__section-wrapper"},s.default.createElement("div",{className:"test-pattern__text-field"},s.default.createElement(l.TextField,{label:e("assessments.canvas.question.fimb.patternMatchHelper.answerLabel"),valid:this.state.answerMatchesPattern,required:!0,onChanged:this.onAnswerChange,errorMessage:this.getAnswerErrorMessage(),analyticsId:"assessments.canvas.question.fimb.patternMatchHelper.answerLabel"})),s.default.createElement("div",{className:"test-pattern__button"},s.default.createElement(l.Button,{disabled:0===this.state.answerValue.length||this.state.answerHasBeenTested,onClick:this.testAnswer,analyticsId:"assessments.canvas.question.fimb.patternMatchHelper.patternHasBeenTested.testButton"},e("assessments.canvas.question.fimb.patternMatchHelper.testButton")))),s.default.createElement(l.DialogFooter,{helpLink:this.getHelpLinkElement()},s.default.createElement(l.DefaultButton,{onClick:this.cancel,text:e("assessments.canvas.question.fimb.patternMatchHelper.cancelButton"),analyticsId:"assessments.canvas.question.fimb.patternMatchHelper.cancelButton"}),s.default.createElement(l.PrimaryButton,{disabled:!this.state.patternHasBeenTested||!this.state.patternIsValid,onClick:this.save,text:e("assessments.canvas.question.fimb.patternMatchHelper.saveButton"),analyticsId:"assessments.canvas.question.fimb.patternMatchHelper.saveButton"})))},t.propTypes={localize:i.default.object,currentLocale:i.default.string,initialPatternValue:i.default.string,onClose:i.default.func,onSave:i.default.func,assessmentId:i.default.string,courseId:i.default.string},t}(s.Component),c=o.localizedComponentWrapper(d);t.default=c},y3re:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=n("JfV0"),i=n("C9HY");t.shouldShowFeatureAnnouncement=function(e,t){var n;return null!==(n=e&&e[t])&&void 0!==n&&n};var o=function(){function e(e){this.questions=e,this.questionIdToAnnounceAutomatedFeedbackFeature=this.getQuestionIdForAutomatedFeedbackFeature()}return e.prototype.getQuestionFeatureAnnouncements=function(){var e=this;return this.questions.reduce((function(t,n){var s,o=n.id;return o===e.questionIdToAnnounceAutomatedFeedbackFeature&&(t[o]=a.__assign(a.__assign({},t[o]),((s={})[i.FEATURE_ANNOUNCEMENT_KEY]=!0,s))),t}),{})},e.prototype.getQuestionIdForAutomatedFeedbackFeature=function(){var e,t=s.QuestionType.Essay,n=s.QuestionType.PresentationOnly,a=this.questions.find((function(e){return!t.isEqualTo(e.questionType)&&!n.isEqualTo(e.questionType)}));return null!==(e=a&&a.id)&&void 0!==e?e:""},e}();t.FeatureAnnouncementsHelper=o},yETo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Agfx");t.useStyles=a.makeStyles((function(e){var t;return a.createStyles({base:{marginTop:"24px"},contentSection:{paddingTop:"6px"},contentToggle:{borderBottom:"1px solid "+(null===(t=e.palette.border)||void 0===t?void 0:t.main),marginBottom:"10px",padding:"12px 0",width:"100%",display:"flex",justifyContent:"space-between"},sectionHeader:{},sectionTitle:{}})}))},ytrv:function(e,t,n){},yxoV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("gTAB")),o=a.__importDefault(n("O55a")),r=a.__importDefault(n("C9HY"));t.default=function(e){var t=e.editMode,n=e.onQuestionChange,a=e.question,l=e.setActiveEditorId,u=e.activeEditorId,d=e.showFeatureAnnouncement;return s.default.createElement(s.default.Fragment,null,i.default.isInactive(t)?s.default.createElement(o.default,{question:a}):s.default.createElement(r.default,{onQuestionChange:n,question:a,activeEditorId:u,setActiveEditorId:l,showFeatureAnnouncement:d}))}},z01z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("D57K"),s=a.__importDefault(n("ERkP")),i=a.__importDefault(n("aWzz")),o=a.__importDefault(n("Pfoe")),r=n("3ZJq");n("OfVW");var l=function(e){var t=e.answersInfo,n=e.answersInfoLabel,a=e.localize,i=e.question,l=e.questionTextClassName,u="assessments.canvas.question.trueFalse";return s.default.createElement("div",{className:"readonly-true-false-question"},s.default.createElement("div",{className:l},s.default.createElement(o.default,{id:i.id,bbml:i.questionText.rawText,isReadOnly:!0,refreshBbml:!0})),s.default.createElement("div",{className:"readonly-answer__container"},t&&s.default.createElement("span",{className:"readonly-answer__info-label readonly-answer__info"},n)),s.default.createElement("ol",{className:"readonly-true-false-question__list"},s.default.createElement("li",{className:"readonly-true-false-question__li readonly-answer__container"},s.default.createElement("div",{className:"readonly-true-false-question__answers readonly-answer__main"},s.default.createElement("span",{className:"readonly-true-false-question__text"},a.translate(u+"."+i.answerType+".true")),i.answer&&s.default.createElement("span",{className:"readonly-true-false-question__correct"},a.translate(u+".correctAnswer"))),t&&s.default.createElement("div",{className:"readonly-true-false-question__answers-info readonly-answer__info"},t[0])),s.default.createElement("li",{className:"readonly-true-false-question__li readonly-answer__container"},s.default.createElement("div",{className:"readonly-true-false-question__answers readonly-answer__main"},s.default.createElement("span",{className:"readonly-true-false-question__text"},a.translate(u+"."+i.answerType+".false")),!i.answer&&s.default.createElement("span",{className:"readonly-true-false-question__correct"},a.translate(u+".correctAnswer"))),t&&s.default.createElement("div",{className:"readonly-true-false-question__answers-info readonly-answer__info"},t[1]))),s.default.createElement(r.AutomatedQuestionFeedbackRead,{question:i}))};l.propTypes={answersInfo:i.default.array,answersInfoLabel:i.default.string,localize:i.default.object.isRequired,question:i.default.object.isRequired,questionTextClassName:i.default.string.isRequired},t.default=l},zKpB:function(e,t,n){},ztHM:function(e,t,n){}}]);